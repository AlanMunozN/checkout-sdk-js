{"version":3,"sources":["webpack:///webpack/bootstrap f24f7e7018a63ad04ddf","webpack:///external \"tslib\"","webpack:///external \"@bigcommerce/data-store\"","webpack:///./src/common/error/errors/index.ts","webpack:///./src/common/selector/index.ts","webpack:///external \"lodash\"","webpack:///external \"rxjs/Observable\"","webpack:///./src/payment/strategies/payment-strategy.ts","webpack:///./src/checkout/index.ts","webpack:///./src/payment/errors/index.ts","webpack:///external \"@bigcommerce/request-sender\"","webpack:///./src/common/utility/index.ts","webpack:///./src/cart/index.ts","webpack:///./src/common/error/errors/standard-error.ts","webpack:///./src/payment/index.ts","webpack:///./src/quote/quote-action-types.ts","webpack:///./src/coupon/index.ts","webpack:///./src/order/index.ts","webpack:///./src/quote/index.ts","webpack:///./src/customer/customer-action-types.ts","webpack:///./src/customer/index.ts","webpack:///./src/payment/payment-status-types.ts","webpack:///./src/remote-checkout/index.ts","webpack:///./src/billing/index.ts","webpack:///./src/shipping/shipping-address-action-types.ts","webpack:///./src/shipping/shipping-option-action-types.ts","webpack:///./src/config/index.ts","webpack:///./src/customer/strategies/customer-strategy.ts","webpack:///./src/geography/index.ts","webpack:///./src/shipping/index.ts","webpack:///./src/billing/billing-address-action-types.ts","webpack:///./src/coupon/coupon-action-types.ts","webpack:///./src/coupon/gift-certificate-action-types.ts","webpack:///external \"@bigcommerce/script-loader\"","webpack:///./src/common/registry/index.ts","webpack:///./src/common/error/errors/request-error.ts","webpack:///./src/order/order-actions.ts","webpack:///./src/order/map-to-internal-incomplete-order.ts","webpack:///./src/address/index.ts","webpack:///./src/remote-checkout/methods/amazon-pay/index.ts","webpack:///./src/payment/is-vaulted-instrument.ts","webpack:///./src/payment/strategies/braintree/index.ts","webpack:///./src/shipping/shipping-strategy-actions.ts","webpack:///./src/shipping/strategies/shipping-strategy.ts","webpack:///./src/payment/instrument/index.ts","webpack:///./src/checkout/checkout-client.ts","webpack:///./src/checkout/checkout-service.ts","webpack:///./src/common/selector/selector-decorator.ts","webpack:///./src/common/utility/omit-deep.ts","webpack:///./src/checkout/create-checkout-client.ts","webpack:///./src/cart/cart-action-types.ts","webpack:///./src/cart/cart-comparator.ts","webpack:///./src/cart/map-to-internal-cart.ts","webpack:///./src/cart/map-to-internal-line-items.ts","webpack:///./src/cart/map-to-internal-line-item.ts","webpack:///./src/config/config-actions.ts","webpack:///./src/quote/map-to-internal-quote.ts","webpack:///./src/remote-checkout/remote-checkout-action-types.ts","webpack:///./src/payment/payment-action-creator.ts","webpack:///./src/payment/payment-action-types.ts","webpack:///./src/payment/payment-method-action-creator.ts","webpack:///./src/payment/payment-method-action-types.ts","webpack:///./src/payment/payment-request-sender.ts","webpack:///./src/payment/payment-strategy-registry.ts","webpack:///./src/order/errors/index.ts","webpack:///./src/remote-checkout/errors/index.ts","webpack:///./src/payment/strategies/credit-card-payment-strategy.ts","webpack:///./src/payment/strategies/braintree/braintree-payment-processor.ts","webpack:///./src/payment/strategies/braintree/braintree-visacheckout-payment-processor.ts","webpack:///./src/payment/strategies/braintree/braintree-script-loader.ts","webpack:///./src/payment/strategies/braintree/braintree-sdk-creator.ts","webpack:///./src/payment/strategies/square/index.ts","webpack:///./src/payment/payment-strategy-actions.ts","webpack:///./src/payment/payment-strategy-state.ts","webpack:///./src/customer/customer-action-creator.ts","webpack:///./src/customer/map-to-internal-customer.ts","webpack:///./src/customer/customer-strategy-actions.ts","webpack:///./src/geography/country-action-types.ts","webpack:///./src/shipping/shipping-address-action-creator.ts","webpack:///./src/shipping/shipping-option-action-creator.ts","webpack:///./src/shipping/shipping-country-action-types.ts","webpack:///./src/shipping/map-to-internal-shipping-options.ts","webpack:///./src/shipping/map-to-internal-shipping-option.ts","webpack:///./src/common/log/index.ts","webpack:///./src/payment/instrument/instrument-action-types.ts","webpack:///./src/payment/instrument/instrument-state.ts","webpack:///./src/checkout/create-checkout-store.ts","webpack:///./src/common/error/request-error-factory.ts","webpack:///./src/locale/language-service.ts","webpack:///./src/index.ts","webpack:///./src/checkout/checkout-actions.ts","webpack:///./src/checkout/create-checkout-selectors.ts","webpack:///./src/checkout/checkout-store-error-selector.ts","webpack:///./src/common/utility/bind-decorator.ts","webpack:///./src/common/utility/create-freeze-proxy.ts","webpack:///./src/common/utility/cancellable-promise.ts","webpack:///./src/common/utility/merge-or-push.ts","webpack:///./src/common/utility/omit-private.ts","webpack:///./src/common/utility/set-prototype-of.ts","webpack:///./src/common/selector/cache-key-resolver.ts","webpack:///./src/checkout/checkout-store-selector.ts","webpack:///./src/checkout/checkout-store-status-selector.ts","webpack:///./src/billing/billing-address-selector.ts","webpack:///./src/billing/billing-address-action-creator.ts","webpack:///./src/billing/billing-address-request-sender.ts","webpack:///./src/billing/billing-address-reducer.ts","webpack:///./src/cart/cart-action-creator.ts","webpack:///./src/cart/cart-reducer.ts","webpack:///./src/coupon/coupon-action-creator.ts","webpack:///./src/coupon/coupon-request-sender.ts","webpack:///./src/coupon/coupon-selector.ts","webpack:///./src/coupon/coupon-reducer.ts","webpack:///./src/coupon/gift-certificate-action-creator.ts","webpack:///./src/coupon/gift-certificate-request-sender.ts","webpack:///./src/coupon/gift-certificate-selector.ts","webpack:///./src/coupon/gift-certificate-reducer.ts","webpack:///./src/coupon/map-to-internal-coupon.ts","webpack:///./src/coupon/map-to-internal-gift-certificate.ts","webpack:///./src/cart/cart-request-sender.ts","webpack:///./src/cart/cart-selector.ts","webpack:///./src/config/config-action-creator.ts","webpack:///./src/config/config-selector.ts","webpack:///./src/config/config-reducer.ts","webpack:///./src/config/config-request-sender.ts","webpack:///./src/customer/create-customer-strategy-registry.ts","webpack:///./src/common/registry/registry.ts","webpack:///./src/common/error/errors/invalid-argument-error.ts","webpack:///./src/common/error/errors/missing-data-error.ts","webpack:///./src/common/error/errors/not-implemented-error.ts","webpack:///./src/common/error/errors/not-initialized-error.ts","webpack:///./src/common/error/errors/timeout-error.ts","webpack:///./src/common/error/errors/unrecoverable-error.ts","webpack:///./src/common/error/errors/unsupported-browser-error.ts","webpack:///./src/payment/create-payment-client.ts","webpack:///external \"@bigcommerce/bigpay-client\"","webpack:///./src/payment/create-payment-strategy-registry.ts","webpack:///external \"@bigcommerce/form-poster\"","webpack:///./src/order/order-action-creator.ts","webpack:///./src/cart/errors/index.ts","webpack:///./src/cart/errors/cart-changed-error.ts","webpack:///./src/cart/errors/cart-unavailable-error.ts","webpack:///./src/order/order-reducer.ts","webpack:///./src/order/order-request-sender.ts","webpack:///./src/order/order-selector.ts","webpack:///./src/order/map-to-internal-order.ts","webpack:///./src/quote/quote-action-creator.ts","webpack:///./src/quote/quote-reducer.ts","webpack:///./src/address/is-address-equal.ts","webpack:///./src/address/map-to-internal-address.ts","webpack:///./src/quote/quote-request-sender.ts","webpack:///./src/quote/quote-selector.ts","webpack:///./src/remote-checkout/remote-checkout-action-creator.ts","webpack:///./src/remote-checkout/remote-checkout-request-sender.ts","webpack:///./src/remote-checkout/remote-checkout-selector.ts","webpack:///./src/remote-checkout/remote-checkout-reducer.ts","webpack:///./src/remote-checkout/methods/afterpay/index.ts","webpack:///./src/remote-checkout/methods/afterpay/afterpay-script-loader.ts","webpack:///./src/remote-checkout/methods/amazon-pay/amazon-pay-script-loader.ts","webpack:///./src/remote-checkout/methods/klarna/index.ts","webpack:///./src/remote-checkout/methods/klarna/klarna-script-loader.ts","webpack:///./src/remote-checkout/methods/wepay/index.ts","webpack:///./src/remote-checkout/methods/wepay/wepay-risk-client.ts","webpack:///external \"rxjs/observable/concat\"","webpack:///external \"rxjs/observable/defer\"","webpack:///./src/payment/payment-method-types.ts","webpack:///./src/payment/strategies/index.ts","webpack:///./src/payment/strategies/afterpay-payment-strategy.ts","webpack:///./src/payment/errors/payment-argument-invalid-error.ts","webpack:///./src/payment/errors/payment-method-invalid-error.ts","webpack:///./src/payment/errors/payment-method-cancelled-error.ts","webpack:///./src/order/errors/order-finalization-not-required-error.ts","webpack:///./src/payment/strategies/amazon-pay-payment-strategy.ts","webpack:///./src/remote-checkout/errors/remote-checkout-synchronization-error.ts","webpack:///./src/payment/strategies/klarna-payment-strategy.ts","webpack:///./src/payment/strategies/legacy-payment-strategy.ts","webpack:///./src/payment/strategies/no-payment-data-required-strategy.ts","webpack:///./src/payment/strategies/offline-payment-strategy.ts","webpack:///./src/payment/strategies/offsite-payment-strategy.ts","webpack:///./src/payment/strategies/paypal-express-payment-strategy.ts","webpack:///./src/payment/strategies/paypal-pro-payment-strategy.ts","webpack:///./src/payment/strategies/sage-pay-payment-strategy.ts","webpack:///./src/payment/strategies/wepay-payment-strategy.ts","webpack:///./src/payment/strategies/braintree/braintree-credit-card-payment-strategy.ts","webpack:///./src/payment/is-credit-card-like.ts","webpack:///./src/payment/strategies/braintree/braintree-paypal-payment-strategy.ts","webpack:///./src/payment/strategies/braintree/create-braintree-payment-processor.ts","webpack:///./src/payment/strategies/braintree/create-braintree-visacheckout-payment-processor.ts","webpack:///./src/payment/strategies/braintree/visacheckout-script-loader.ts","webpack:///./src/payment/strategies/braintree/braintree-visacheckout-payment-strategy.ts","webpack:///./src/payment/strategies/square/square-payment-strategy.ts","webpack:///./src/payment/strategies/square/square-script-loader.ts","webpack:///./src/payment/payment-method-reducer.ts","webpack:///./src/payment/payment-method-request-sender.ts","webpack:///./src/payment/payment-method-selector.ts","webpack:///./src/payment/payment-reducer.ts","webpack:///./src/payment/payment-strategy-action-creator.ts","webpack:///./src/payment/payment-strategy-reducer.ts","webpack:///./src/payment/payment-strategy-selector.ts","webpack:///./src/customer/strategies/index.ts","webpack:///./src/customer/strategies/amazon-pay-customer-strategy.ts","webpack:///./src/customer/strategies/default-customer-strategy.ts","webpack:///./src/customer/strategies/braintree-visacheckout-customer-strategy.ts","webpack:///./src/customer/customer-reducer.ts","webpack:///./src/customer/customer-request-sender.ts","webpack:///./src/customer/customer-selector.ts","webpack:///./src/customer/customer-strategy-action-creator.ts","webpack:///./src/customer/customer-strategy-selector.ts","webpack:///./src/customer/customer-strategy-reducer.ts","webpack:///./src/customer/customer-strategy-state.ts","webpack:///./src/geography/country-action-creator.ts","webpack:///./src/geography/country-request-sender.ts","webpack:///./src/geography/country-selector.ts","webpack:///./src/geography/country-reducer.ts","webpack:///./src/shipping/create-shipping-strategy-registry.ts","webpack:///./src/shipping/strategies/index.ts","webpack:///./src/shipping/strategies/amazon-pay-shipping-strategy.ts","webpack:///./src/shipping/strategies/default-shipping-strategy.ts","webpack:///./src/shipping/consignment-reducer.ts","webpack:///./src/shipping/shipping-address-request-sender.ts","webpack:///./src/shipping/shipping-address-selector.ts","webpack:///./src/shipping/shipping-country-action-creator.ts","webpack:///./src/shipping/shipping-country-request-sender.ts","webpack:///./src/shipping/shipping-country-selector.ts","webpack:///./src/shipping/shipping-country-reducer.ts","webpack:///./src/shipping/shipping-option-request-sender.ts","webpack:///./src/shipping/shipping-option-selector.ts","webpack:///./src/shipping/shipping-option-reducer.ts","webpack:///./src/shipping/shipping-strategy-action-creator.ts","webpack:///./src/shipping/shipping-strategy-selector.ts","webpack:///./src/shipping/shipping-strategy-reducer.ts","webpack:///./src/shipping/shipping-strategy-state.ts","webpack:///./src/checkout/create-checkout-service.ts","webpack:///./node_modules/process/browser.js","webpack:///./src/common/log/console-logger.ts","webpack:///./src/common/log/noop-logger.ts","webpack:///./src/payment/instrument/instrument-action-creator.ts","webpack:///./src/common/date-time/index.ts","webpack:///./src/common/date-time/add-minutes.ts","webpack:///./src/common/date-time/is-future.ts","webpack:///./src/payment/instrument/instrument-request-sender.ts","webpack:///./src/payment/instrument/instrument-selector.ts","webpack:///./src/payment/instrument/instrument-reducer.ts","webpack:///./src/common/error/index.ts","webpack:///./src/common/error/create-request-error-factory.ts","webpack:///./src/checkout/create-action-transformer.ts","webpack:///external \"rxjs/observable/from\"","webpack:///external \"rxjs/operators\"","webpack:///./src/checkout/create-checkout-store-reducer.ts","webpack:///./src/checkout/create-internal-checkout-selectors.ts","webpack:///./src/form/index.ts","webpack:///./src/form/form-selector.ts","webpack:///./src/locale/index.ts","webpack:///./src/locale/create-language-service.ts","webpack:///external \"messageformat\""],"names":[],"mappings":"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CAAC,MAAM,CAAC,EACxC,IAAI,oCAAuB,CAAC,uBAAuB,CAAC,EACpD,IAAI,0BAAkB,CAAC,MAAM,CAAC,EAC9B,IAAI,oCAA0B,CAAC,MAAM,CAAC,EACtC,IAAI,sCAA4B,CAAC,uCAA6B,CAAC,KAAK,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC,EAC7F,IAAI,0BAAkB,CAAC,MAAM,CAAC,EAC9B,IAAI,uCAA4B,CAAC,MAAM,CAAC,EACxC,IAAI,sCAA2B,CAAC,MAAM,CAAC,EACvC,IAAI,wCAA6B,CAAC,yCAA8B,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CACnF,CAAC;AACN,CAAC;AA7BD,wCA6BC;;;;;;;AC1DD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB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","file":"checkout-sdk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 88);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f24f7e7018a63ad04ddf","module.exports = require(\"tslib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tslib\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"@bigcommerce/data-store\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/data-store\"\n// module id = 1\n// module chunks = 0","export { default as InvalidArgumentError } from './invalid-argument-error';\nexport { default as MissingDataError } from './missing-data-error';\nexport { default as NotImplementedError } from './not-implemented-error';\nexport { default as NotInitializedError } from './not-initialized-error';\nexport { default as RequestError } from './request-error';\nexport { default as StandardError } from './standard-error';\nexport { default as TimeoutError } from './timeout-error';\nexport { default as UnrecoverableError } from './unrecoverable-error';\nexport { default as UnsupportedBrowserError } from './unsupported-browser-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/index.ts","export { default as selectorDecorator } from './selector-decorator';\nexport { default as selector } from './selector-decorator';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/selector/index.ts","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"rxjs/Observable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Observable\"\n// module id = 5\n// module chunks = 0","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderRequestBody } from '../../order';\nimport { OrderFinalizationNotRequiredError } from '../../order/errors';\n\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nexport default abstract class PaymentStrategy {\n    protected _isInitialized = false;\n\n    constructor(\n        protected _store: CheckoutStore\n    ) {}\n\n    abstract execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return Promise.reject(new OrderFinalizationNotRequiredError());\n    }\n\n    initialize(options?: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = true;\n\n        return Promise.resolve(this._store.getState());\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = false;\n\n        return Promise.resolve(this._store.getState());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/payment-strategy.ts","export * from './checkout-actions';\n\nexport { default as Checkout } from './checkout';\nexport { default as CheckoutClient } from './checkout-client';\nexport { default as CheckoutSelectors } from './checkout-selectors';\nexport { default as CheckoutService } from './checkout-service';\nexport { default as CheckoutStoreErrorSelector } from './checkout-store-error-selector';\nexport { default as CheckoutStoreSelector } from './checkout-store-selector';\nexport { default as CheckoutStoreStatusSelector } from './checkout-store-status-selector';\nexport { default as CheckoutStore, ReadableCheckoutStore } from './checkout-store';\nexport { default as InternalCheckoutSelectors } from './internal-checkout-selectors';\n\nexport { default as createCheckoutClient } from './create-checkout-client';\nexport { default as createCheckoutService } from './create-checkout-service';\nexport { default as createCheckoutStore } from './create-checkout-store';\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/index.ts","export { default as PaymentArgumentInvalidError } from './payment-argument-invalid-error';\nexport { default as PaymentMethodInvalidError } from './payment-method-invalid-error';\nexport { default as PaymentMethodCancelledError } from './payment-method-cancelled-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/errors/index.ts","module.exports = require(\"@bigcommerce/request-sender\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/request-sender\"\n// module id = 9\n// module chunks = 0","export { default as bindDecorator } from './bind-decorator';\nexport { default as createFreezeProxy, createFreezeProxies } from './create-freeze-proxy';\nexport { default as CancellablePromise } from './cancellable-promise';\nexport { default as mergeOrPush } from './merge-or-push';\nexport { default as omitDeep } from './omit-deep';\nexport { default as omitPrivate } from './omit-private';\nexport { default as setPrototypeOf } from './set-prototype-of';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/index.ts","export { default as Cart } from './cart';\nexport { default as InternalCart } from './internal-cart';\nexport { default as InternalLineItem } from './internal-line-item';\nexport { DigitalItem, GiftCertificateItem, LineItem, PhysicalItem } from './line-item';\n\nexport { default as CartActionCreator } from './cart-action-creator';\nexport { default as CartComparator } from './cart-comparator';\nexport { default as cartReducer } from './cart-reducer';\nexport { default as CartRequestSender } from './cart-request-sender';\nexport { default as CartSelector } from './cart-selector';\nexport { default as CartState } from './cart-state';\n\nexport { default as mapToInternalCart } from './map-to-internal-cart';\nexport { default as mapToInternalLineItem } from './map-to-internal-line-item';\nexport { default as mapToInternalLineItems } from './map-to-internal-line-items';\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/index.ts","import { setPrototypeOf } from '../../utility';\n\nexport default class StandardError extends Error {\n    protected type = 'standard';\n\n    constructor(message?: string) {\n        super(message || 'An unexpected error has occurred.');\n\n        setPrototypeOf(this, new.target.prototype);\n\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, new.target);\n        } else {\n            this.stack = (new Error(this.message)).stack;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/standard-error.ts","export * from './payment-request-options';\nexport * from './payment-method-responses';\n\nexport { default as createPaymentClient } from './create-payment-client';\nexport { default as createPaymentStrategyRegistry } from './create-payment-strategy-registry';\nexport { default as PaymentActionCreator } from './payment-action-creator';\nexport { default as Payment, CreditCardInstrument, VaultedInstrument, PaymentInstrument } from './payment';\nexport { default as PaymentMethod } from './payment-method';\nexport { default as PaymentMethodConfig } from './payment-method-config';\nexport { default as PaymentMethodActionCreator } from './payment-method-action-creator';\nexport { default as paymentMethodReducer } from './payment-method-reducer';\nexport { default as PaymentMethodRequestSender } from './payment-method-request-sender';\nexport { default as PaymentMethodSelector } from './payment-method-selector';\nexport { default as PaymentMethodState } from './payment-method-state';\nexport { default as paymentReducer } from './payment-reducer';\nexport { default as PaymentRequestSender } from './payment-request-sender';\nexport { default as PaymentState } from './payment-state';\nexport { default as PaymentStrategyActionCreator } from './payment-strategy-action-creator';\nexport { default as paymentStrategyReducer } from './payment-strategy-reducer';\nexport { default as PaymentStrategyRegistry } from './payment-strategy-registry';\nexport { default as PaymentStrategySelector } from './payment-strategy-selector';\nexport { default as PaymentStrategyState } from './payment-strategy-state';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/index.ts","export const LOAD_QUOTE_REQUESTED = 'LOAD_QUOTE_REQUESTED';\nexport const LOAD_QUOTE_SUCCEEDED = 'LOAD_QUOTE_SUCCEEDED';\nexport const LOAD_QUOTE_FAILED = 'LOAD_QUOTE_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/quote-action-types.ts","export { default as Coupon } from './coupon';\nexport { default as CouponState } from './coupon-state';\nexport { default as InternalCoupon } from './internal-coupon';\nexport { default as CouponActionCreator } from './coupon-action-creator';\nexport { default as CouponRequestSender } from './coupon-request-sender';\nexport { default as CouponSelector } from './coupon-selector';\nexport { default as couponReducer } from './coupon-reducer';\n\nexport { default as GiftCertificate } from './gift-certificate';\nexport { default as GiftCertificateState } from './gift-certificate-state';\nexport { default as InternalGiftCertificate } from './internal-gift-certificate';\nexport { default as GiftCertificateActionCreator } from './gift-certificate-action-creator';\nexport { default as GiftCertificateRequestSender } from './gift-certificate-request-sender';\nexport { default as GiftCertificateSelector } from './gift-certificate-selector';\nexport { default as giftCertificateReducer } from './gift-certificate-reducer';\n\nexport { default as mapToInternalCoupon } from './map-to-internal-coupon';\nexport { default as mapToInternalGiftCertificate } from './map-to-internal-gift-certificate';\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/index.ts","export * from './internal-order-responses';\nexport * from './order-actions';\n\nexport { default as Order } from './order';\nexport { default as InternalOrder } from './internal-order';\nexport { default as InternalOrderRequestBody } from './internal-order-request-body';\nexport { default as InternalIncompleteOrder } from './internal-incomplete-order';\n\nexport { default as OrderActionCreator } from './order-action-creator';\nexport { default as orderReducer } from './order-reducer';\nexport { default as OrderRequestBody, OrderPaymentRequestBody } from './order-request-body';\nexport { default as OrderRequestSender } from './order-request-sender';\nexport { default as OrderSelector } from './order-selector';\nexport { default as OrderState } from './order-state';\n\nexport { default as mapToInternalOrder } from './map-to-internal-order';\nexport { default as mapToInternalIncompleteOrder } from './map-to-internal-incomplete-order';\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/index.ts","export { default as InternalQuote } from './internal-quote';\n\nexport { default as QuoteActionCreator } from './quote-action-creator';\nexport { default as quoteReducer } from './quote-reducer';\nexport { default as QuoteRequestSender } from './quote-request-sender';\nexport { default as QuoteSelector } from './quote-selector';\nexport { default as QuoteState } from './quote-state';\n\nexport { default as mapToInternalQuote } from './map-to-internal-quote';\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/index.ts","export const SIGN_IN_CUSTOMER_REQUESTED = 'SIGN_IN_CUSTOMER_REQUESTED';\nexport const SIGN_IN_CUSTOMER_SUCCEEDED = 'SIGN_IN_CUSTOMER_SUCCEEDED';\nexport const SIGN_IN_CUSTOMER_FAILED = 'SIGN_IN_CUSTOMER_FAILED';\n\nexport const SIGN_OUT_CUSTOMER_REQUESTED = 'SIGN_OUT_CUSTOMER_REQUESTED';\nexport const SIGN_OUT_CUSTOMER_SUCCEEDED = 'SIGN_OUT_CUSTOMER_SUCCEEDED';\nexport const SIGN_OUT_CUSTOMER_FAILED = 'SIGN_OUT_CUSTOMER_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-action-types.ts","export * from './customer-request-options';\n\nexport { default as InternalCustomer } from './internal-customer';\nexport { default as Shopper } from './shopper';\n\nexport { default as createCustomerStrategyRegistry } from './create-customer-strategy-registry';\nexport { default as customerReducer } from './customer-reducer';\nexport { default as CustomerActionCreator } from './customer-action-creator';\nexport { default as CustomerCredentials } from './customer-credentials';\nexport { default as CustomerRequestSender } from './customer-request-sender';\nexport { default as CustomerSelector } from './customer-selector';\nexport { default as CustomerState } from './customer-state';\nexport { default as CustomerStrategyActionCreator } from './customer-strategy-action-creator';\nexport { default as CustomerStrategySelector } from './customer-strategy-selector';\nexport { default as CustomerStrategyState } from './customer-strategy-state';\nexport { default as customerStrategyReducer } from './customer-strategy-reducer';\n\nexport { default as mapToInternalCustomer } from './map-to-internal-customer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/index.ts","export const ACKNOWLEDGE = 'PAYMENT_STATUS_ACKNOWLEDGE';\nexport const FINALIZE = 'PAYMENT_STATUS_FINALIZE';\nexport const INITIALIZE = 'PAYMENT_STATUS_INITIALIZE';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-status-types.ts","export { default as RemoteCheckout } from './remote-checkout';\nexport { default as RemoteCheckoutActionCreator } from './remote-checkout-action-creator';\nexport { default as RemoteCheckoutRequestSender } from './remote-checkout-request-sender';\nexport { default as RemoteCheckoutSelector } from './remote-checkout-selector';\nexport { default as RemoteCheckoutState } from './remote-checkout-state';\nexport { default as remoteCheckoutReducer } from './remote-checkout-reducer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/index.ts","export { default as BillingAddressSelector } from './billing-address-selector';\nexport { default as BillingAddressActionCreator } from './billing-address-action-creator';\nexport { default as BillingAddressRequestSender } from './billing-address-request-sender';\nexport { default as billingAddressReducer } from './billing-address-reducer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/index.ts","export const UPDATE_SHIPPING_ADDRESS_REQUESTED = 'UPDATE_SHIPPING_ADDRESS_REQUESTED';\nexport const UPDATE_SHIPPING_ADDRESS_SUCCEEDED = 'UPDATE_SHIPPING_ADDRESS_SUCCEEDED';\nexport const UPDATE_SHIPPING_ADDRESS_FAILED = 'UPDATE_SHIPPING_ADDRESS_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-address-action-types.ts","export const LOAD_SHIPPING_OPTIONS_REQUESTED = 'LOAD_SHIPPING_OPTIONS_REQUESTED';\nexport const LOAD_SHIPPING_OPTIONS_SUCCEEDED = 'LOAD_SHIPPING_OPTIONS_SUCCEEDED';\nexport const LOAD_SHIPPING_OPTIONS_FAILED = 'LOAD_SHIPPING_OPTIONS_FAILED';\n\nexport const SELECT_SHIPPING_OPTION_REQUESTED = 'SELECT_SHIPPING_OPTION_REQUESTED';\nexport const SELECT_SHIPPING_OPTION_SUCCEEDED = 'SELECT_SHIPPING_OPTION_SUCCEEDED';\nexport const SELECT_SHIPPING_OPTION_FAILED = 'SELECT_SHIPPING_OPTION_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-option-action-types.ts","export { default as Config } from './config';\nexport { default as ConfigActionCreator } from './config-action-creator';\nexport { default as ConfigSelector } from './config-selector';\nexport { default as configReducer } from './config-reducer';\nexport { default as ConfigRequestSender } from './config-request-sender';\nexport { default as ConfigState } from './config-state';\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/index.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport CustomerCredentials from '../customer-credentials';\n\nimport { CustomerInitializeOptions, CustomerRequestOptions } from '../customer-request-options';\n\nexport default abstract class CustomerStrategy {\n    protected _isInitialized = false;\n\n    constructor(\n        protected _store: CheckoutStore\n    ) {}\n\n    abstract signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    abstract signOut(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    initialize(options?: CustomerInitializeOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = true;\n\n        return Promise.resolve(this._store.getState());\n    }\n\n    deinitialize(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = false;\n\n        return Promise.resolve(this._store.getState());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/customer-strategy.ts","export * from './country-responses';\n\nexport { default as CountryActionCreator } from './country-action-creator';\nexport { default as CountryRequestSender } from './country-request-sender';\nexport { default as Country } from './country';\nexport { default as CountrySelector } from './country-selector';\nexport { default as CountryState } from './country-state';\nexport { default as countryReducer } from './country-reducer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/index.ts","export * from './shipping-request-options';\n\nexport { default as createShippingStrategyRegistry } from './create-shipping-strategy-registry';\n\nexport { default as Consignment } from './consignment';\nexport { default as consignmentReducer } from './consignment-reducer';\n\nexport { default as ShippingAddressActionCreator } from './shipping-address-action-creator';\nexport { default as ShippingAddressRequestSender } from './shipping-address-request-sender';\nexport { default as ShippingAddressSelector } from './shipping-address-selector';\n\nexport { default as ShippingCountryActionCreator } from './shipping-country-action-creator';\nexport { default as ShippingCountryRequestSender } from './shipping-country-request-sender';\nexport { default as ShippingCountrySelector } from './shipping-country-selector';\nexport { default as ShippingCountryState } from './shipping-country-state';\nexport { default as shippingCountryReducer } from './shipping-country-reducer';\n\nexport { default as ShippingOption } from './shipping-option';\nexport { default as ShippingOptionState } from './shipping-option-state';\nexport { default as InternalShippingOption, InternalShippingOptionList } from './internal-shipping-option';\nexport { default as ShippingOptionActionCreator } from './shipping-option-action-creator';\nexport { default as ShippingOptionRequestSender } from './shipping-option-request-sender';\nexport { default as ShippingOptionSelector } from './shipping-option-selector';\nexport { default as shippingOptionReducer } from './shipping-option-reducer';\n\nexport { default as ShippingStrategyActionCreator } from './shipping-strategy-action-creator';\nexport { default as ShippingStrategySelector } from './shipping-strategy-selector';\nexport { default as ShippingStrategyState } from './shipping-strategy-state';\nexport { default as shippingStrategyReducer } from './shipping-strategy-reducer';\n\nexport { default as mapToInternalShippingOption } from './map-to-internal-shipping-option';\nexport { default as mapToInternalShippingOptions } from './map-to-internal-shipping-options';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/index.ts","export const UPDATE_BILLING_ADDRESS_REQUESTED = 'UPDATE_BILLING_ADDRESS_REQUESTED';\nexport const UPDATE_BILLING_ADDRESS_SUCCEEDED = 'UPDATE_BILLING_ADDRESS_SUCCEEDED';\nexport const UPDATE_BILLING_ADDRESS_FAILED = 'UPDATE_BILLING_ADDRESS_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-action-types.ts","export const APPLY_COUPON_REQUESTED = 'APPLY_COUPON_REQUESTED';\nexport const APPLY_COUPON_SUCCEEDED = 'APPLY_COUPON_SUCCEEDED';\nexport const APPLY_COUPON_FAILED = 'APPLY_COUPON_FAILED';\n\nexport const REMOVE_COUPON_REQUESTED = 'REMOVE_COUPON_REQUESTED';\nexport const REMOVE_COUPON_SUCCEEDED = 'REMOVE_COUPON_SUCCEEDED';\nexport const REMOVE_COUPON_FAILED = 'REMOVE_COUPON_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-action-types.ts","export const APPLY_GIFT_CERTIFICATE_REQUESTED = 'APPLY_GIFT_CERTIFICATE_REQUESTED';\nexport const APPLY_GIFT_CERTIFICATE_SUCCEEDED = 'APPLY_GIFT_CERTIFICATE_SUCCEEDED';\nexport const APPLY_GIFT_CERTIFICATE_FAILED = 'APPLY_GIFT_CERTIFICATE_FAILED';\n\nexport const REMOVE_GIFT_CERTIFICATE_REQUESTED = 'REMOVE_GIFT_CERTIFICATE_REQUESTED';\nexport const REMOVE_GIFT_CERTIFICATE_SUCCEEDED = 'REMOVE_GIFT_CERTIFICATE_SUCCEEDED';\nexport const REMOVE_GIFT_CERTIFICATE_FAILED = 'REMOVE_GIFT_CERTIFICATE_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-action-types.ts","module.exports = require(\"@bigcommerce/script-loader\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/script-loader\"\n// module id = 32\n// module chunks = 0","export { default as Registry, Factory } from './registry';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/registry/index.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport StandardError from './standard-error';\n\nconst DEFAULT_RESPONSE = {\n    body: {},\n    headers: {},\n    status: 0,\n    statusText: '',\n};\n\nexport default class RequestError extends StandardError {\n    body: any;\n    headers: { [key: string]: any; };\n    status: number;\n    statusText: string;\n\n    constructor({ body = {}, headers, status, statusText }: Response = DEFAULT_RESPONSE, message?: string) {\n        super(joinErrors(body.errors) || body.detail || body.title || message || 'An unexpected error has occurred.');\n\n        this.type = 'request';\n        this.body = body;\n        this.headers = headers;\n        this.status = status;\n        this.statusText = statusText;\n    }\n}\n\nfunction joinErrors(errors: Array<string | { code: string, message: string }>): string | undefined {\n    if (!Array.isArray(errors)) {\n        return;\n    }\n\n    return errors.reduce((result: string[], error) => {\n        if (typeof error === 'string') {\n            return [...result, error];\n        }\n\n        if (error && error.message) {\n            return [...result, error.message];\n        }\n\n        return result;\n    }, []).join(' ');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/request-error.ts","import { Action } from '@bigcommerce/data-store';\n\nimport { InternalOrderResponseData } from './internal-order-responses';\n\nexport enum OrderActionType {\n    LoadOrderRequested = 'LOAD_ORDER_REQUESTED',\n    LoadOrderSucceeded = 'LOAD_ORDER_SUCCEEDED',\n    LoadOrderFailed = 'LOAD_ORDER_FAILED',\n\n    SubmitOrderRequested = 'SUBMIT_ORDER_REQUESTED',\n    SubmitOrderSucceeded = 'SUBMIT_ORDER_SUCCEEDED',\n    SubmitOrderFailed = 'SUBMIT_ORDER_FAILED',\n\n    FinalizeOrderRequested = 'FINALIZE_ORDER_REQUESTED',\n    FinalizeOrderSucceeded = 'FINALIZE_ORDER_SUCCEEDED',\n    FinalizeOrderFailed = 'FINALIZE_ORDER_FAILED',\n}\n\nexport type OrderAction = LoadOrderAction |\n    SubmitOrderAction |\n    FinalizeOrderAction;\n\nexport type LoadOrderAction =\n    LoadOrderRequestedAction |\n    LoadOrderSucceededAction |\n    LoadOrderFailedAction;\n\nexport type SubmitOrderAction =\n    SubmitOrderRequestedAction |\n    SubmitOrderSucceededAction |\n    SubmitOrderFailedAction;\n\nexport type FinalizeOrderAction =\n    FinalizeOrderRequestedAction |\n    FinalizeOrderSucceededAction |\n    FinalizeOrderFailedAction;\n\nexport interface LoadOrderRequestedAction extends Action {\n    type: OrderActionType.LoadOrderRequested;\n}\n\nexport interface LoadOrderSucceededAction extends Action<InternalOrderResponseData> {\n    type: OrderActionType.LoadOrderSucceeded;\n}\n\nexport interface LoadOrderFailedAction extends Action<Error> {\n    type: OrderActionType.LoadOrderFailed;\n}\n\nexport interface SubmitOrderRequestedAction extends Action {\n    type: OrderActionType.SubmitOrderRequested;\n}\n\nexport interface SubmitOrderSucceededAction extends Action<InternalOrderResponseData> {\n    type: OrderActionType.SubmitOrderSucceeded;\n}\n\nexport interface SubmitOrderFailedAction extends Action<Error> {\n    type: OrderActionType.SubmitOrderFailed;\n}\n\nexport interface FinalizeOrderRequestedAction extends Action {\n    type: OrderActionType.FinalizeOrderRequested;\n}\n\nexport interface FinalizeOrderSucceededAction extends Action<InternalOrderResponseData> {\n    type: OrderActionType.FinalizeOrderSucceeded;\n}\n\nexport interface FinalizeOrderFailedAction extends Action<Error> {\n    type: OrderActionType.FinalizeOrderFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-actions.ts","import { Checkout } from '../checkout';\n\nimport InternalIncompleteOrder from './internal-incomplete-order';\n\nexport default function mapToInternalIncompleteOrder(checkout: Checkout, existingOrder: InternalIncompleteOrder): InternalIncompleteOrder {\n    return {\n        orderId: checkout.orderId,\n        token: existingOrder.token,\n        payment: existingOrder.payment,\n        socialData: existingOrder.socialData,\n        status: existingOrder.status,\n        customerCreated: existingOrder.customerCreated,\n        hasDigitalItems: existingOrder.hasDigitalItems,\n        isDownloadable: existingOrder.isDownloadable,\n        isComplete: existingOrder.isComplete,\n        callbackUrl: existingOrder.callbackUrl,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/map-to-internal-incomplete-order.ts","export { default as Address } from './address';\nexport { default as InternalAddress } from './internal-address';\nexport { default as isAddressEqual } from './is-address-equal';\n\nexport { default as mapToInternalAddress } from './map-to-internal-address';\n\n\n\n// WEBPACK FOOTER //\n// ./src/address/index.ts","export { default as AmazonPayScriptLoader } from './amazon-pay-script-loader';\n\nexport { default as AmazonPayAddressBook, AmazonPayAddressBookOptions } from './amazon-pay-address-book';\nexport { default as AmazonPayLoginButton, AmazonPayLoginButtonOptions } from './amazon-pay-login-button';\nexport { default as AmazonPayWallet, AmazonPayWalletOptions } from './amazon-pay-wallet';\nexport { default as AmazonPayLogin, AmazonPayLoginOptions } from './amazon-pay-login';\nexport { default as AmazonPayOrderReference } from './amazon-pay-order-reference';\nexport { default as AmazonPayWidgetError } from './amazon-pay-widget-error';\nexport { default as AmazonPayWindow } from './amazon-pay-window';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/amazon-pay/index.ts","import { PaymentInstrument, VaultedInstrument } from './payment';\n\nexport default function isVaultedInstrument(instrument: PaymentInstrument): instrument is VaultedInstrument {\n    return Boolean((instrument as VaultedInstrument).instrumentId);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/is-vaulted-instrument.ts","export { BraintreePaymentInitializeOptions } from './braintree-payment-options';\nexport { default as BraintreeCreditCardPaymentStrategy } from './braintree-credit-card-payment-strategy';\nexport { default as BraintreePaymentProcessor } from './braintree-payment-processor';\nexport { default as BraintreePaypalPaymentStrategy } from './braintree-paypal-payment-strategy';\nexport { default as BraintreeVisaCheckoutPaymentProcessor } from './braintree-visacheckout-payment-processor';\nexport { default as createBraintreePaymentProcessor } from './create-braintree-payment-processor';\nexport { default as createBraintreeVisaCheckoutPaymentProcessor } from './create-braintree-visacheckout-payment-processor';\nexport { default as VisaCheckoutScriptLoader } from './visacheckout-script-loader';\nexport { default as BraintreeVisaCheckoutPaymentStrategy, BraintreeVisaCheckoutPaymentInitializeOptions } from './braintree-visacheckout-payment-strategy';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/index.ts","import { Action } from '@bigcommerce/data-store';\n\nexport enum ShippingStrategyActionType {\n    UpdateAddressFailed = 'SHIPPING_STRATEGY_UPDATE_ADDRESS_FAILED',\n    UpdateAddressRequested = 'SHIPPING_STRATEGY_UPDATE_ADDRESS_REQUESTED',\n    UpdateAddressSucceeded = 'SHIPPING_STRATEGY_UPDATE_ADDRESS_SUCCEEDED',\n    SelectOptionFailed = 'SHIPPING_STRATEGY_SELECT_OPTION_FAILED',\n    SelectOptionRequested = 'SHIPPING_STRATEGY_SELECT_OPTION_REQUESTED',\n    SelectOptionSucceeded = 'SHIPPING_STRATEGY_SELECT_OPTION_SUCCEEDED',\n    InitializeFailed = 'SHIPPING_STRATEGY_INITIALIZE_FAILED',\n    InitializeRequested = 'SHIPPING_STRATEGY_INITIALIZE_REQUESTED',\n    InitializeSucceeded = 'SHIPPING_STRATEGY_INITIALIZE_SUCCEEDED',\n    DeinitializeFailed = 'SHIPPING_STRATEGY_DEINITIALIZE_FAILED',\n    DeinitializeRequested = 'SHIPPING_STRATEGY_DEINITIALIZE_REQUESTED',\n    DeinitializeSucceeded = 'SHIPPING_STRATEGY_DEINITIALIZE_SUCCEEDED',\n}\n\nexport type ShippingStrategyAction =\n    ShippingStrategyUpdateAddressAction |\n    ShippingStrategySelectOptionAction |\n    ShippingStrategyInitializeAction |\n    ShippingStrategyDeinitializeAction;\n\nexport type ShippingStrategyUpdateAddressAction =\n    UpdateAddressRequestedAction |\n    UpdateAddressSucceededAction |\n    UpdateAddressFailedAction;\n\nexport type ShippingStrategySelectOptionAction =\n    SelectOptionRequestedAction |\n    SelectOptionSucceededAction |\n    SelectOptionFailedAction;\n\nexport type ShippingStrategyInitializeAction =\n    InitializeRequestedAction |\n    InitializeSucceededAction |\n    InitializeFailedAction;\n\nexport type ShippingStrategyDeinitializeAction =\n    DeinitializeRequestedAction |\n    DeinitializeSucceededAction |\n    DeinitializeFailedAction;\n\nexport interface UpdateAddressRequestedAction extends Action {\n    type: ShippingStrategyActionType.UpdateAddressRequested;\n}\n\nexport interface UpdateAddressSucceededAction extends Action {\n    type: ShippingStrategyActionType.UpdateAddressSucceeded;\n}\n\nexport interface UpdateAddressFailedAction extends Action<Error> {\n    type: ShippingStrategyActionType.UpdateAddressFailed;\n}\n\nexport interface SelectOptionRequestedAction extends Action {\n    type: ShippingStrategyActionType.SelectOptionRequested;\n}\n\nexport interface SelectOptionSucceededAction extends Action {\n    type: ShippingStrategyActionType.SelectOptionSucceeded;\n}\n\nexport interface SelectOptionFailedAction extends Action<Error> {\n    type: ShippingStrategyActionType.SelectOptionFailed;\n}\n\nexport interface InitializeRequestedAction extends Action {\n    type: ShippingStrategyActionType.InitializeRequested;\n}\n\nexport interface InitializeSucceededAction extends Action {\n    type: ShippingStrategyActionType.InitializeSucceeded;\n}\n\nexport interface InitializeFailedAction extends Action<Error> {\n    type: ShippingStrategyActionType.InitializeFailed;\n}\n\nexport interface DeinitializeRequestedAction extends Action {\n    type: ShippingStrategyActionType.DeinitializeRequested;\n}\n\nexport interface DeinitializeSucceededAction extends Action {\n    type: ShippingStrategyActionType.DeinitializeSucceeded;\n}\n\nexport interface DeinitializeFailedAction extends Action<Error> {\n    type: ShippingStrategyActionType.DeinitializeFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-actions.ts","import { InternalAddress } from '../../address';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\n\nimport { ShippingRequestOptions } from '../shipping-request-options';\n\nexport default abstract class ShippingStrategy {\n    protected _isInitialized = false;\n\n    constructor(\n        protected _store: CheckoutStore\n    ) {}\n\n    abstract updateAddress(address: InternalAddress, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    abstract selectOption(addressId: string, optionId: string, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    initialize(options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = true;\n\n        return Promise.resolve(this._store.getState());\n    }\n\n    deinitialize(options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = false;\n\n        return Promise.resolve(this._store.getState());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/strategies/shipping-strategy.ts","export { default as Instrument } from './instrument';\nexport { default as InstrumentActionCreator } from './instrument-action-creator';\nexport { default as InstrumentRequestSender } from './instrument-request-sender';\nexport { default as InstrumentSelector } from './instrument-selector';\nexport { default as InstrumentState } from './instrument-state';\nexport { default as instrumentReducer } from './instrument-reducer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/index.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport { InternalAddress } from '../address';\nimport { BillingAddressRequestSender } from '../billing';\nimport { CartRequestSender } from '../cart';\nimport { RequestOptions } from '../common/http-request';\nimport { Config, ConfigRequestSender } from '../config';\nimport { CouponRequestSender, GiftCertificateRequestSender } from '../coupon';\nimport { CustomerCredentials, CustomerRequestSender } from '../customer';\nimport { CountryRequestSender, CountryResponseBody } from '../geography';\nimport { InternalOrderRequestBody, InternalOrderResponseBody, OrderRequestSender } from '../order';\nimport { PaymentMethodsResponseBody, PaymentMethodRequestSender, PaymentMethodResponseBody } from '../payment';\nimport { QuoteRequestSender } from '../quote';\nimport { ShippingAddressRequestSender, ShippingCountryRequestSender, ShippingOptionRequestSender } from '../shipping';\n\n/**\n * @deprecated Use request senders directly\n */\nexport default class CheckoutClient {\n    /**\n     * @internal\n     */\n    constructor(\n        private _billingAddressRequestSender: BillingAddressRequestSender,\n        private _cartRequestSender: CartRequestSender,\n        private _configRequestSender: ConfigRequestSender,\n        private _countryRequestSender: CountryRequestSender,\n        private _couponRequestSender: CouponRequestSender,\n        private _customerRequestSender: CustomerRequestSender,\n        private _giftCertificateRequestSender: GiftCertificateRequestSender,\n        private _orderRequestSender: OrderRequestSender,\n        private _paymentMethodRequestSender: PaymentMethodRequestSender,\n        private _quoteRequestSender: QuoteRequestSender,\n        private _shippingAddressRequestSender: ShippingAddressRequestSender,\n        private _shippingCountryRequestSender: ShippingCountryRequestSender,\n        private _shippingOptionRequestSender: ShippingOptionRequestSender\n    ) {}\n\n    loadCheckout(options?: RequestOptions): Promise<Response> {\n        return this._quoteRequestSender.loadQuote(options);\n    }\n\n    loadCart(options?: RequestOptions): Promise<Response> {\n        return this._cartRequestSender.loadCart(options);\n    }\n\n    loadOrder(orderId: number, options?: RequestOptions): Promise<Response<InternalOrderResponseBody>> {\n        return this._orderRequestSender.loadOrder(orderId, options);\n    }\n\n    submitOrder(body: InternalOrderRequestBody, options?: RequestOptions): Promise<Response<InternalOrderResponseBody>> {\n        return this._orderRequestSender.submitOrder(body, options);\n    }\n\n    finalizeOrder(orderId: number, options?: RequestOptions): Promise<Response<InternalOrderResponseBody>> {\n        return this._orderRequestSender.finalizeOrder(orderId, options);\n    }\n\n    loadPaymentMethods(options?: RequestOptions): Promise<Response<PaymentMethodsResponseBody>> {\n        return this._paymentMethodRequestSender.loadPaymentMethods(options);\n    }\n\n    loadPaymentMethod(methodId: string, options?: RequestOptions): Promise<Response<PaymentMethodResponseBody>> {\n        return this._paymentMethodRequestSender.loadPaymentMethod(methodId, options);\n    }\n\n    loadCountries(options?: RequestOptions): Promise<Response<CountryResponseBody>> {\n        return this._countryRequestSender.loadCountries(options);\n    }\n\n    loadShippingCountries(options?: RequestOptions): Promise<Response<CountryResponseBody>> {\n        return this._shippingCountryRequestSender.loadCountries(options);\n    }\n\n    updateBillingAddress(address: InternalAddress, options?: RequestOptions): Promise<Response> {\n        return this._billingAddressRequestSender.updateAddress(address, options);\n    }\n\n    updateShippingAddress(address: InternalAddress, options?: RequestOptions): Promise<Response> {\n        return this._shippingAddressRequestSender.updateAddress(address, options);\n    }\n\n    loadShippingOptions(options?: RequestOptions): Promise<Response> {\n        return this._shippingOptionRequestSender.loadShippingOptions(options);\n    }\n\n    selectShippingOption(addressId: string, shippingOptionId: string, options?: RequestOptions): Promise<Response> {\n        return this._shippingOptionRequestSender.selectShippingOption(addressId, shippingOptionId, options);\n    }\n\n    signInCustomer(credentials: CustomerCredentials, options?: RequestOptions): Promise<Response> {\n        return this._customerRequestSender.signInCustomer(credentials, options);\n    }\n\n    signOutCustomer(options?: RequestOptions): Promise<Response> {\n        return this._customerRequestSender.signOutCustomer(options);\n    }\n\n    applyCoupon(code: string, options?: RequestOptions): Promise<Response> {\n        return this._couponRequestSender.applyCoupon(code, options);\n    }\n\n    removeCoupon(code: string, options?: RequestOptions): Promise<Response> {\n        return this._couponRequestSender.removeCoupon(code, options);\n    }\n\n    applyGiftCertificate(code: string, options?: RequestOptions): Promise<Response> {\n        return this._giftCertificateRequestSender.applyGiftCertificate(code, options);\n    }\n\n    removeGiftCertificate(code: string, options?: RequestOptions): Promise<Response> {\n        return this._giftCertificateRequestSender.removeGiftCertificate(code, options);\n    }\n\n    loadConfig(options?: RequestOptions): Promise<Response<Config>> {\n        return this._configRequestSender.loadConfig(options);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-client.ts","import { InternalAddress } from '../address';\nimport { BillingAddressActionCreator } from '../billing';\nimport { CartActionCreator } from '../cart';\nimport { RequestOptions } from '../common/http-request';\nimport { ConfigActionCreator } from '../config';\nimport { CouponActionCreator, GiftCertificateActionCreator } from '../coupon';\nimport { CustomerCredentials, CustomerInitializeOptions, CustomerRequestOptions, CustomerStrategyActionCreator } from '../customer';\nimport { CountryActionCreator } from '../geography';\nimport { OrderActionCreator, OrderRequestBody } from '../order';\nimport { PaymentInitializeOptions, PaymentMethodActionCreator, PaymentRequestOptions, PaymentStrategyActionCreator } from '../payment';\nimport { Instrument, InstrumentActionCreator } from '../payment/instrument';\nimport { QuoteActionCreator } from '../quote';\nimport {\n    ShippingCountryActionCreator,\n    ShippingInitializeOptions,\n    ShippingOptionActionCreator,\n    ShippingRequestOptions,\n    ShippingStrategyActionCreator,\n} from '../shipping';\n\nimport CheckoutSelectors from './checkout-selectors';\nimport CheckoutStore from './checkout-store';\nimport createCheckoutSelectors from './create-checkout-selectors';\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\nexport default class CheckoutService {\n    private _state: CheckoutSelectors;\n\n    /**\n     * @internal\n     */\n    constructor(\n        private _store: CheckoutStore,\n        private _billingAddressActionCreator: BillingAddressActionCreator,\n        private _cartActionCreator: CartActionCreator,\n        private _configActionCreator: ConfigActionCreator,\n        private _countryActionCreator: CountryActionCreator,\n        private _couponActionCreator: CouponActionCreator,\n        private _customerStrategyActionCreator: CustomerStrategyActionCreator,\n        private _giftCertificateActionCreator: GiftCertificateActionCreator,\n        private _instrumentActionCreator: InstrumentActionCreator,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _paymentStrategyActionCreator: PaymentStrategyActionCreator,\n        private _quoteActionCreator: QuoteActionCreator,\n        private _shippingCountryActionCreator: ShippingCountryActionCreator,\n        private _shippingOptionActionCreator: ShippingOptionActionCreator,\n        private _shippingStrategyActionCreator: ShippingStrategyActionCreator\n    ) {\n        this._state = createCheckoutSelectors(this._store.getState());\n\n        this._store.subscribe(state => {\n            this._state = createCheckoutSelectors(state);\n        });\n    }\n\n    getState(): CheckoutSelectors {\n        return this._state;\n    }\n\n    notifyState(): void {\n        this._store.notifyState();\n    }\n\n    subscribe(\n        subscriber: (state: CheckoutSelectors) => void,\n        ...filters: Array<(state: CheckoutSelectors) => any>\n    ): () => void {\n        return this._store.subscribe(\n            () => subscriber(this.getState()),\n            ...filters.map(filter => (state: InternalCheckoutSelectors) => filter(createCheckoutSelectors(state)))\n        );\n    }\n\n    loadCheckout(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._quoteActionCreator.loadQuote(options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    loadConfig(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._configActionCreator.loadConfig(options);\n\n        return this._store.dispatch(action, { queueId: 'config' })\n            .then(() => this.getState());\n    }\n\n    loadCart(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._cartActionCreator.loadCart(options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    loadOrder(orderId: number, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._orderActionCreator.loadOrder(orderId, options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    submitOrder(payload: OrderRequestBody, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentStrategyActionCreator.execute(payload, options);\n\n        return this._store.dispatch(action, { queueId: 'paymentStrategy' })\n            .then(() => this.getState());\n    }\n\n    finalizeOrderIfNeeded(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentStrategyActionCreator.finalize(options);\n\n        return this._store.dispatch(action, { queueId: 'paymentStrategy' })\n            .then(() => this.getState());\n    }\n\n    loadPaymentMethods(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentMethodActionCreator.loadPaymentMethods(options);\n\n        return this._store.dispatch(action, { queueId: 'paymentMethods' })\n            .then(() => this.getState());\n    }\n\n    loadPaymentMethod(methodId: string, options: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentMethodActionCreator.loadPaymentMethod(methodId, options);\n\n        return this._store.dispatch(action, { queueId: 'paymentMethods' })\n            .then(() => this.getState());\n    }\n\n    initializePayment(options: PaymentInitializeOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentStrategyActionCreator.initialize(options);\n\n        return this._store.dispatch(action, { queueId: 'paymentStrategy' })\n            .then(() => this.getState());\n    }\n\n    deinitializePayment(options: PaymentRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentStrategyActionCreator.deinitialize(options);\n\n        return this._store.dispatch(action, { queueId: 'paymentStrategy' })\n            .then(() => this.getState());\n    }\n\n    loadBillingCountries(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._countryActionCreator.loadCountries(options);\n\n        return this._store.dispatch(action, { queueId: 'billingCountries' })\n            .then(() => this.getState());\n    }\n\n    loadShippingCountries(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingCountryActionCreator.loadCountries(options);\n\n        return this._store.dispatch(action, { queueId: 'shippingCountries' })\n            .then(() => this.getState());\n    }\n\n    loadBillingAddressFields(options?: RequestOptions): Promise<CheckoutSelectors> {\n        return this.loadBillingCountries(options);\n    }\n\n    loadShippingAddressFields(options?: RequestOptions): Promise<CheckoutSelectors> {\n        return this.loadShippingCountries(options);\n    }\n\n    initializeCustomer(options?: CustomerInitializeOptions): Promise<CheckoutSelectors> {\n        const action = this._customerStrategyActionCreator.initialize(options);\n\n        return this._store.dispatch(action, { queueId: 'customerStrategy' })\n            .then(() => this.getState());\n    }\n\n    deinitializeCustomer(options?: CustomerRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._customerStrategyActionCreator.deinitialize(options);\n\n        return this._store.dispatch(action, { queueId: 'customerStrategy' })\n            .then(() => this.getState());\n    }\n\n    signInCustomer(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._customerStrategyActionCreator.signIn(credentials, options);\n\n        return this._store.dispatch(action, { queueId: 'customerStrategy' })\n            .then(() => this.getState());\n    }\n\n    signOutCustomer(options?: CustomerRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._customerStrategyActionCreator.signOut(options);\n\n        return this._store.dispatch(action, { queueId: 'customerStrategy' })\n            .then(() => this.getState());\n    }\n\n    loadShippingOptions(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingOptionActionCreator.loadShippingOptions(options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    initializeShipping(options?: ShippingInitializeOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingStrategyActionCreator.initialize(options);\n\n        return this._store.dispatch(action, { queueId: 'shippingStrategy' })\n            .then(() => this.getState());\n    }\n\n    deinitializeShipping(options?: ShippingRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingStrategyActionCreator.deinitialize(options);\n\n        return this._store.dispatch(action, { queueId: 'shippingStrategy' })\n            .then(() => this.getState());\n    }\n\n    selectShippingOption(addressId: string, shippingOptionId: string, options?: ShippingRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingStrategyActionCreator.selectOption(addressId, shippingOptionId, options);\n\n        return this._store.dispatch(action, { queueId: 'shippingStrategy' })\n            .then(() => this.getState());\n    }\n\n    updateShippingAddress(address: InternalAddress, options?: ShippingRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingStrategyActionCreator.updateAddress(address, options);\n\n        return this._store.dispatch(action, { queueId: 'shippingStrategy' })\n            .then(() => this.getState());\n    }\n\n    updateBillingAddress(address: InternalAddress, options: RequestOptions = {}): Promise<CheckoutSelectors> {\n        const action = this._billingAddressActionCreator.updateAddress(address, options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    applyCoupon(code: string, options: RequestOptions = {}): Promise<CheckoutSelectors> {\n        const action = this._couponActionCreator.applyCoupon(code, options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    removeCoupon(code: string, options: RequestOptions = {}): Promise<CheckoutSelectors> {\n        const action = this._couponActionCreator.removeCoupon(code, options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    applyGiftCertificate(code: string, options: RequestOptions = {}): Promise<CheckoutSelectors> {\n        const action = this._giftCertificateActionCreator.applyGiftCertificate(code, options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    removeGiftCertificate(code: string, options: RequestOptions = {}): Promise<CheckoutSelectors> {\n        const action = this._giftCertificateActionCreator.removeGiftCertificate(code, options);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    loadInstruments(): Promise<CheckoutSelectors> {\n        const action = this._instrumentActionCreator.loadInstruments();\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    vaultInstrument(instrument: Instrument): Promise<CheckoutSelectors> {\n        const action = this._instrumentActionCreator.vaultInstrument(instrument);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n\n    deleteInstrument(instrumentId: string): Promise<CheckoutSelectors> {\n        const action = this._instrumentActionCreator.deleteInstrument(instrumentId);\n\n        return this._store.dispatch(action)\n            .then(() => this.getState());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-service.ts","import { isEqual, memoize } from 'lodash';\n\nimport { bindDecorator } from '../utility';\n\nimport CacheKeyResolver from './cache-key-resolver';\n\n/**\n * Decorates a class by patching all of its methods to cache their return values\n * and return them if they are called again with the same set of parameters. The\n * decorator also binds all the methods to the calling instance so it can be\n * destructed.\n */\nexport default function selectorDecorator<T extends Constructor<object>>(target: T): T {\n    const decoratedTarget = class extends target {};\n\n    Object.getOwnPropertyNames(target.prototype)\n        .forEach(key => {\n            const descriptor = Object.getOwnPropertyDescriptor(target.prototype, key);\n\n            if (!descriptor || key === 'constructor') {\n                return;\n            }\n\n            Object.defineProperty(\n                decoratedTarget.prototype,\n                key,\n                selectorMethodDecorator(target.prototype, key, descriptor)\n            );\n        });\n\n    return decoratedTarget;\n}\n\nfunction selectorMethodDecorator<T extends Method>(target: object, key: string, descriptor: TypedPropertyDescriptor<T>): TypedPropertyDescriptor<T> {\n    if (typeof descriptor.value !== 'function') {\n        return descriptor;\n    }\n\n    let resolver = new CacheKeyResolver();\n    let method = descriptor.value;\n    let memoizedMethod = memoize(method, (...args) => resolver.getKey(...args));\n\n    return bindDecorator(target, key, {\n        get() {\n            const value = ((...args: any[]) => {\n                const cachedValue = memoizedMethod.call(this, ...args);\n\n                if (resolver.getUsedCount(...args) === 1) {\n                    return cachedValue;\n                }\n\n                const newValue = method.call(this, ...args);\n\n                if (isEqual(newValue, cachedValue)) {\n                    return cachedValue;\n                }\n\n                memoizedMethod.cache.set(resolver.getKey(...args), newValue);\n\n                return newValue;\n            }) as T;\n\n            Object.defineProperty(this, key, { ...descriptor, value });\n\n            return value;\n        },\n        set(value) {\n            resolver = new CacheKeyResolver();\n            method = value;\n            memoizedMethod = memoize(method, (...args) => resolver.getKey(...args));\n        },\n    });\n}\n\nexport type Constructor<T> = new (...args: any[]) => T;\ntype Method = (...args: any[]) => any;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/selector/selector-decorator.ts","import { omitBy, transform } from 'lodash';\n\nexport default function omitDeep(object: any, predicate: (value: any, key: string) => boolean): any {\n    if (Array.isArray(object)) {\n        return object.map(value => omitDeep(value, predicate));\n    }\n\n    if (typeof object === 'object') {\n        return transform(omitBy(object, predicate), (result, value, key) => {\n            result[key] = omitDeep(value, predicate);\n        }, {});\n    }\n\n    return object;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/omit-deep.ts","import { createRequestSender } from '@bigcommerce/request-sender';\n\nimport { BillingAddressRequestSender } from '../billing';\nimport { CartRequestSender } from '../cart';\nimport { ConfigRequestSender } from '../config';\nimport { CouponRequestSender, GiftCertificateRequestSender } from '../coupon';\nimport { CustomerRequestSender } from '../customer';\nimport { CountryRequestSender } from '../geography';\nimport { OrderRequestSender } from '../order';\nimport { PaymentMethodRequestSender } from '../payment';\nimport { QuoteRequestSender } from '../quote';\nimport { ShippingAddressRequestSender, ShippingCountryRequestSender, ShippingOptionRequestSender } from '../shipping';\n\nimport CheckoutClient from './checkout-client';\n\nexport default function createCheckoutClient(config: { locale?: string } = {}): CheckoutClient {\n    const requestSender = createRequestSender();\n    const cartRequestSender = new CartRequestSender(requestSender);\n    const configRequestSender = new ConfigRequestSender(requestSender);\n    const couponRequestSender = new CouponRequestSender(requestSender);\n    const countryRequestSender = new CountryRequestSender(requestSender, config);\n    const customerRequestSender = new CustomerRequestSender(requestSender);\n    const giftCertificateRequestSender = new GiftCertificateRequestSender(requestSender);\n    const orderRequestSender = new OrderRequestSender(requestSender);\n    const paymentMethodRequestSender = new PaymentMethodRequestSender(requestSender);\n    const quoteRequestSender = new QuoteRequestSender(requestSender);\n    const shippingCountryRequestSender = new ShippingCountryRequestSender(requestSender, config);\n    const shippingOptionRequestSender = new ShippingOptionRequestSender(requestSender);\n    const billingAddressRequestSender = new BillingAddressRequestSender(requestSender);\n    const shippingAddressRequestSender = new ShippingAddressRequestSender(requestSender);\n\n    return new CheckoutClient(\n        billingAddressRequestSender,\n        cartRequestSender,\n        configRequestSender,\n        countryRequestSender,\n        couponRequestSender,\n        customerRequestSender,\n        giftCertificateRequestSender,\n        orderRequestSender,\n        paymentMethodRequestSender,\n        quoteRequestSender,\n        shippingAddressRequestSender,\n        shippingCountryRequestSender,\n        shippingOptionRequestSender\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-client.ts","export const LOAD_CART_REQUESTED = 'LOAD_CART_REQUESTED';\nexport const LOAD_CART_SUCCEEDED = 'LOAD_CART_SUCCEEDED';\nexport const LOAD_CART_FAILED = 'LOAD_CART_FAILED';\nexport const VERIFY_CART_REQUESTED = 'VERIFY_CART_REQUESTED';\nexport const VERIFY_CART_SUCCEEDED = 'VERIFY_CART_SUCCEEDED';\nexport const VERIFY_CART_FAILED = 'VERIFY_CART_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-action-types.ts","import { isEqual, omit } from 'lodash';\n\nimport { omitPrivate } from '../common/utility';\n\nimport InternalCart from './internal-cart';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CartComparator {\n    isEqual(cartA: InternalCart, cartB: InternalCart): boolean {\n        return isEqual(\n            this._normalize(cartA),\n            this._normalize(cartB)\n        );\n    }\n\n    _normalize(cart: InternalCart): InternalCart {\n        return omitPrivate({\n            ...cart,\n            items: cart.items && cart.items.map(\n                (item: any) => omit(item, ['id', 'imageUrl'])\n            ),\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-comparator.ts","import { find } from 'lodash';\n\nimport { Checkout } from '../checkout';\nimport { mapToInternalCoupon, mapToInternalGiftCertificate } from '../coupon';\n\nimport InternalCart from './internal-cart';\nimport mapToInternalLineItems from './map-to-internal-line-items';\n\nexport default function mapToInternalCart(checkout: Checkout, existingCart: InternalCart): InternalCart {\n    return {\n        id: checkout.cart.id,\n        items: mapToInternalLineItems(checkout.cart.lineItems, existingCart.items),\n        currency: checkout.cart.currency.code,\n        subtotal: existingCart.subtotal,\n        coupon: {\n            discountedAmount: existingCart.coupon.discountedAmount,\n            coupons: checkout.cart.coupons.map(coupon =>\n                mapToInternalCoupon(\n                    coupon,\n                    // tslint:disable-next-line:no-non-null-assertion\n                    find(existingCart.coupon.coupons, { code: coupon.code })!\n                )\n            ),\n        },\n        discount: {\n            amount: checkout.cart.discountAmount,\n            integerAmount: existingCart.discount.integerAmount,\n        },\n        discountNotifications: existingCart.discountNotifications,\n        giftCertificate: {\n            totalDiscountedAmount: existingCart.giftCertificate.totalDiscountedAmount,\n            appliedGiftCertificates: checkout.giftCertificates.map(giftCertificate =>\n                mapToInternalGiftCertificate(\n                    giftCertificate,\n                    // tslint:disable-next-line:no-non-null-assertion\n                    find(existingCart.giftCertificate.appliedGiftCertificates, { code: giftCertificate.code })!\n                )\n            ),\n        },\n        shipping: {\n            amount: checkout.shippingCostTotal,\n            integerAmount: existingCart.shipping.integerAmount,\n            amountBeforeDiscount: existingCart.shipping.amountBeforeDiscount,\n            integerAmountBeforeDiscount: existingCart.shipping.integerAmountBeforeDiscount,\n            required: existingCart.shipping.required,\n        },\n        storeCredit: {\n            amount: checkout.storeCredit,\n        },\n        taxSubtotal: existingCart.taxSubtotal,\n        taxes: existingCart.taxes,\n        taxTotal: {\n            amount: checkout.taxTotal,\n            integerAmount: existingCart.taxTotal.integerAmount,\n        },\n        handling: existingCart.handling,\n        grandTotal: {\n            amount: checkout.grandTotal,\n            integerAmount: existingCart.grandTotal.integerAmount,\n        },\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/map-to-internal-cart.ts","import { find } from 'lodash';\n\nimport InternalLineItem from './internal-line-item';\nimport { LineItem } from './line-item';\nimport LineItemMap from './line-item-map';\nimport mapToInternalLineItem from './map-to-internal-line-item';\n\nexport default function mapToInternalLineItems(itemMap: LineItemMap, existingItems: InternalLineItem[]): InternalLineItem[] {\n    return (Object.keys(itemMap) as Array<keyof LineItemMap>)\n        .reduce((result, key) => [\n            ...result,\n            ...(itemMap[key] as LineItem[]).map(item => {\n                // tslint:disable-next-line:no-non-null-assertion\n                const existingItem = find(existingItems, { id: item.id })!;\n\n                return mapToInternalLineItem(item, existingItem, mapToInternalLineItemType(key));\n            }),\n        ], [] as InternalLineItem[]);\n}\n\nfunction mapToInternalLineItemType(type: string): string {\n    switch (type) {\n        case 'physicalItems':\n            return 'ItemPhysicalEntity';\n\n        case 'digitalItems':\n            return 'ItemDigitalEntity';\n\n        case 'giftCertificates':\n            return 'ItemGiftCertificateEntity';\n\n        default:\n            return '';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/map-to-internal-line-items.ts","import InternalLineItem from './internal-line-item';\nimport { LineItem } from './line-item';\n\nexport default function mapToInternalLineItem(item: LineItem, existingItem: InternalLineItem, type: string): InternalLineItem {\n    return {\n        amount: existingItem.amount,\n        amountAfterDiscount: existingItem.amountAfterDiscount,\n        attributes: existingItem.attributes,\n        discount: item.discountAmount,\n        id: item.id,\n        imageUrl: item.imageUrl,\n        integerAmount: existingItem.integerAmount,\n        integerAmountAfterDiscount: existingItem.integerAmountAfterDiscount,\n        integerDiscount: existingItem.integerDiscount,\n        integerTax: existingItem.integerTax,\n        name: item.name,\n        quantity: item.quantity,\n        tax: existingItem.tax,\n        variantId: item.variantId,\n        type,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/map-to-internal-line-item.ts","import { Action } from '@bigcommerce/data-store';\n\nimport Config from './config';\n\nexport enum ConfigActionType {\n    LoadConfigRequested = 'LOAD_CONFIG_REQUESTED',\n    LoadConfigSucceeded = 'LOAD_CONFIG_SUCCEEDED',\n    LoadConfigFailed = 'LOAD_CONFIG_FAILED',\n}\n\nexport type LoadConfigAction =\n    LoadConfigRequestedAction |\n    LoadConfigSucceededAction |\n    LoadConfigFailedAction;\n\nexport interface LoadConfigRequestedAction extends Action {\n    type: ConfigActionType.LoadConfigRequested;\n}\n\nexport interface LoadConfigSucceededAction extends Action<Config> {\n    type: ConfigActionType.LoadConfigSucceeded;\n}\n\nexport interface LoadConfigFailedAction extends Action<Error> {\n    type: ConfigActionType.LoadConfigFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-actions.ts","import { mapToInternalAddress } from '../address';\nimport { Checkout } from '../checkout';\n\nimport InternalQuote from './internal-quote';\n\nexport default function mapToInternalQuote(checkout: Checkout, existingQuote: InternalQuote): InternalQuote {\n    return {\n        orderComment: existingQuote.orderComment,\n        shippingOption: checkout.consignments[0] ? checkout.consignments[0].selectedShippingOptionId : existingQuote.shippingOption,\n        billingAddress: mapToInternalAddress(checkout.billingAddress, existingQuote.billingAddress),\n        shippingAddress: checkout.consignments[0] ? mapToInternalAddress(checkout.consignments[0].shippingAddress, existingQuote.shippingAddress) : existingQuote.shippingAddress,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/map-to-internal-quote.ts","export const INITIALIZE_REMOTE_BILLING_REQUESTED = 'INITIALIZE_REMOTE_BILLING_REQUESTED';\nexport const INITIALIZE_REMOTE_BILLING_SUCCEEDED = 'INITIALIZE_REMOTE_BILLING_SUCCEEDED';\nexport const INITIALIZE_REMOTE_BILLING_FAILED = 'INITIALIZE_REMOTE_BILLING_FAILED';\n\nexport const INITIALIZE_REMOTE_SHIPPING_REQUESTED = 'INITIALIZE_REMOTE_SHIPPING_REQUESTED';\nexport const INITIALIZE_REMOTE_SHIPPING_SUCCEEDED = 'INITIALIZE_REMOTE_SHIPPING_SUCCEEDED';\nexport const INITIALIZE_REMOTE_SHIPPING_FAILED = 'INITIALIZE_REMOTE_SHIPPING_FAILED';\n\nexport const INITIALIZE_REMOTE_PAYMENT_REQUESTED = 'INITIALIZE_REMOTE_PAYMENT_REQUESTED';\nexport const INITIALIZE_REMOTE_PAYMENT_SUCCEEDED = 'INITIALIZE_REMOTE_PAYMENT_SUCCEEDED';\nexport const INITIALIZE_REMOTE_PAYMENT_FAILED = 'INITIALIZE_REMOTE_PAYMENT_FAILED';\n\nexport const SIGN_OUT_REMOTE_CUSTOMER_REQUESTED = 'SIGN_OUT_REMOTE_CUSTOMER_REQUESTED';\nexport const SIGN_OUT_REMOTE_CUSTOMER_SUCCEEDED = 'SIGN_OUT_REMOTE_CUSTOMER_SUCCEEDED';\nexport const SIGN_OUT_REMOTE_CUSTOMER_FAILED = 'SIGN_OUT_REMOTE_CUSTOMER_FAILED';\n\nexport const SET_REMOTE_CHECKOUT_META = 'SET_REMOTE_CHECKOUT_META';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-action-types.ts","import { createAction, createErrorAction, Action, ThunkAction } from '@bigcommerce/data-store';\nimport { pick } from 'lodash';\nimport { concat } from 'rxjs/observable/concat';\nimport { defer } from 'rxjs/observable/defer';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { MissingDataError, NotInitializedError } from '../common/error/errors';\nimport { InternalOrder, OrderActionCreator } from '../order';\n\nimport isVaultedInstrument from './is-vaulted-instrument';\nimport Payment from './payment';\nimport * as actionTypes from './payment-action-types';\nimport PaymentMethod from './payment-method';\nimport PaymentMethodSelector from './payment-method-selector';\nimport PaymentRequestBody from './payment-request-body';\nimport PaymentRequestSender from './payment-request-sender';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class PaymentActionCreator {\n    constructor(\n        private _paymentRequestSender: PaymentRequestSender,\n        private _orderActionCreator: OrderActionCreator\n    ) {}\n\n    submitPayment(payment: Payment): ThunkAction<Action, InternalCheckoutSelectors> {\n        return store => concat(\n            Observable.create((observer: Observer<Action>) => {\n                observer.next(createAction(actionTypes.SUBMIT_PAYMENT_REQUESTED));\n\n                return this._paymentRequestSender.submitPayment(\n                    this._getPaymentRequestBody(payment, store.getState())\n                )\n                    .then(({ body }) => {\n                        observer.next(createAction(actionTypes.SUBMIT_PAYMENT_SUCCEEDED, body));\n                        observer.complete();\n                    })\n                    .catch(response => {\n                        observer.error(createErrorAction(actionTypes.SUBMIT_PAYMENT_FAILED, response));\n                    });\n            }),\n            defer(() => {\n                const state = store.getState();\n                const order = state.order.getOrder();\n\n                if (!order || !order.orderId) {\n                    throw new MissingDataError('Unable to reload order data because \"order.orderId\" is missing');\n                }\n\n                return this._orderActionCreator.loadOrder(order.orderId);\n            })\n        );\n    }\n\n    initializeOffsitePayment(payment: Payment): ThunkAction<Action, InternalCheckoutSelectors> {\n        return store =>\n            Observable.create((observer: Observer<Action>) => {\n                observer.next(createAction(actionTypes.INITIALIZE_OFFSITE_PAYMENT_REQUESTED));\n\n                return this._paymentRequestSender.initializeOffsitePayment(\n                    this._getPaymentRequestBody(payment, store.getState())\n                )\n                    .then(() => {\n                        observer.next(createAction(actionTypes.INITIALIZE_OFFSITE_PAYMENT_SUCCEEDED));\n                        observer.complete();\n                    })\n                    .catch(() => {\n                        observer.error(createErrorAction(actionTypes.INITIALIZE_OFFSITE_PAYMENT_FAILED));\n                    });\n            });\n    }\n\n    private _getPaymentRequestBody(payment: Payment, state: InternalCheckoutSelectors): PaymentRequestBody {\n        const deviceSessionId = state.quote.getQuoteMeta().request.deviceSessionId;\n        const billingAddress = state.billingAddress.getBillingAddress();\n        const cart = state.cart.getCart();\n        const customer = state.customer.getCustomer();\n        const order = state.order.getOrder() as InternalOrder;\n        const paymentMethod = this._getPaymentMethod(payment, state.paymentMethods);\n        const shippingAddress = state.shippingAddress.getShippingAddress();\n        const shippingOption = state.shippingOptions.getSelectedShippingOption();\n        const config = state.config.getStoreConfig();\n        const instrumentMeta = state.instruments.getInstrumentsMeta();\n\n        if (!config) {\n            throw new NotInitializedError('Config data is missing');\n        }\n\n        const authToken = payment.paymentData && instrumentMeta && isVaultedInstrument(payment.paymentData) ?\n            `${state.order.getPaymentAuthToken()}, ${instrumentMeta.vaultAccessToken}` :\n            state.order.getPaymentAuthToken();\n\n        if (!authToken || !payment.paymentData) {\n            throw new MissingDataError('Unable to submit payment because \"authToken\" or \"paymentData\" is missing.');\n        }\n\n        return {\n            billingAddress,\n            cart,\n            customer,\n            order,\n            paymentMethod,\n            shippingAddress,\n            shippingOption,\n            authToken,\n            orderMeta: state.order.getOrderMeta(),\n            payment: payment.paymentData,\n            quoteMeta: {\n                request: {\n                    ...state.quote.getQuoteMeta().request,\n                    deviceSessionId,\n                },\n            },\n            source: 'bigcommerce-checkout-js-sdk',\n            store: pick(config.storeProfile, [\n                'storeHash',\n                'storeId',\n                'storeLanguage',\n                'storeName',\n            ]),\n        };\n    }\n\n    private _getPaymentMethod(payment: Payment, paymentMethodSelector: PaymentMethodSelector): PaymentMethod | undefined {\n        const paymentMethod = paymentMethodSelector.getPaymentMethod(payment.methodId, payment.gatewayId);\n\n        return (paymentMethod && paymentMethod.method === 'multi-option' && !paymentMethod.gateway) ?\n            { ...paymentMethod, gateway: paymentMethod.id } :\n            paymentMethod;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-action-creator.ts","export const SUBMIT_PAYMENT_REQUESTED = 'SUBMIT_PAYMENT_REQUESTED';\nexport const SUBMIT_PAYMENT_SUCCEEDED = 'SUBMIT_PAYMENT_SUCCEEDED';\nexport const SUBMIT_PAYMENT_FAILED = 'SUBMIT_PAYMENT_FAILED';\n\nexport const INITIALIZE_OFFSITE_PAYMENT_REQUESTED = 'INITIALIZE_OFFSITE_PAYMENT_REQUESTED';\nexport const INITIALIZE_OFFSITE_PAYMENT_SUCCEEDED = 'INITIALIZE_OFFSITE_PAYMENT_SUCCEEDED';\nexport const INITIALIZE_OFFSITE_PAYMENT_FAILED = 'INITIALIZE_OFFSITE_PAYMENT_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-action-types.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './payment-method-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class PaymentMethodActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadPaymentMethods(options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_PAYMENT_METHODS_REQUESTED));\n\n            this._checkoutClient.loadPaymentMethods(options)\n                .then(response => {\n                    observer.next(createAction(actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED, response.body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_PAYMENT_METHODS_FAILED, response));\n                });\n        });\n    }\n\n    loadPaymentMethod(methodId: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_PAYMENT_METHOD_REQUESTED, undefined, { methodId }));\n\n            this._checkoutClient.loadPaymentMethod(methodId, options)\n                .then(response => {\n                    observer.next(createAction(actionTypes.LOAD_PAYMENT_METHOD_SUCCEEDED, response.body.data, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_PAYMENT_METHOD_FAILED, response, { methodId }));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-action-creator.ts","export const LOAD_PAYMENT_METHODS_REQUESTED = 'LOAD_PAYMENT_METHODS_REQUESTED';\nexport const LOAD_PAYMENT_METHODS_SUCCEEDED = 'LOAD_PAYMENT_METHODS_SUCCEEDED';\nexport const LOAD_PAYMENT_METHODS_FAILED = 'LOAD_PAYMENT_METHODS_FAILED';\n\nexport const LOAD_PAYMENT_METHOD_REQUESTED = 'LOAD_PAYMENT_METHOD_REQUESTED';\nexport const LOAD_PAYMENT_METHOD_SUCCEEDED = 'LOAD_PAYMENT_METHOD_SUCCEEDED';\nexport const LOAD_PAYMENT_METHOD_FAILED = 'LOAD_PAYMENT_METHOD_FAILED';\n\nexport const INITIALIZE_PAYMENT_METHOD_REQUESTED = 'INITIALIZE_PAYMENT_METHOD_REQUESTED';\nexport const INITIALIZE_PAYMENT_METHOD_SUCCEEDED = 'INITIALIZE_PAYMENT_METHOD_SUCCEEDED';\nexport const INITIALIZE_PAYMENT_METHOD_FAILED = 'INITIALIZE_PAYMENT_METHOD_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-action-types.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport PaymentRequestBody from './payment-request-body';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class PaymentRequestSender {\n    /**\n     * @constructor\n     * @param {BigpayClient} client\n     */\n    constructor(\n        private _client: any\n    ) {}\n\n    submitPayment(payload: PaymentRequestBody): Promise<Response> {\n        return new Promise((resolve, reject) => {\n            this._client.submitPayment(payload, (error: any, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    initializeOffsitePayment(payload: PaymentRequestBody): Promise<void> {\n        return new Promise(() => {\n            this._client.initializeOffsitePayment(payload);\n        });\n    }\n\n    private _transformResponse(response: any): Response {\n        return {\n            headers: {},\n            body: response.data,\n            status: response.status,\n            statusText: response.statusText,\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-request-sender.ts","import { ReadableDataStore } from '@bigcommerce/data-store';\nimport { some } from 'lodash';\n\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { NotInitializedError } from '../common/error/errors';\nimport { Registry } from '../common/registry';\nimport { RegistryOptions } from '../common/registry/registry';\n\nimport PaymentMethod from './payment-method';\nimport * as paymentMethodTypes from './payment-method-types';\nimport PaymentStrategy from './strategies/payment-strategy';\n\nexport default class PaymentStrategyRegistry extends Registry<PaymentStrategy> {\n    constructor(\n        private _store: ReadableDataStore<InternalCheckoutSelectors>,\n        options?: PaymentStrategyRegistryOptions\n    ) {\n        super(options);\n    }\n\n    getByMethod(paymentMethod?: PaymentMethod): PaymentStrategy {\n        if (!paymentMethod) {\n            return this.get();\n        }\n\n        const token = this._getToken(paymentMethod);\n        const cacheToken = paymentMethod.gateway || paymentMethod.id;\n\n        return this.get(token, cacheToken);\n    }\n\n    private _getToken(paymentMethod: PaymentMethod): string {\n        const methodId = paymentMethod.gateway || paymentMethod.id;\n\n        if (this.hasFactory(methodId)) {\n            return methodId;\n        }\n\n        if (paymentMethod.type === paymentMethodTypes.OFFLINE) {\n            return 'offline';\n        }\n\n        if (this._isLegacyMethod(paymentMethod)) {\n            return 'legacy';\n        }\n\n        if (paymentMethod.type === paymentMethodTypes.HOSTED) {\n            return 'offsite';\n        }\n\n        return 'creditcard';\n    }\n\n    private _isLegacyMethod(paymentMethod: PaymentMethod): boolean {\n        const config = this._store.getState().config.getStoreConfig();\n\n        if (!config) {\n            throw new NotInitializedError('Config data is missing');\n        }\n\n        const { clientSidePaymentProviders } = config.paymentSettings;\n\n        if (!clientSidePaymentProviders || paymentMethod.gateway === 'adyen') {\n            return false;\n        }\n\n        return !some(clientSidePaymentProviders, id =>\n            paymentMethod.id === id || paymentMethod.gateway === id\n        );\n    }\n}\n\nexport interface PaymentStrategyRegistryOptions extends RegistryOptions {\n    clientSidePaymentProviders?: string[];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-registry.ts","export { default as OrderFinalizationNotRequiredError } from './order-finalization-not-required-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/errors/index.ts","export { default as RemoteCheckoutSynchronizationError } from './remote-checkout-synchronization-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/errors/index.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class CreditCardPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = payload;\n        const paymentData = payment && payment.paymentData;\n\n        if (!payment || !paymentData) {\n            throw new PaymentArgumentInvalidError(['payment.paymentData']);\n        }\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment({ ...payment, paymentData }))\n            );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/credit-card-payment-strategy.ts","import { InternalAddress } from '../../../address';\nimport { NotInitializedError } from '../../../common/error/errors';\nimport { CancellablePromise } from '../../../common/utility';\nimport { OrderPaymentRequestBody } from '../../../order';\nimport { PaymentMethodCancelledError } from '../../errors';\nimport { CreditCardInstrument, NonceInstrument } from '../../payment';\n\nimport { BraintreePaypal, BraintreeRequestData } from './braintree';\nimport { BraintreePaymentInitializeOptions, BraintreeThreeDSecureOptions } from './braintree-payment-options';\nimport BraintreeSDKCreator from './braintree-sdk-creator';\n\nexport default class BraintreePaymentProcessor {\n    private _threeDSecureOptions?: BraintreeThreeDSecureOptions;\n\n    constructor(\n        private _braintreeSDKCreator: BraintreeSDKCreator\n    ) {}\n\n    initialize(clientToken: string, options?: BraintreePaymentInitializeOptions): void {\n        this._braintreeSDKCreator.initialize(clientToken);\n        this._threeDSecureOptions = options && options.threeDSecure;\n    }\n\n    preloadPaypal(): Promise<BraintreePaypal> {\n        return this._braintreeSDKCreator.getPaypal();\n    }\n\n    tokenizeCard(payment: OrderPaymentRequestBody, billingAddress: InternalAddress): Promise<NonceInstrument> {\n        const { paymentData } = payment;\n        const requestData = this._mapToCreditCard(paymentData as CreditCardInstrument, billingAddress);\n\n        return this._braintreeSDKCreator.getClient()\n            .then(client => client.request(requestData))\n            .then(({ creditCards }) => ({\n                nonce: creditCards[0].nonce,\n            }));\n    }\n\n    paypal(amount: number, storeLanguage: string, currency: string, offerCredit: boolean): Promise<NonceInstrument> {\n        return this._braintreeSDKCreator.getPaypal()\n            .then(paypal => paypal.tokenize({\n                amount,\n                currency,\n                enableShippingAddress: true,\n                flow: 'checkout',\n                locale: storeLanguage,\n                offerCredit,\n                useraction: 'commit',\n            }));\n    }\n\n    verifyCard(payment: OrderPaymentRequestBody, billingAddress: InternalAddress, amount: number): Promise<NonceInstrument> {\n        if (!this._threeDSecureOptions) {\n            throw new NotInitializedError('Unable to verify card because the choosen payment method has not been initialized.');\n        }\n\n        const { addFrame, removeFrame } = this._threeDSecureOptions;\n\n        return Promise.all([\n            this.tokenizeCard(payment, billingAddress),\n            this._braintreeSDKCreator.get3DS(),\n        ]).then(([paymentData, threeDSecure]) => {\n            const { nonce } = paymentData;\n            const cancelVerifyCard = () => threeDSecure.cancelVerifyCard()\n                .then(response => {\n                    verification.cancel(new PaymentMethodCancelledError());\n\n                    return response;\n                });\n\n            const verification = new CancellablePromise(\n                threeDSecure.verifyCard({\n                    addFrame: (error, iframe) => {\n                        addFrame(error, iframe, cancelVerifyCard);\n                    },\n                    amount,\n                    nonce,\n                    removeFrame,\n                })\n            );\n\n            return verification.promise;\n        });\n    }\n\n    appendSessionId(processedPayment: Promise<NonceInstrument>): Promise<NonceInstrument> {\n        return processedPayment\n            .then(paymentData => Promise.all([paymentData, this._braintreeSDKCreator.getDataCollector()]))\n            .then(([paymentData, { deviceData }]) => ({ ...paymentData, deviceSessionId: deviceData }));\n    }\n\n    deinitialize(): Promise<void> {\n        return this._braintreeSDKCreator.teardown();\n    }\n\n    private _mapToCreditCard(creditCard: CreditCardInstrument, billingAddress: InternalAddress): BraintreeRequestData {\n        let streetAddress = billingAddress.addressLine1;\n\n        if (billingAddress.addressLine2) {\n            streetAddress = ` ${billingAddress.addressLine2}`;\n        }\n\n        return {\n            data: {\n                creditCard: {\n                    cardholderName: creditCard.ccName,\n                    number: creditCard.ccNumber,\n                    cvv: creditCard.ccCvv,\n                    expirationDate: `${creditCard.ccExpiry.month}/${creditCard.ccExpiry.year}`,\n                    options: {\n                        validate: false,\n                    },\n                    billingAddress: {\n                        countryName: billingAddress.country,\n                        postalCode: billingAddress.postCode,\n                        streetAddress,\n                    },\n                },\n            },\n            endpoint: 'payment_methods/credit_cards',\n            method: 'post',\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-payment-processor.ts","import { RequestSender } from '@bigcommerce/request-sender';\n\nimport { InternalAddress } from '../../../address';\nimport { NotInitializedError } from '../../../common/error/errors';\n\nimport { BraintreeDataCollector } from './braintree';\nimport BraintreeSDKCreator from './braintree-sdk-creator';\nimport {\n    VisaCheckoutAddress,\n    VisaCheckoutInitOptions,\n    VisaCheckoutPaymentSuccessPayload,\n    VisaCheckoutTokenizedPayload,\n} from './visacheckout';\n\nexport default class BraintreeVisaCheckoutPaymentProcessor {\n    constructor(\n        private _braintreeSDKCreator: BraintreeSDKCreator,\n        private _requestSender: RequestSender\n    ) {}\n\n    initialize(clientToken: string, options: VisaCheckoutInitializeOptions): Promise<VisaCheckoutInitOptions> {\n        if (!clientToken) {\n            throw new NotInitializedError();\n        }\n\n        this._braintreeSDKCreator.initialize(clientToken);\n\n        return this._braintreeSDKCreator.getVisaCheckout()\n            .then(visaCheckout => visaCheckout.createInitOptions({\n                settings: {\n                    locale: options.locale,\n                    shipping: {\n                        collectShipping: options.collectShipping,\n                    },\n                },\n                paymentRequest: {\n                    currencyCode: options.currencyCode,\n                    subtotal: String(options.subtotal),\n                },\n            }));\n    }\n\n    deinitialize(): Promise<void> {\n        return this._braintreeSDKCreator.teardown();\n    }\n\n    handleSuccess(payment: VisaCheckoutPaymentSuccessPayload, shipping?: InternalAddress, billing?: InternalAddress): Promise<any> {\n        return this._braintreeSDKCreator.getVisaCheckout()\n            .then(braintreeVisaCheckout => Promise.all([\n                braintreeVisaCheckout.tokenize(payment),\n                this._braintreeSDKCreator.getDataCollector(),\n            ])\n            .then(([tokenizedPayload, dataCollector]) => {\n                const {\n                    shippingAddress = this._toVisaCheckoutAddress(shipping),\n                    billingAddress = this._toVisaCheckoutAddress(billing),\n                } = tokenizedPayload;\n\n                return this._postForm({\n                    ...tokenizedPayload,\n                    shippingAddress,\n                    billingAddress,\n                }, dataCollector);\n            }));\n    }\n\n    private _postForm(paymentData: VisaCheckoutTokenizedPayload, dataCollector: BraintreeDataCollector) {\n        const {\n            userData,\n            billingAddress,\n            shippingAddress,\n            details: cardInformation,\n        } = paymentData;\n        const { userEmail } = userData;\n        const { deviceData } = dataCollector;\n\n        return this._requestSender.post('/checkout.php', {\n            headers: {\n                Accept: 'text/html',\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            body: this._toFormUrlEncoded({\n                payment_type: paymentData.type,\n                nonce: paymentData.nonce,\n                provider: 'braintreevisacheckout',\n                action: 'set_external_checkout',\n                device_data: deviceData,\n                card_information: this._getCardInformation(cardInformation),\n                billing_address: this._getAddress(userEmail, billingAddress),\n                shipping_address: this._getAddress(userEmail, shippingAddress),\n            }),\n        });\n    }\n\n    private _toFormUrlEncoded(data: { [key: string]: object | string | undefined }): string {\n        return Object.keys(data)\n            .filter(key => data[key] !== undefined)\n            .map(key => {\n                const value = data[key];\n\n                if (typeof value === 'string') {\n                    return `${key}=${encodeURIComponent(value)}`;\n                }\n\n                return `${key}=${encodeURIComponent(JSON.stringify(value) || '')}`;\n            })\n            .join('&');\n    }\n\n    private _toVisaCheckoutAddress(address?: InternalAddress): VisaCheckoutAddress {\n        if (!address) {\n            return {};\n        }\n\n        return {\n            firstName: address.firstName,\n            lastName: address.lastName,\n            phoneNumber: address.phone,\n            streetAddress: address.addressLine1,\n            extendedAddress: address.addressLine2,\n            locality: address.city,\n            region: address.provinceCode,\n            countryCode: address.countryCode,\n            postalCode: address.postCode,\n        };\n    }\n\n    private _getAddress(email: string, address: VisaCheckoutAddress = {}) {\n        return {\n            email,\n            first_name: address.firstName,\n            last_name: address.lastName,\n            phone_number: address.phoneNumber,\n            address_line_1: address.streetAddress,\n            address_line_2: address.extendedAddress,\n            city: address.locality,\n            state: address.region,\n            country_code: address.countryCode,\n            postal_code: address.postalCode,\n        };\n    }\n\n    private _getCardInformation(cardInformation: { cardType: string, lastTwo: string }) {\n        return {\n            type: cardInformation.cardType,\n            number: cardInformation.lastTwo,\n        };\n    }\n}\n\nexport interface VisaCheckoutInitializeOptions {\n    locale?: string;\n    collectShipping?: boolean;\n    subtotal?: number;\n    currencyCode?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-visacheckout-payment-processor.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { StandardError } from '../../../common/error/errors';\n\nimport {\n    BraintreeClientCreator,\n    BraintreeDataCollectorCreator,\n    BraintreeHostWindow,\n    BraintreePaypalCreator,\n    BraintreeThreeDSecureCreator,\n    BraintreeVisaCheckoutCreator,\n} from './braintree';\n\nexport default class BraintreeScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader,\n        private _window: BraintreeHostWindow = window\n    ) {}\n\n    loadClient(): Promise<BraintreeClientCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/client.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.client) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.client;\n            });\n    }\n\n    load3DS(): Promise<BraintreeThreeDSecureCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/three-d-secure.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.threeDSecure) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.threeDSecure;\n            });\n    }\n\n    loadDataCollector(): Promise<BraintreeDataCollectorCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/data-collector.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.dataCollector) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.dataCollector;\n            });\n    }\n\n    loadPaypal(): Promise<BraintreePaypalCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/paypal.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.paypal) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.paypal;\n            });\n    }\n\n    loadVisaCheckout(): Promise<BraintreeVisaCheckoutCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/visa-checkout.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.visaCheckout) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.visaCheckout;\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-script-loader.ts","import { NotInitializedError } from '../../../common/error/errors';\n\nimport {\n    BraintreeClient,\n    BraintreeDataCollector,\n    BraintreeModule,\n    BraintreePaypal,\n    BraintreeThreeDSecure,\n    BraintreeVisaCheckout,\n} from './braintree';\nimport BraintreeScriptLoader from './braintree-script-loader';\n\nexport default class BraintreeSDKCreator {\n    private _client?: Promise<BraintreeClient>;\n    private _3ds?: Promise<BraintreeThreeDSecure>;\n    private _dataCollector?: Promise<BraintreeDataCollector>;\n    private _paypal?: Promise<BraintreePaypal>;\n    private _clientToken?: string;\n    private _visaCheckout?: Promise<BraintreeVisaCheckout>;\n\n    constructor(\n        private _braintreeScriptLoader: BraintreeScriptLoader\n    ) {}\n\n    initialize(clientToken: string) {\n        this._clientToken = clientToken;\n    }\n\n    getClient(): Promise<BraintreeClient> {\n        if (!this._clientToken) {\n            throw new NotInitializedError();\n        }\n\n        if (!this._client) {\n            this._client = this._braintreeScriptLoader.loadClient()\n                .then(client => client.create({ authorization: this._clientToken }));\n        }\n\n        return this._client;\n    }\n\n    getPaypal(): Promise<BraintreePaypal> {\n        if (!this._paypal) {\n            this._paypal = Promise.all([\n                this.getClient(),\n                this._braintreeScriptLoader.loadPaypal(),\n            ])\n            .then(([client, paypal]) => paypal.create({ client }));\n        }\n\n        return this._paypal;\n    }\n\n    get3DS(): Promise<BraintreeThreeDSecure> {\n        if (!this._3ds) {\n            this._3ds = Promise.all([\n                this.getClient(),\n                this._braintreeScriptLoader.load3DS(),\n            ])\n            .then(([client, threeDSecure]) => threeDSecure.create({ client }));\n        }\n\n        return this._3ds;\n    }\n\n    getDataCollector(): Promise<BraintreeDataCollector> {\n        if (!this._dataCollector) {\n            this._dataCollector = Promise.all([\n                this.getClient(),\n                this._braintreeScriptLoader.loadDataCollector(),\n            ])\n            .then(([client, dataCollector]) => dataCollector.create({ client, kount: true }))\n            .catch(error => {\n                if (error && error.code === 'DATA_COLLECTOR_KOUNT_NOT_ENABLED') {\n                    return { deviceData: undefined, teardown: () => Promise.resolve() };\n                }\n\n                throw error;\n            });\n        }\n\n        return this._dataCollector;\n    }\n\n    getVisaCheckout(): Promise<BraintreeVisaCheckout> {\n        if (!this._visaCheckout) {\n            this._visaCheckout = Promise.all([\n                this.getClient(),\n                this._braintreeScriptLoader.loadVisaCheckout(),\n            ])\n            .then(([client, visaCheckout]) => visaCheckout.create({ client }));\n        }\n\n        return this._visaCheckout;\n    }\n\n    teardown(): Promise<void> {\n        return Promise.all([\n            this._teardown(this._3ds),\n            this._teardown(this._dataCollector),\n            this._teardown(this._visaCheckout),\n        ]).then(() => {\n            this._3ds = undefined;\n            this._dataCollector = undefined;\n            this._visaCheckout = undefined;\n        });\n    }\n\n    private _teardown(module?: Promise<BraintreeModule>) {\n        return module ?\n            module.then(mod => mod.teardown()) :\n            Promise.resolve();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-sdk-creator.ts","export { default as SquarePaymentStrategy, SquarePaymentInitializeOptions } from './square-payment-strategy';\nexport { default as SquareScriptLoader } from './square-script-loader';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/square/index.ts","import { Action } from '@bigcommerce/data-store';\n\nexport enum PaymentStrategyActionType {\n    ExecuteFailed = 'PAYMENT_STRATEGY_EXECUTE_FAILED',\n    ExecuteRequested = 'PAYMENT_STRATEGY_EXECUTE_REQUESTED',\n    ExecuteSucceeded = 'PAYMENT_STRATEGY_EXECUTE_SUCCEEDED',\n    FinalizeFailed = 'PAYMENT_STRATEGY_FINALIZE_FAILED',\n    FinalizeRequested = 'PAYMENT_STRATEGY_FINALIZE_REQUESTED',\n    FinalizeSucceeded = 'PAYMENT_STRATEGY_FINALIZE_SUCCEEDED',\n    InitializeFailed = 'PAYMENT_STRATEGY_INITIALIZE_FAILED',\n    InitializeRequested = 'PAYMENT_STRATEGY_INITIALIZE_REQUESTED',\n    InitializeSucceeded = 'PAYMENT_STRATEGY_INITIALIZE_SUCCEEDED',\n    DeinitializeFailed = 'PAYMENT_STRATEGY_DEINITIALIZE_FAILED',\n    DeinitializeRequested = 'PAYMENT_STRATEGY_DEINITIALIZE_REQUESTED',\n    DeinitializeSucceeded = 'PAYMENT_STRATEGY_DEINITIALIZE_SUCCEEDED',\n    WidgetInteractionStarted = 'PAYMENT_STRATEGY_WIDGET_INTERACTION_STARTED',\n    WidgetInteractionFinished = 'PAYMENT_STRATEGY_WIDGET_INTERACTION_FINISHED',\n    WidgetInteractionFailed = 'PAYMENT_STRATEGY_WIDGET_INTERACTION_FAILED',\n}\n\nexport type PaymentStrategyAction =\n    PaymentStrategyExecuteAction |\n    PaymentStrategyFinalizeAction |\n    PaymentStrategyInitializeAction |\n    PaymentStrategyDeinitializeAction |\n    PaymentStrategyWidgetAction;\n\nexport type PaymentStrategyExecuteAction =\n    ExecuteRequestedAction |\n    ExecuteSucceededAction |\n    ExecuteFailedAction;\n\nexport type PaymentStrategyFinalizeAction =\n    FinalizeRequestedAction |\n    FinalizeSucceededAction |\n    FinalizeFailedAction;\n\nexport type PaymentStrategyInitializeAction =\n    InitializeRequestedAction |\n    InitializeSucceededAction |\n    InitializeFailedAction;\n\nexport type PaymentStrategyDeinitializeAction =\n    DeinitializeRequestedAction |\n    DeinitializeSucceededAction |\n    DeinitializeFailedAction;\n\nexport type PaymentStrategyWidgetAction =\n    WidgetInteractionStartedAction |\n    WidgetInteractionFinishedAction |\n    WidgetInteractionFailedAction;\n\nexport interface ExecuteRequestedAction extends Action {\n    type: PaymentStrategyActionType.ExecuteRequested;\n}\n\nexport interface ExecuteSucceededAction extends Action {\n    type: PaymentStrategyActionType.ExecuteSucceeded;\n}\n\nexport interface ExecuteFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.ExecuteFailed;\n}\n\nexport interface FinalizeRequestedAction extends Action {\n    type: PaymentStrategyActionType.FinalizeRequested;\n}\n\nexport interface FinalizeSucceededAction extends Action {\n    type: PaymentStrategyActionType.FinalizeSucceeded;\n}\n\nexport interface FinalizeFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.FinalizeFailed;\n}\n\nexport interface InitializeRequestedAction extends Action {\n    type: PaymentStrategyActionType.InitializeRequested;\n}\n\nexport interface InitializeSucceededAction extends Action {\n    type: PaymentStrategyActionType.InitializeSucceeded;\n}\n\nexport interface InitializeFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.InitializeFailed;\n}\n\nexport interface DeinitializeRequestedAction extends Action {\n    type: PaymentStrategyActionType.DeinitializeRequested;\n}\n\nexport interface DeinitializeSucceededAction extends Action {\n    type: PaymentStrategyActionType.DeinitializeSucceeded;\n}\n\nexport interface DeinitializeFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.DeinitializeFailed;\n}\n\nexport interface WidgetInteractionStartedAction extends Action {\n    type: PaymentStrategyActionType.WidgetInteractionStarted;\n}\n\nexport interface WidgetInteractionFinishedAction extends Action {\n    type: PaymentStrategyActionType.WidgetInteractionFinished;\n}\n\nexport interface WidgetInteractionFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.WidgetInteractionFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-actions.ts","export default interface PaymentStrategyState {\n    errors: PaymentStrategyErrorsState;\n    statuses: PaymentStrategyStatusesState;\n}\n\nexport interface PaymentStrategyErrorsState {\n    deinitializeError?: Error;\n    deinitializeMethodId?: string;\n    executeError?: Error;\n    executeMethodId?: string;\n    finalizeError?: Error;\n    finalizeMethodId?: string;\n    initializeError?: Error;\n    initializeMethodId?: string;\n    widgetInteractionError?: Error;\n    widgetInteractionMethodId?: string;\n}\n\nexport interface PaymentStrategyStatusesState {\n    deinitializeMethodId?: string;\n    executeMethodId?: string;\n    finalizeMethodId?: string;\n    initializeMethodId?: string;\n    isDeinitializing?: boolean;\n    isExecuting?: boolean;\n    isFinalizing?: boolean;\n    isInitializing?: boolean;\n    isWidgetInteracting?: boolean;\n    widgetInteractionMethodId?: string;\n}\n\nexport const DEFAULT_STATE: PaymentStrategyState = {\n    errors: {},\n    statuses: {},\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-state.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { RequestOptions } from '@bigcommerce/request-sender';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\n\nimport * as actionTypes from './customer-action-types';\nimport CustomerCredentials from './customer-credentials';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CustomerActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    signInCustomer(credentials: CustomerCredentials, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.SIGN_IN_CUSTOMER_REQUESTED));\n\n            this._checkoutClient.signInCustomer(credentials, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.SIGN_IN_CUSTOMER_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.SIGN_IN_CUSTOMER_FAILED, response));\n                });\n        });\n    }\n\n    signOutCustomer(options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.SIGN_OUT_CUSTOMER_REQUESTED));\n\n            this._checkoutClient.signOutCustomer(options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.SIGN_OUT_CUSTOMER_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.SIGN_OUT_CUSTOMER_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-action-creator.ts","import { Checkout } from '../checkout';\n\nimport InternalCustomer from './internal-customer';\n\nexport default function mapToInternalCustomer(checkout: Checkout, existingCustomer: InternalCustomer): InternalCustomer {\n    return {\n        addresses: existingCustomer.addresses,\n        customerId: checkout.cart.customerId,\n        customerGroupId: existingCustomer.customerGroupId,\n        customerGroupName: existingCustomer.customerGroupName,\n        isGuest: existingCustomer.isGuest,\n        phoneNumber: existingCustomer.phoneNumber,\n        remote: existingCustomer.remote,\n        storeCredit: checkout.storeCredit,\n        email: existingCustomer.email,\n        firstName: existingCustomer.firstName,\n        name: existingCustomer.name,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/map-to-internal-customer.ts","import { Action } from '@bigcommerce/data-store';\n\nexport enum CustomerStrategyActionType {\n    SignInFailed = 'CUSTOMER_STRATEGY_SIGN_IN_FAILED',\n    SignInRequested = 'CUSTOMER_STRATEGY_SIGN_IN_REQUESTED',\n    SignInSucceeded = 'CUSTOMER_STRATEGY_SIGN_IN_SUCCEEDED',\n    SignOutFailed = 'CUSTOMER_STRATEGY_SIGN_OUT_FAILED',\n    SignOutRequested = 'CUSTOMER_STRATEGY_SIGN_OUT_REQUESTED',\n    SignOutSucceeded = 'CUSTOMER_STRATEGY_SIGN_OUT_SUCCEEDED',\n    InitializeFailed = 'CUSTOMER_STRATEGY_INITIALIZE_FAILED',\n    InitializeRequested = 'CUSTOMER_STRATEGY_INITIALIZE_REQUESTED',\n    InitializeSucceeded = 'CUSTOMER_STRATEGY_INITIALIZE_SUCCEEDED',\n    DeinitializeFailed = 'CUSTOMER_STRATEGY_DEINITIALIZE_FAILED',\n    DeinitializeRequested = 'CUSTOMER_STRATEGY_DEINITIALIZE_REQUESTED',\n    DeinitializeSucceeded = 'CUSTOMER_STRATEGY_DEINITIALIZE_SUCCEEDED',\n    WidgetInteractionStarted = 'CUSTOMER_STRATEGY_WIDGET_INTERACTION_STARTED',\n    WidgetInteractionFinished = 'CUSTOMER_STRATEGY_WIDGET_INTERACTION_FINISHED',\n    WidgetInteractionFailed = 'CUSTOMER_STRATEGY_WIDGET_INTERACTION_FAILED',\n}\n\nexport type CustomerStrategyAction =\n    CustomerStrategySignInAction |\n    CustomerStrategySignOutAction |\n    CustomerStrategyInitializeAction |\n    CustomerStrategyDeinitializeAction |\n    CustomerStrategyWidgetAction;\n\nexport type CustomerStrategySignInAction =\n    SignInRequestedAction |\n    SignInSucceededAction |\n    SignInFailedAction;\n\nexport type CustomerStrategySignOutAction =\n    SignOutRequestedAction |\n    SignOutSucceededAction |\n    SignOutFailedAction;\n\nexport type CustomerStrategyInitializeAction =\n    InitializeRequestedAction |\n    InitializeSucceededAction |\n    InitializeFailedAction;\n\nexport type CustomerStrategyDeinitializeAction =\n    DeinitializeRequestedAction |\n    DeinitializeSucceededAction |\n    DeinitializeFailedAction;\n\nexport type CustomerStrategyWidgetAction =\n    WidgetInteractionStartedAction |\n    WidgetInteractionFinishedAction |\n    WidgetInteractionFailedAction;\n\nexport interface SignInRequestedAction extends Action {\n    type: CustomerStrategyActionType.SignInRequested;\n}\n\nexport interface SignInSucceededAction extends Action {\n    type: CustomerStrategyActionType.SignInSucceeded;\n}\n\nexport interface SignInFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.SignInFailed;\n}\n\nexport interface SignOutRequestedAction extends Action {\n    type: CustomerStrategyActionType.SignOutRequested;\n}\n\nexport interface SignOutSucceededAction extends Action {\n    type: CustomerStrategyActionType.SignOutSucceeded;\n}\n\nexport interface SignOutFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.SignOutFailed;\n}\n\nexport interface InitializeRequestedAction extends Action {\n    type: CustomerStrategyActionType.InitializeRequested;\n}\n\nexport interface InitializeSucceededAction extends Action {\n    type: CustomerStrategyActionType.InitializeSucceeded;\n}\n\nexport interface InitializeFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.InitializeFailed;\n}\n\nexport interface DeinitializeRequestedAction extends Action {\n    type: CustomerStrategyActionType.DeinitializeRequested;\n}\n\nexport interface DeinitializeSucceededAction extends Action {\n    type: CustomerStrategyActionType.DeinitializeSucceeded;\n}\n\nexport interface DeinitializeFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.DeinitializeFailed;\n}\n\nexport interface WidgetInteractionStartedAction extends Action {\n    type: CustomerStrategyActionType.WidgetInteractionStarted;\n}\n\nexport interface WidgetInteractionFinishedAction extends Action {\n    type: CustomerStrategyActionType.WidgetInteractionFinished;\n}\n\nexport interface WidgetInteractionFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.WidgetInteractionFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-actions.ts","export const LOAD_COUNTRIES_REQUESTED = 'LOAD_COUNTRIES_REQUESTED';\nexport const LOAD_COUNTRIES_SUCCEEDED = 'LOAD_COUNTRIES_SUCCEEDED';\nexport const LOAD_COUNTRIES_FAILED = 'LOAD_COUNTRIES_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-action-types.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalAddress } from '../address';\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './shipping-address-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action<T>\n */\nexport default class ShippingAddressActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    updateAddress(address: InternalAddress, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.UPDATE_SHIPPING_ADDRESS_REQUESTED));\n\n            this._checkoutClient.updateShippingAddress(address, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.UPDATE_SHIPPING_ADDRESS_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.UPDATE_SHIPPING_ADDRESS_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-address-action-creator.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './shipping-option-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class ShippingOptionActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadShippingOptions(options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_SHIPPING_OPTIONS_REQUESTED));\n\n            this._checkoutClient.loadShippingOptions(options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.LOAD_SHIPPING_OPTIONS_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_SHIPPING_OPTIONS_FAILED, response));\n                });\n        });\n    }\n\n    selectShippingOption(addressId: string, shippingOptionId: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.SELECT_SHIPPING_OPTION_REQUESTED));\n\n            this._checkoutClient.selectShippingOption(addressId, shippingOptionId, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.SELECT_SHIPPING_OPTION_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.SELECT_SHIPPING_OPTION_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-option-action-creator.ts","export const LOAD_SHIPPING_COUNTRIES_REQUESTED = 'LOAD_SHIPPING_COUNTRIES_REQUESTED';\nexport const LOAD_SHIPPING_COUNTRIES_SUCCEEDED = 'LOAD_SHIPPING_COUNTRIES_SUCCEEDED';\nexport const LOAD_SHIPPING_COUNTRIES_FAILED = 'LOAD_SHIPPING_COUNTRIES_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-action-types.ts","import { find } from 'lodash';\n\nimport Consignment from './consignment';\nimport InternalShippingOption from './internal-shipping-option';\nimport mapToInternalShippingOption from './map-to-internal-shipping-option';\n\nexport default function mapToInternalShippingOptions(consignments: Consignment[], existingOptions: { [key: string]: InternalShippingOption[] }): { [key: string]: InternalShippingOption[] } {\n    return consignments.reduce((result, consignment) => ({\n        ...result,\n        [consignment.shippingAddress.id]: (consignment.availableShippingOptions || []).map(option =>\n            // tslint:disable-next-line:no-non-null-assertion\n            mapToInternalShippingOption(option, find(existingOptions[consignment.shippingAddress.id], { id: option.id })!)\n        ),\n    }), {});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/map-to-internal-shipping-options.ts","import InternalShippingOption from './internal-shipping-option';\nimport ShippingOption from './shipping-option';\n\nexport default function mapToInternalShippingOption(option: ShippingOption, existingOption: InternalShippingOption): InternalShippingOption {\n    return {\n        description: option.description,\n        module: existingOption.module,\n        method: existingOption.method,\n        price: option.price,\n        formattedPrice: existingOption.formattedPrice,\n        id: option.id,\n        selected: existingOption.selected,\n        isRecommended: existingOption.isRecommended,\n        imageUrl: option.imageUrl,\n        transitTime: option.transitTime,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/map-to-internal-shipping-option.ts","import ConsoleLogger from './console-logger';\nimport Logger from './logger';\nimport NoopLogger from './noop-logger';\n\nconst logger = createLogger(process.env.NODE_ENV !== 'test');\n\nexport function createLogger(isEnabled = true): Logger {\n    if (!isEnabled) {\n        return new NoopLogger();\n    }\n\n    return new ConsoleLogger(console);\n}\n\nexport function getDefaultLogger(): Logger {\n    return logger;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/log/index.ts","export const LOAD_INSTRUMENTS_REQUESTED = 'LOAD_INSTRUMENTS_REQUESTED';\nexport const LOAD_INSTRUMENTS_SUCCEEDED = 'LOAD_INSTRUMENTS_SUCCEEDED';\nexport const LOAD_INSTRUMENTS_FAILED = 'LOAD_INSTRUMENTS_FAILED';\n\nexport const VAULT_INSTRUMENT_REQUESTED = 'VAULT_INSTRUMENT_REQUESTED';\nexport const VAULT_INSTRUMENT_SUCCEEDED = 'VAULT_INSTRUMENT_SUCCEEDED';\nexport const VAULT_INSTRUMENT_FAILED = 'VAULT_INSTRUMENT_FAILED';\n\nexport const DELETE_INSTRUMENT_REQUESTED = 'DELETE_INSTRUMENT_REQUESTED';\nexport const DELETE_INSTRUMENT_SUCCEEDED = 'DELETE_INSTRUMENT_SUCCEEDED';\nexport const DELETE_INSTRUMENT_FAILED = 'DELETE_INSTRUMENT_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-action-types.ts","import Instrument, { VaultAccessToken } from './instrument';\n\nexport default interface InstrumentState {\n    data: Instrument[];\n    errors: InstrumentErrorState;\n    statuses: InstrumentStatusState;\n    meta?: InstrumentMeta;\n}\n\nexport interface InstrumentErrorState {\n    deleteError?: Error;\n    failedInstrument?: string;\n    loadError?: Error;\n    vaultError?: Error;\n}\n\nexport interface InstrumentStatusState {\n    isDeleting?: boolean;\n    isLoading?: boolean;\n    isVaulting?: boolean;\n    deletingInstrument?: string;\n}\n\nexport type InstrumentMeta = VaultAccessToken;\n\nexport const DEFAULT_STATE: InstrumentState = {\n    data: [],\n    errors: {},\n    statuses: {},\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-state.ts","import { createDataStore } from '@bigcommerce/data-store';\n\nimport { createRequestErrorFactory } from '../common/error';\n\nimport CheckoutStore, { CheckoutStoreOptions } from './checkout-store';\nimport CheckoutStoreState from './checkout-store-state';\nimport createActionTransformer from './create-action-transformer';\nimport createCheckoutStoreReducer from './create-checkout-store-reducer';\nimport createInternalCheckoutSelectors from './create-internal-checkout-selectors';\n\nexport default function createCheckoutStore(\n    initialState: Partial<CheckoutStoreState> = {},\n    options?: CheckoutStoreOptions\n): CheckoutStore {\n    const actionTransformer = createActionTransformer(createRequestErrorFactory());\n    const stateTransformer = (state: CheckoutStoreState) => createInternalCheckoutSelectors(state);\n\n    return createDataStore(\n        createCheckoutStoreReducer(),\n        initialState,\n        { actionTransformer, stateTransformer, ...options }\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-store.ts","import { Response } from '@bigcommerce/request-sender';\nimport { last } from 'lodash';\n\nimport ErrorResponseBody from './error-response-body';\nimport { RequestError, TimeoutError } from './errors';\n\nexport default class RequestErrorFactory {\n    private _factoryMethods: { [key: string]: ErrorFactoryMethod } = {};\n\n    constructor() {\n        this.register('default', (response, message) => new RequestError(response, message));\n        this.register('timeout', response => new TimeoutError(response));\n    }\n\n    register(type: string, factoryMethod: ErrorFactoryMethod): void {\n        this._factoryMethods[type] = factoryMethod;\n    }\n\n    createError(response: Response, message?: string): Error {\n        const factoryMethod = this._factoryMethods[this._getType(response)] || this._factoryMethods.default;\n\n        return factoryMethod(response, message);\n    }\n\n    private _getType(response: Response<ErrorResponseBody>): string {\n        if (response.status === 0) {\n            return 'timeout';\n        }\n\n        if (response.body && typeof response.body.type === 'string') {\n            return last(response.body.type.split('/')) || 'default';\n        }\n\n        const error = last(response.body && response.body.errors);\n\n        return error && error.code ? error.code : 'default';\n    }\n}\n\nexport type ErrorFactoryMethod = (response: Response, message?: string) => Error;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/request-error-factory.ts","/// <reference path=\"./messageformat.d.ts\" />\nimport { isObject, union } from 'lodash';\nimport * as MessageFormat from 'messageformat';\n\nimport Logger from '../common/log/logger';\n\nimport LanguageConfig, { Locales, Translations } from './language-config';\n\nconst DEFAULT_LOCALE = 'en';\nconst KEY_PREFIX = 'optimized_checkout';\n\nexport default class LanguageService {\n    private _locale: string;\n    private _locales: Locales;\n    private _translations: Translations;\n    private _formatters: { [key: string]: any };\n\n    /**\n     * @internal\n     */\n    constructor(\n        config: Partial<LanguageConfig>,\n        private _logger: Logger\n    ) {\n        const { locale, locales, translations } = this._transformConfig(config);\n\n        this._locale = locale;\n        this._locales = locales;\n        this._translations = translations;\n        this._formatters = {};\n    }\n\n    mapKeys(maps: { [key: string]: string } = {}): void {\n        Object.keys(maps).forEach(key => {\n            const translationKey = `${KEY_PREFIX}.${maps[key]}`;\n\n            this._translations[`${KEY_PREFIX}.${key}`] = this._translations[translationKey];\n        });\n    }\n\n    getLocale(): string {\n        return this._hasTranslations() ? this._locale : DEFAULT_LOCALE;\n    }\n\n    translate(rawKey: string, data: TranslationData = {}): string {\n        const key = `${KEY_PREFIX}.${rawKey}`;\n\n        if (typeof this._translations[key] !== 'string') {\n            this._logger.warn(`Translation key \"${key}\" is missing`);\n\n            return key;\n        }\n\n        if (!this._formatters[key]) {\n            const messageFormat = new MessageFormat(this._locales[key]);\n\n            this._formatters[key] = messageFormat.compile(this._translations[key] || '');\n        }\n\n        return this._formatters[key](this._transformData(data));\n    }\n\n    private _transformConfig(config: Partial<LanguageConfig> = {}): LanguageConfig {\n        const output: LanguageConfig = {\n            defaultTranslations: {},\n            translations: {},\n            locales: {},\n            locale: config.locale || DEFAULT_LOCALE,\n        };\n\n        const locales = config.locales || {};\n        const translations = this._flattenObject(config.translations || {});\n        const defaultTranslations = this._flattenObject(config.defaultTranslations || {});\n        const translationKeys = union(Object.keys(defaultTranslations), Object.keys(translations));\n\n        translationKeys.forEach(key => {\n            if (translations && translations[key]) {\n                output.translations[key] = translations[key];\n                output.locales[key] = locales[key] || output.locale;\n            } else {\n                output.translations[key] = defaultTranslations[key];\n                output.locales[key] = DEFAULT_LOCALE;\n            }\n        });\n\n        return output;\n    }\n\n    private _flattenObject(object: Translations, result: Translations = {}, parentKey: string = ''): Translations {\n        try {\n            Object.keys(object).forEach(key => {\n                const value = object[key];\n                const resultKey = parentKey ? `${parentKey}.${key}` : key;\n\n                if (isObject(value)) {\n                    return this._flattenObject(value as Translations, result, resultKey);\n                }\n\n                result[resultKey] = value;\n            });\n        } catch (err) {\n            this._logger.warn(`Unable to parse object: ${err}`);\n        }\n\n        return result;\n    }\n\n    private _transformData(data: TranslationData): TranslationData {\n        return Object.keys(data).reduce((result, key) => {\n            const value = data[key];\n\n            result[key] = value === null || value === undefined ? '' : value;\n\n            return result;\n        }, {} as TranslationData);\n    }\n\n    private _hasTranslations(): boolean {\n        return Object.keys(this._locales).map(key => this._locales[key])\n            .filter(code => code.split('-')[0] === this._locale.split('-')[0])\n            .length > 0;\n    }\n}\n\nexport interface TranslationData {\n    [key: string]: string | number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale/language-service.ts","export { createTimeout } from '@bigcommerce/request-sender';\n\nexport { createCheckoutService } from './checkout';\nexport { createLanguageService } from './locale';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import { Action } from '@bigcommerce/data-store';\n\nimport Checkout from './checkout';\n\nexport enum CheckoutActionType {\n    LoadCheckoutRequested = 'LOAD_CHECKOUT_REQUESTED',\n    LoadCheckoutSucceeded = 'LOAD_CHECKOUT_SUCCEEDED',\n    LoadCheckoutFailed = 'LOAD_CHECKOUT_FAILED',\n}\n\nexport type CheckoutAction =\n    LoadCheckoutRequestedAction |\n    LoadCheckoutSucceededAction |\n    LoadCheckoutFailedAction;\n\nexport interface LoadCheckoutRequestedAction extends Action {\n    type: CheckoutActionType.LoadCheckoutRequested;\n}\n\nexport interface LoadCheckoutSucceededAction extends Action<Checkout> {\n    type: CheckoutActionType.LoadCheckoutSucceeded;\n}\n\nexport interface LoadCheckoutFailedAction extends Action<Error> {\n    type: CheckoutActionType.LoadCheckoutFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-actions.ts","import {\n    CheckoutSelectors,\n    CheckoutStoreErrorSelector,\n    CheckoutStoreSelector,\n    CheckoutStoreStatusSelector,\n    InternalCheckoutSelectors,\n} from '../checkout';\n\nexport default function createCheckoutSelectors(selectors: InternalCheckoutSelectors): CheckoutSelectors {\n    const checkout = new CheckoutStoreSelector(selectors);\n    const errors = new CheckoutStoreErrorSelector(selectors);\n    const statuses = new CheckoutStoreStatusSelector(selectors);\n\n    return {\n        checkout,\n        errors,\n        statuses,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-selectors.ts","import { BillingAddressSelector } from '../billing';\nimport { CartSelector } from '../cart';\nimport { selector } from '../common/selector';\nimport { ConfigSelector } from '../config';\nimport { CouponSelector, GiftCertificateSelector } from '../coupon';\nimport { CustomerStrategySelector } from '../customer';\nimport { CountrySelector } from '../geography';\nimport { OrderSelector } from '../order';\nimport { PaymentMethodSelector, PaymentStrategySelector } from '../payment';\nimport { InstrumentSelector } from '../payment/instrument';\nimport { QuoteSelector } from '../quote';\nimport { ShippingCountrySelector, ShippingOptionSelector, ShippingStrategySelector } from '../shipping';\n\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\n@selector\nexport default class CheckoutStoreErrorSelector {\n    private _billingAddress: BillingAddressSelector;\n    private _cart: CartSelector;\n    private _config: ConfigSelector;\n    private _countries: CountrySelector;\n    private _coupons: CouponSelector;\n    private _customerStrategies: CustomerStrategySelector;\n    private _giftCertificates: GiftCertificateSelector;\n    private _instruments: InstrumentSelector;\n    private _order: OrderSelector;\n    private _paymentMethods: PaymentMethodSelector;\n    private _paymentStrategies: PaymentStrategySelector;\n    private _quote: QuoteSelector;\n    private _shippingCountries: ShippingCountrySelector;\n    private _shippingOptions: ShippingOptionSelector;\n    private _shippingStrategies: ShippingStrategySelector;\n\n    /**\n     * @internal\n     */\n    constructor(selectors: InternalCheckoutSelectors) {\n        this._billingAddress = selectors.billingAddress;\n        this._cart = selectors.cart;\n        this._config = selectors.config;\n        this._countries = selectors.countries;\n        this._coupons = selectors.coupons;\n        this._customerStrategies = selectors.customerStrategies;\n        this._giftCertificates = selectors.giftCertificates;\n        this._instruments = selectors.instruments;\n        this._order = selectors.order;\n        this._paymentMethods = selectors.paymentMethods;\n        this._paymentStrategies = selectors.paymentStrategies;\n        this._quote = selectors.quote;\n        this._shippingCountries = selectors.shippingCountries;\n        this._shippingOptions = selectors.shippingOptions;\n        this._shippingStrategies = selectors.shippingStrategies;\n    }\n\n    getError(): Error | undefined {\n        return this.getLoadCheckoutError() ||\n            this.getSubmitOrderError() ||\n            this.getFinalizeOrderError() ||\n            this.getLoadOrderError() ||\n            this.getLoadCartError() ||\n            this.getVerifyCartError() ||\n            this.getLoadBillingCountriesError() ||\n            this.getLoadShippingCountriesError() ||\n            this.getLoadPaymentMethodsError() ||\n            this.getLoadPaymentMethodError() ||\n            this.getInitializePaymentError() ||\n            this.getLoadShippingOptionsError() ||\n            this.getSelectShippingOptionError() ||\n            this.getSignInError() ||\n            this.getSignOutError() ||\n            this.getInitializeCustomerError() ||\n            this.getUpdateBillingAddressError() ||\n            this.getUpdateShippingAddressError() ||\n            this.getInitializeShippingError() ||\n            this.getApplyCouponError() ||\n            this.getRemoveCouponError() ||\n            this.getApplyGiftCertificateError() ||\n            this.getRemoveGiftCertificateError() ||\n            this.getLoadInstrumentsError() ||\n            this.getDeleteInstrumentError() ||\n            this.getVaultInstrumentError() ||\n            this.getLoadConfigError();\n    }\n\n    getLoadCheckoutError(): Error | undefined {\n        return this._quote.getLoadError();\n    }\n\n    getSubmitOrderError(): Error | undefined {\n        return this._paymentStrategies.getExecuteError();\n    }\n\n    getFinalizeOrderError(): Error | undefined {\n        return this._paymentStrategies.getFinalizeError();\n    }\n\n    getLoadOrderError(): Error | undefined {\n        return this._order.getLoadError();\n    }\n\n    getLoadCartError(): Error | undefined {\n        return this._cart.getLoadError();\n    }\n\n    getVerifyCartError(): Error | undefined {\n        return this._cart.getVerifyError();\n    }\n\n    getLoadBillingCountriesError(): Error | undefined {\n        return this._countries.getLoadError();\n    }\n\n    getLoadShippingCountriesError(): Error | undefined {\n        return this._shippingCountries.getLoadError();\n    }\n\n    getLoadPaymentMethodsError(): Error | undefined {\n        return this._paymentMethods.getLoadError();\n    }\n\n    getLoadPaymentMethodError(methodId?: string): Error | undefined {\n        return this._paymentMethods.getLoadMethodError(methodId);\n    }\n\n    getInitializePaymentError(methodId?: string): Error | undefined {\n        return this._paymentStrategies.getInitializeError(methodId);\n    }\n\n    getSignInError(): Error | undefined {\n        return this._customerStrategies.getSignInError();\n    }\n\n    getSignOutError(): Error | undefined {\n        return this._customerStrategies.getSignOutError();\n    }\n\n    getInitializeCustomerError(methodId?: string): Error | undefined {\n        return this._customerStrategies.getInitializeError(methodId);\n    }\n\n    getLoadShippingOptionsError(): Error | undefined {\n        return this._shippingOptions.getLoadError();\n    }\n\n    getSelectShippingOptionError(): Error | undefined {\n        return this._shippingStrategies.getSelectOptionError();\n    }\n\n    getUpdateBillingAddressError(): Error | undefined {\n        return this._billingAddress.getUpdateError();\n    }\n\n    getUpdateShippingAddressError(): Error | undefined {\n        return this._shippingStrategies.getUpdateAddressError();\n    }\n\n    getInitializeShippingError(methodId?: string): Error | undefined {\n        return this._shippingStrategies.getInitializeError(methodId);\n    }\n\n    getApplyCouponError(): Error | undefined {\n        return this._coupons.getApplyError();\n    }\n\n    getRemoveCouponError(): Error | undefined {\n        return this._coupons.getRemoveError();\n    }\n\n    getApplyGiftCertificateError(): Error | undefined {\n        return this._giftCertificates.getApplyError();\n    }\n\n    getRemoveGiftCertificateError(): Error | undefined {\n        return this._giftCertificates.getRemoveError();\n    }\n\n    getLoadInstrumentsError(): Error | undefined {\n        return this._instruments.getLoadError();\n    }\n\n    getVaultInstrumentError(): Error | undefined {\n        return this._instruments.getVaultError();\n    }\n\n    getDeleteInstrumentError(instrumentId?: string): Error | undefined {\n        return this._instruments.getDeleteError(instrumentId);\n    }\n\n    getLoadConfigError(): Error | undefined {\n        return this._config.getLoadError();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-store-error-selector.ts","/**\n * Decorates a class or a method by binding all its prototype methods or itself\n * to the calling instance respectively.\n */\nexport default function bindDecorator<T extends Method>(target: object, key: string, descriptor: TypedPropertyDescriptor<T>): TypedPropertyDescriptor<T>;\nexport default function bindDecorator<T extends Constructor<object>>(target: T): T;\nexport default function bindDecorator(target: any, key?: any, descriptor?: any): any {\n    if (!key || !descriptor) {\n        return bindClassDecorator(target);\n    }\n\n    return bindMethodDecorator(target, key, descriptor);\n}\n\n/**\n * Decorates a class by binding all its prototype methods to the calling\n * instance.\n */\nexport function bindClassDecorator<T extends Constructor<object>>(target: T): T {\n    const decoratedTarget = class extends target {};\n\n    Object.getOwnPropertyNames(target.prototype)\n        .forEach(key => {\n            const descriptor = Object.getOwnPropertyDescriptor(target.prototype, key);\n\n            if (!descriptor || key === 'constructor') {\n                return;\n            }\n\n            Object.defineProperty(\n                decoratedTarget.prototype,\n                key,\n                bindMethodDecorator(target.prototype, key, descriptor)\n            );\n        });\n\n    return decoratedTarget;\n}\n\n/**\n * Decorates a method by binding it to the calling instance.\n */\nexport function bindMethodDecorator<T extends Method>(target: object, key: string, descriptor: TypedPropertyDescriptor<T>): TypedPropertyDescriptor<T> {\n    if (typeof descriptor.value !== 'function') {\n        return descriptor;\n    }\n\n    let method: T = descriptor.value;\n\n    return {\n        get() {\n            const boundMethod = method.bind(this);\n\n            Object.defineProperty(this, key, {\n                ...descriptor,\n                value: boundMethod,\n            });\n\n            return boundMethod;\n        },\n        set(value) {\n            method = value;\n        },\n    };\n}\n\nexport type Constructor<T> = new (...args: any[]) => T;\nexport type Method = (...args: any[]) => any;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/bind-decorator.ts","import { deepFreeze } from '@bigcommerce/data-store';\n\nexport default function createFreezeProxy<T extends object>(target: T): T {\n    return createProxy(target, (target, name) =>\n        (...args: any[]) => deepFreeze(target[name].call(target, ...args))\n    );\n}\n\nexport function createFreezeProxies<T extends { [key: string]: object }>(map: T): T {\n    return Object.keys(map)\n        .reduce((result, key) => {\n            result[key] = createFreezeProxy(map[key]);\n\n            return result;\n        }, {} as T);\n}\n\nfunction createProxy<T extends object>(target: T, trap: (target: T, name: keyof T, proxy: T) => any): T {\n    const proxy = Object.create(target);\n\n    traversePrototypeOf(target, prototype => {\n        Object.getOwnPropertyNames(prototype)\n            .forEach(name => {\n                if (name === 'constructor' || typeof proxy[name] !== 'function' || name.charAt(0) === '_') {\n                    return;\n                }\n\n                proxy[name] = trap(target, name as keyof T, proxy);\n            });\n    });\n\n    return proxy;\n}\n\nfunction traversePrototypeOf(target: object, iteratee: (prototype: object) => void): void {\n    let prototype = Object.getPrototypeOf(target);\n\n    while (prototype) {\n        iteratee(prototype);\n\n        prototype = Object.getPrototypeOf(prototype);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/create-freeze-proxy.ts","export default class CancellablePromise<T> {\n    promise: Promise<T>;\n    cancel!: (reason?: any) => void;\n\n    constructor(promise: Promise<T>) {\n        const cancellable = new Promise<T>((resolve, reject) => {\n            this.cancel = reject;\n        });\n\n        this.promise = Promise.race([promise, cancellable]);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/cancellable-promise.ts","import { assign, findIndex, isPlainObject } from 'lodash';\n\n/**\n * Push an item to an array if it doesn't exist in the array. Otherwise, merge\n * with the existing item in the array. This function always returns a new array.\n */\nexport default function mergeOrPush<T extends object>(array: T[], item: T, predicate: (item: T) => boolean): T[] {\n    const index = findIndex(array, predicate);\n    const newArray = [...array];\n\n    if (index === -1) {\n        newArray.push(item);\n    } else {\n        newArray[index] = isPlainObject(item) ? assign({}, array[index], item) : item;\n    }\n\n    return newArray;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/merge-or-push.ts","import omitDeep from './omit-deep';\n\nexport default function omitPrivate(object: any): any {\n    return omitDeep(object, (value: any, key: string) =>\n        `${key}`.indexOf('$$') === 0 || `${key}`.indexOf('_') === 0\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/omit-private.ts","export default function setPrototypeOf(object: any, prototype: object) {\n    if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(object, prototype);\n    } else {\n        object.__proto__ = prototype;\n    }\n\n    return object;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/set-prototype-of.ts","export default class CacheKeyResolver {\n    private _lastId = 0;\n    private _maps: CacheKeyMap[] = [];\n\n    getKey(...args: any[]): string {\n        const { index, map, parentMaps } = this._resolveMap(...args);\n\n        if (map && map.cacheKey) {\n            map.usedCount++;\n\n            return map.cacheKey;\n        }\n\n        return this._generateKey(parentMaps, args.slice(index));\n    }\n\n    getUsedCount(...args: any[]): number {\n        const { map } = this._resolveMap(...args);\n\n        return map ? map.usedCount : 0;\n    }\n\n    private _resolveMap(...args: any[]): ResolveResult {\n        let index = 0;\n        let parentMaps = this._maps;\n\n        while (parentMaps.length) {\n            let isMatched = false;\n\n            for (const map of parentMaps) {\n                if (map.value !== args[index]) {\n                    continue;\n                }\n\n                if ((args.length === 0 || index === args.length - 1) && map.cacheKey) {\n                    return { index, map, parentMaps };\n                }\n\n                isMatched = true;\n                parentMaps = map.maps;\n                index++;\n\n                break;\n            }\n\n            if (!isMatched) {\n                break;\n            }\n        }\n\n        return { index, parentMaps };\n    }\n\n    private _generateKey(maps: CacheKeyMap[], args: any[]): string {\n        let index = 0;\n        let parentMaps = maps;\n        let map!: CacheKeyMap;\n\n        do {\n            map = {\n                usedCount: 1,\n                value: args[index],\n                maps: [],\n            };\n\n            parentMaps.push(map);\n\n            parentMaps = map.maps;\n            index++;\n        } while (index < args.length);\n\n        map.cacheKey = `${++this._lastId}`;\n\n        return map.cacheKey;\n    }\n}\n\ninterface CacheKeyMap {\n    maps: CacheKeyMap[];\n    value: any;\n    usedCount: number;\n    cacheKey?: string;\n}\n\ninterface ResolveResult {\n    index: number;\n    parentMaps: CacheKeyMap[];\n    map?: CacheKeyMap;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/selector/cache-key-resolver.ts","import { InternalAddress } from '../address';\nimport { BillingAddressSelector } from '../billing';\nimport { CartSelector, InternalCart } from '../cart';\nimport { selector } from '../common/selector';\nimport { ConfigSelector } from '../config';\nimport { StoreConfig } from '../config/config';\nimport { CustomerSelector, InternalCustomer } from '../customer';\nimport { FormField, FormSelector } from '../form';\nimport { Country, CountrySelector } from '../geography';\nimport { InternalIncompleteOrder, InternalOrder, OrderSelector } from '../order';\nimport { PaymentMethod, PaymentMethodSelector } from '../payment';\nimport { Instrument, InstrumentSelector } from '../payment/instrument';\nimport { InternalQuote, QuoteSelector } from '../quote';\nimport {\n    InternalShippingOption,\n    InternalShippingOptionList,\n    ShippingAddressSelector,\n    ShippingCountrySelector,\n    ShippingOptionSelector,\n} from '../shipping';\n\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\n/**\n * TODO: Convert this file into TypeScript properly\n * i.e.: Instrument\n */\n@selector\nexport default class CheckoutStoreSelector {\n    private _billingAddress: BillingAddressSelector;\n    private _cart: CartSelector;\n    private _config: ConfigSelector;\n    private _countries: CountrySelector;\n    private _customer: CustomerSelector;\n    private _form: FormSelector;\n    private _instruments: InstrumentSelector;\n    private _order: OrderSelector;\n    private _paymentMethods: PaymentMethodSelector;\n    private _quote: QuoteSelector;\n    private _shippingAddress: ShippingAddressSelector;\n    private _shippingCountries: ShippingCountrySelector;\n    private _shippingOptions: ShippingOptionSelector;\n\n    /**\n     * @internal\n     */\n    constructor(selectors: InternalCheckoutSelectors) {\n        this._billingAddress = selectors.billingAddress;\n        this._cart = selectors.cart;\n        this._config = selectors.config;\n        this._countries = selectors.countries;\n        this._customer = selectors.customer;\n        this._form = selectors.form;\n        this._instruments = selectors.instruments;\n        this._order = selectors.order;\n        this._paymentMethods = selectors.paymentMethods;\n        this._quote = selectors.quote;\n        this._shippingAddress = selectors.shippingAddress;\n        this._shippingCountries = selectors.shippingCountries;\n        this._shippingOptions = selectors.shippingOptions;\n    }\n\n    getOrder(): InternalOrder | InternalIncompleteOrder | undefined {\n        return this._order.getOrder();\n    }\n\n    getQuote(): InternalQuote | undefined {\n        return this._quote.getQuote();\n    }\n\n    getConfig(): StoreConfig | undefined {\n        return this._config.getStoreConfig();\n    }\n\n    getShippingAddress(): InternalAddress | undefined {\n        return this._shippingAddress.getShippingAddress();\n    }\n\n    getShippingOptions(): InternalShippingOptionList | undefined {\n        return this._shippingOptions.getShippingOptions();\n    }\n\n    getSelectedShippingOption(): InternalShippingOption | undefined {\n        return this._shippingOptions.getSelectedShippingOption();\n    }\n\n    getShippingCountries(): Country[] | undefined {\n        return this._shippingCountries.getShippingCountries();\n    }\n\n    getBillingAddress(): InternalAddress | undefined {\n        return this._billingAddress.getBillingAddress();\n    }\n\n    getBillingCountries(): Country[] | undefined {\n        return this._countries.getCountries();\n    }\n\n    getPaymentMethods(): PaymentMethod[] | undefined {\n        return this._paymentMethods.getPaymentMethods();\n    }\n\n    getPaymentMethod(methodId: string, gatewayId?: string): PaymentMethod | undefined {\n        return this._paymentMethods.getPaymentMethod(methodId, gatewayId);\n    }\n\n    getSelectedPaymentMethod(): PaymentMethod | undefined {\n        return this._paymentMethods.getSelectedPaymentMethod();\n    }\n\n    getCart(): InternalCart | undefined {\n        return this._cart.getCart();\n    }\n\n    getCustomer(): InternalCustomer | undefined {\n        return this._customer.getCustomer();\n    }\n\n    isPaymentDataRequired(useStoreCredit?: boolean): boolean {\n        return this._order.isPaymentDataRequired(useStoreCredit);\n    }\n\n    isPaymentDataSubmitted(methodId: string, gatewayId?: string): boolean {\n        return this._order.isPaymentDataSubmitted(this.getPaymentMethod(methodId, gatewayId));\n    }\n\n    getInstruments(): Instrument[] | undefined {\n        return this._instruments.getInstruments();\n    }\n\n    getBillingAddressFields(countryCode: string): FormField[] {\n        return this._form.getBillingAddressFields(this.getBillingCountries(), countryCode);\n    }\n\n    getShippingAddressFields(countryCode: string): FormField[] {\n        return this._form.getShippingAddressFields(this.getShippingCountries(), countryCode);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-store-selector.ts","import { BillingAddressSelector } from '../billing';\nimport { CartSelector } from '../cart';\nimport { selector } from '../common/selector';\nimport { ConfigSelector } from '../config';\nimport { CouponSelector, GiftCertificateSelector } from '../coupon';\nimport { CustomerStrategySelector } from '../customer';\nimport { CountrySelector } from '../geography';\nimport { OrderSelector } from '../order';\nimport { PaymentMethodSelector, PaymentStrategySelector } from '../payment';\nimport { InstrumentSelector } from '../payment/instrument';\nimport { QuoteSelector } from '../quote';\nimport { ShippingCountrySelector, ShippingOptionSelector, ShippingStrategySelector } from '../shipping';\n\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\n@selector\nexport default class CheckoutStoreStatusSelector {\n    private _billingAddress: BillingAddressSelector;\n    private _cart: CartSelector;\n    private _config: ConfigSelector;\n    private _countries: CountrySelector;\n    private _coupons: CouponSelector;\n    private _customerStrategies: CustomerStrategySelector;\n    private _giftCertificates: GiftCertificateSelector;\n    private _instruments: InstrumentSelector;\n    private _order: OrderSelector;\n    private _paymentMethods: PaymentMethodSelector;\n    private _paymentStrategies: PaymentStrategySelector;\n    private _quote: QuoteSelector;\n    private _shippingCountries: ShippingCountrySelector;\n    private _shippingOptions: ShippingOptionSelector;\n    private _shippingStrategies: ShippingStrategySelector;\n\n    /**\n     * @internal\n     */\n    constructor(selectors: InternalCheckoutSelectors) {\n        this._billingAddress = selectors.billingAddress;\n        this._cart = selectors.cart;\n        this._config = selectors.config;\n        this._countries = selectors.countries;\n        this._coupons = selectors.coupons;\n        this._customerStrategies = selectors.customerStrategies;\n        this._giftCertificates = selectors.giftCertificates;\n        this._instruments = selectors.instruments;\n        this._order = selectors.order;\n        this._paymentMethods = selectors.paymentMethods;\n        this._paymentStrategies = selectors.paymentStrategies;\n        this._quote = selectors.quote;\n        this._shippingCountries = selectors.shippingCountries;\n        this._shippingOptions = selectors.shippingOptions;\n        this._shippingStrategies = selectors.shippingStrategies;\n    }\n\n    isPending(): boolean {\n        return this.isLoadingCheckout() ||\n            this.isSubmittingOrder() ||\n            this.isFinalizingOrder() ||\n            this.isLoadingOrder() ||\n            this.isLoadingCart() ||\n            this.isVerifyingCart() ||\n            this.isLoadingBillingCountries() ||\n            this.isLoadingShippingCountries() ||\n            this.isLoadingPaymentMethods() ||\n            this.isLoadingPaymentMethod() ||\n            this.isInitializingPayment() ||\n            this.isLoadingShippingOptions() ||\n            this.isSelectingShippingOption() ||\n            this.isSigningIn() ||\n            this.isSigningOut() ||\n            this.isInitializingCustomer() ||\n            this.isUpdatingBillingAddress() ||\n            this.isUpdatingShippingAddress() ||\n            this.isInitializingShipping() ||\n            this.isApplyingCoupon() ||\n            this.isRemovingCoupon() ||\n            this.isApplyingGiftCertificate() ||\n            this.isRemovingGiftCertificate() ||\n            this.isLoadingInstruments() ||\n            this.isVaultingInstrument() ||\n            this.isDeletingInstrument() ||\n            this.isLoadingConfig() ||\n            this.isCustomerStepPending() ||\n            this.isPaymentStepPending();\n    }\n\n    isLoadingCheckout(): boolean {\n        return this._quote.isLoading();\n    }\n\n    isSubmittingOrder(): boolean {\n        return this._paymentStrategies.isExecuting();\n    }\n\n    isFinalizingOrder(): boolean {\n        return this._paymentStrategies.isFinalizing();\n    }\n\n    isLoadingOrder(): boolean {\n        return this._order.isLoading();\n    }\n\n    isLoadingCart(): boolean {\n        return this._cart.isLoading();\n    }\n\n    isVerifyingCart(): boolean {\n        return this._cart.isVerifying();\n    }\n\n    isLoadingBillingCountries(): boolean {\n        return this._countries.isLoading();\n    }\n\n    isLoadingShippingCountries(): boolean {\n        return this._shippingCountries.isLoading();\n    }\n\n    isLoadingPaymentMethods(): boolean {\n        return this._paymentMethods.isLoading();\n    }\n\n    isLoadingPaymentMethod(methodId?: string): boolean {\n        return this._paymentMethods.isLoadingMethod(methodId);\n    }\n\n    isInitializingPayment(methodId?: string): boolean {\n        return this._paymentStrategies.isInitializing(methodId);\n    }\n\n    isSigningIn(methodId?: string): boolean {\n        return this._customerStrategies.isSigningIn(methodId);\n    }\n\n    isSigningOut(methodId?: string): boolean {\n        return this._customerStrategies.isSigningOut(methodId);\n    }\n\n    isInitializingCustomer(methodId?: string): boolean {\n        return this._customerStrategies.isInitializing(methodId);\n    }\n\n    isLoadingShippingOptions(): boolean {\n        return this._shippingOptions.isLoading();\n    }\n\n    isSelectingShippingOption(): boolean {\n        return this._shippingStrategies.isSelectingOption();\n    }\n\n    isUpdatingBillingAddress(): boolean {\n        return this._billingAddress.isUpdating();\n    }\n\n    isUpdatingShippingAddress(): boolean {\n        return this._shippingStrategies.isUpdatingAddress();\n    }\n\n    isInitializingShipping(methodId?: string) {\n        return this._shippingStrategies.isInitializing(methodId);\n    }\n\n    isApplyingCoupon(): boolean {\n        return this._coupons.isApplying();\n    }\n\n    isRemovingCoupon(): boolean {\n        return this._coupons.isRemoving();\n    }\n\n    isApplyingGiftCertificate(): boolean {\n        return this._giftCertificates.isApplying();\n    }\n\n    isRemovingGiftCertificate(): boolean {\n        return this._giftCertificates.isRemoving();\n    }\n\n    isLoadingInstruments(): boolean {\n        return this._instruments.isLoading();\n    }\n\n    isVaultingInstrument(): boolean {\n        return this._instruments.isVaulting();\n    }\n\n    isDeletingInstrument(instrumentId?: string): boolean {\n        return this._instruments.isDeleting(instrumentId);\n    }\n\n    isLoadingConfig(): boolean {\n        return this._config.isLoading();\n    }\n\n    isCustomerStepPending(): boolean {\n        return this._customerStrategies.isInitializing() ||\n            this._customerStrategies.isSigningIn() ||\n            this._customerStrategies.isSigningOut() ||\n            this._customerStrategies.isWidgetInteracting();\n    }\n\n    isPaymentStepPending(): boolean {\n        return this._paymentStrategies.isInitializing() ||\n            this._paymentStrategies.isExecuting() ||\n            this._paymentStrategies.isFinalizing() ||\n            this._paymentStrategies.isWidgetInteracting();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-store-status-selector.ts","import { InternalAddress } from '../address';\nimport { selector } from '../common/selector';\n\nimport { QuoteState } from '../quote';\n\n@selector\nexport default class BillingAddressSelector {\n    constructor(\n        private _quote: QuoteState\n    ) {}\n\n    getBillingAddress(): InternalAddress | undefined {\n        return this._quote.data && this._quote.data.billingAddress;\n    }\n\n    getUpdateError(): Error | undefined {\n        return this._quote.errors.updateBillingAddressError;\n    }\n\n    isUpdating(): boolean {\n        return !!this._quote.statuses.isUpdatingBillingAddress;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-selector.ts","/**\n * @todo Convert this file into TypeScript properly\n */\nimport { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalAddress } from '../address';\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './billing-address-action-types';\n\nexport default class BillingAddressActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    updateAddress(address: InternalAddress, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.UPDATE_BILLING_ADDRESS_REQUESTED));\n\n            this._checkoutClient.updateBillingAddress(address, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.UPDATE_BILLING_ADDRESS_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.UPDATE_BILLING_ADDRESS_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { InternalAddress } from '../address';\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class BillingAddressRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    updateAddress(address: InternalAddress, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/billing';\n\n        const params = {\n            includes: ['cart', 'quote'].join(','),\n        };\n\n        return this._requestSender.post(url, { body: address, params, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-request-sender.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { Address } from '../address';\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\n\nimport BillingAddressState from './billing-address-state';\n\nconst DEFAULT_STATE: BillingAddressState = {};\n\nexport default function billingAddressReducer(\n    state: BillingAddressState = DEFAULT_STATE,\n    action: CheckoutAction\n): BillingAddressState {\n    const reducer = combineReducers<BillingAddressState, CheckoutAction>({\n        data: dataReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: Address | undefined,\n    action: CheckoutAction\n): Address | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return action.payload ? action.payload.billingAddress : data;\n\n    default:\n        return data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-reducer.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './cart-action-types';\nimport CartComparator from './cart-comparator';\nimport InternalCart from './internal-cart';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CartActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadCart(options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_CART_REQUESTED));\n\n            this._checkoutClient.loadCart(options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.LOAD_CART_SUCCEEDED, body.data, body.meta));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_CART_FAILED, response));\n                });\n        });\n    }\n\n    /**\n     * @deprecated\n     */\n    verifyCart(cart?: InternalCart, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.VERIFY_CART_REQUESTED));\n\n            this._checkoutClient.loadCart(options)\n                .then(({ body = {} }) => {\n                    const comparator = new CartComparator();\n                    const isValid = cart ? comparator.isEqual(cart, body.data.cart) : false;\n\n                    observer.next(createAction(actionTypes.VERIFY_CART_SUCCEEDED, isValid));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.VERIFY_CART_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-action-creator.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport * as billingAddressActionTypes from '../billing/billing-address-action-types';\nimport * as cartActionTypes from '../cart/cart-action-types';\nimport { CheckoutActionType } from '../checkout';\nimport * as couponActionTypes from '../coupon/coupon-action-types';\nimport * as giftCertificateActionTypes from '../coupon/gift-certificate-action-types';\nimport * as customerActionTypes from '../customer/customer-action-types';\nimport * as quoteActionTypes from '../quote/quote-action-types';\nimport * as shippingAddressActionTypes from '../shipping/shipping-address-action-types';\nimport * as shippingOptionActionTypes from '../shipping/shipping-option-action-types';\n\nimport Cart from './cart';\nimport CartState, { CartErrorsState, CartMetaState, CartStatusesState } from './cart-state';\nimport InternalCart from './internal-cart';\nimport mapToInternalCart from './map-to-internal-cart';\n\nconst DEFAULT_STATE: CartState = {\n    errors: {},\n    meta: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function cartReducer(state: CartState = DEFAULT_STATE, action: Action): CartState {\n    const reducer = combineReducers<CartState>({\n        data: dataReducer,\n        externalData: externalDataReducer,\n        errors: errorsReducer,\n        meta: metaReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: InternalCart | undefined, action: Action): InternalCart | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return data ? { ...data, ...mapToInternalCart(action.payload, data) } : data;\n\n    case billingAddressActionTypes.UPDATE_BILLING_ADDRESS_SUCCEEDED:\n    case cartActionTypes.LOAD_CART_SUCCEEDED:\n    case customerActionTypes.SIGN_IN_CUSTOMER_SUCCEEDED:\n    case customerActionTypes.SIGN_OUT_CUSTOMER_SUCCEEDED:\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n    case shippingAddressActionTypes.UPDATE_SHIPPING_ADDRESS_SUCCEEDED:\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_SUCCEEDED:\n    case shippingOptionActionTypes.SELECT_SHIPPING_OPTION_SUCCEEDED:\n    case couponActionTypes.APPLY_COUPON_SUCCEEDED:\n    case couponActionTypes.REMOVE_COUPON_SUCCEEDED:\n    case giftCertificateActionTypes.APPLY_GIFT_CERTIFICATE_SUCCEEDED:\n    case giftCertificateActionTypes.REMOVE_GIFT_CERTIFICATE_SUCCEEDED:\n        return action.payload ? { ...data, ...action.payload.cart } : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction externalDataReducer(data: Cart | undefined, action: Action): Cart | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return { ...data, ...action.payload.cart };\n\n    default:\n        return data;\n    }\n}\n\nfunction metaReducer(meta: CartMetaState = DEFAULT_STATE.meta, action: Action): CartMetaState {\n    switch (action.type) {\n    case cartActionTypes.VERIFY_CART_SUCCEEDED:\n        return { ...meta, isValid: action.payload };\n\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case cartActionTypes.LOAD_CART_SUCCEEDED:\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n        return { ...meta, isValid: true };\n\n    default:\n        return meta;\n    }\n}\n\nfunction errorsReducer(errors: CartErrorsState = DEFAULT_STATE.errors, action: Action): CartErrorsState {\n    switch (action.type) {\n    case cartActionTypes.LOAD_CART_REQUESTED:\n    case cartActionTypes.LOAD_CART_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case cartActionTypes.LOAD_CART_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    case cartActionTypes.VERIFY_CART_REQUESTED:\n        return { ...errors, verifyError: undefined };\n\n    case cartActionTypes.VERIFY_CART_SUCCEEDED:\n    case cartActionTypes.VERIFY_CART_FAILED:\n        return { ...errors, verifyError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: CartStatusesState = DEFAULT_STATE.statuses, action: Action): CartStatusesState {\n    switch (action.type) {\n    case cartActionTypes.LOAD_CART_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case cartActionTypes.LOAD_CART_SUCCEEDED:\n    case cartActionTypes.LOAD_CART_FAILED:\n        return { ...statuses, isLoading: false };\n\n    case cartActionTypes.VERIFY_CART_REQUESTED:\n        return { ...statuses, isVerifying: true };\n\n    case cartActionTypes.VERIFY_CART_SUCCEEDED:\n    case cartActionTypes.VERIFY_CART_FAILED:\n        return { ...statuses, isVerifying: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-reducer.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './coupon-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CouponActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    applyCoupon(code: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.APPLY_COUPON_REQUESTED));\n\n            this._checkoutClient.applyCoupon(code, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.APPLY_COUPON_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.APPLY_COUPON_FAILED, response));\n                });\n        });\n    }\n\n    removeCoupon(code: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.REMOVE_COUPON_REQUESTED));\n\n            this._checkoutClient.removeCoupon(code, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.REMOVE_COUPON_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.REMOVE_COUPON_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CouponRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    applyCoupon(couponCode: string, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/coupon';\n\n        return this._requestSender.post(url, { timeout, body: { couponCode } });\n    }\n\n    removeCoupon(couponCode: string, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/internalapi/v1/checkout/coupon/${couponCode}`;\n\n        return this._requestSender.delete(url, { timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-request-sender.ts","import { selector } from '../common/selector';\n\nimport CouponState from './coupon-state';\n\n@selector\nexport default class CouponSelector {\n    constructor(\n        private _coupon: CouponState\n    ) {}\n\n    getRemoveError(): Error | undefined {\n        return this._coupon.errors.removeCouponError;\n    }\n\n    getApplyError(): Error | undefined {\n        return this._coupon.errors.applyCouponError;\n    }\n\n    isApplying(): boolean {\n        return !!this._coupon.statuses.isApplyingCoupon;\n    }\n\n    isRemoving(): boolean {\n        return !!this._coupon.statuses.isRemovingCoupon;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { CheckoutActionType } from '../checkout';\n\nimport * as couponActionTypes from './coupon-action-types';\nimport CouponState, { CouponErrorsState, CouponStatusesState } from './coupon-state';\nimport InternalCoupon from './internal-coupon';\n\nconst DEFAULT_STATE: CouponState = {\n    errors: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function couponReducer(state: CouponState = DEFAULT_STATE, action: Action): CouponState {\n    const reducer = combineReducers<CouponState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: InternalCoupon[] | undefined, action: Action): InternalCoupon[] | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return action.payload.coupons;\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: CouponErrorsState = {}, action: Action): CouponErrorsState {\n    switch (action.type) {\n    case couponActionTypes.APPLY_COUPON_REQUESTED:\n    case couponActionTypes.APPLY_COUPON_SUCCEEDED:\n        return { ...errors, applyCouponError: undefined };\n\n    case couponActionTypes.APPLY_COUPON_FAILED:\n        return { ...errors, applyCouponError: action.payload };\n\n    case couponActionTypes.REMOVE_COUPON_REQUESTED:\n    case couponActionTypes.REMOVE_COUPON_SUCCEEDED:\n        return { ...errors, removeCouponError: undefined };\n\n    case couponActionTypes.REMOVE_COUPON_FAILED:\n        return { ...errors, removeCouponError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: CouponStatusesState = {}, action: Action): CouponStatusesState {\n    switch (action.type) {\n    case couponActionTypes.APPLY_COUPON_REQUESTED:\n        return { ...statuses, isApplyingCoupon: true };\n\n    case couponActionTypes.APPLY_COUPON_SUCCEEDED:\n    case couponActionTypes.APPLY_COUPON_FAILED:\n        return { ...statuses, isApplyingCoupon: false };\n\n    case couponActionTypes.REMOVE_COUPON_REQUESTED:\n        return { ...statuses, isRemovingCoupon: true };\n\n    case couponActionTypes.REMOVE_COUPON_SUCCEEDED:\n    case couponActionTypes.REMOVE_COUPON_FAILED:\n        return { ...statuses, isRemovingCoupon: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-reducer.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './gift-certificate-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class GiftCertificateActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    applyGiftCertificate(giftCertificate: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.APPLY_GIFT_CERTIFICATE_REQUESTED));\n\n            this._checkoutClient.applyGiftCertificate(giftCertificate, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.APPLY_GIFT_CERTIFICATE_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.APPLY_GIFT_CERTIFICATE_FAILED, response));\n                });\n        });\n    }\n\n    removeGiftCertificate(giftCertificate: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.REMOVE_GIFT_CERTIFICATE_REQUESTED));\n\n            this._checkoutClient.removeGiftCertificate(giftCertificate, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.REMOVE_GIFT_CERTIFICATE_SUCCEEDED, body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.REMOVE_GIFT_CERTIFICATE_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class GiftCertificateRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    applyGiftCertificate(couponCode: string, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/coupon';\n\n        return this._requestSender.post(url, { timeout, body: { couponCode } });\n    }\n\n    removeGiftCertificate(couponCode: string, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/internalapi/v1/checkout/coupon/${couponCode}`;\n\n        return this._requestSender.delete(url, { timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-request-sender.ts","import { selector } from '../common/selector';\n\nimport GiftCertificateState from './gift-certificate-state';\n\n@selector\nexport default class GiftCertificateSelector {\n    constructor(\n        private _giftCertificate: GiftCertificateState\n    ) {}\n\n    getRemoveError(): Error | undefined {\n        return this._giftCertificate.errors.removeGiftCertificateError;\n    }\n\n    getApplyError(): Error | undefined {\n        return this._giftCertificate.errors.applyGiftCertificateError;\n    }\n\n    isApplying(): boolean {\n        return !!this._giftCertificate.statuses.isApplyingGiftCertificate;\n    }\n\n    isRemoving(): boolean {\n        return !!this._giftCertificate.statuses.isRemovingGiftCertificate;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { CheckoutActionType } from '../checkout';\n\nimport * as giftCertificateActionTypes from './gift-certificate-action-types';\nimport GiftCertificateState, { GiftCertificateErrorsState, GiftCertificateStatusesState } from './gift-certificate-state';\nimport InternalGiftCertificate from './internal-gift-certificate';\n\nconst DEFAULT_STATE: GiftCertificateState = {\n    errors: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function giftCertificateReducer(state: GiftCertificateState = DEFAULT_STATE, action: Action): GiftCertificateState {\n    const reducer = combineReducers<GiftCertificateState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: InternalGiftCertificate[] | undefined, action: Action): InternalGiftCertificate[] | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return action.payload.giftCertificates;\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: GiftCertificateErrorsState = DEFAULT_STATE.errors, action: Action): GiftCertificateErrorsState {\n    switch (action.type) {\n    case giftCertificateActionTypes.APPLY_GIFT_CERTIFICATE_REQUESTED:\n    case giftCertificateActionTypes.APPLY_GIFT_CERTIFICATE_SUCCEEDED:\n        return { ...errors, applyGiftCertificateError: undefined };\n\n    case giftCertificateActionTypes.APPLY_GIFT_CERTIFICATE_FAILED:\n        return { ...errors, applyGiftCertificateError: action.payload };\n\n    case giftCertificateActionTypes.REMOVE_GIFT_CERTIFICATE_REQUESTED:\n    case giftCertificateActionTypes.REMOVE_GIFT_CERTIFICATE_SUCCEEDED:\n        return { ...errors, removeGiftCertificateError: undefined };\n\n    case giftCertificateActionTypes.REMOVE_GIFT_CERTIFICATE_FAILED:\n        return { ...errors, removeGiftCertificateError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: GiftCertificateStatusesState = DEFAULT_STATE.statuses, action: Action): GiftCertificateStatusesState {\n    switch (action.type) {\n    case giftCertificateActionTypes.APPLY_GIFT_CERTIFICATE_REQUESTED:\n        return { ...statuses, isApplyingGiftCertificate: true };\n\n    case giftCertificateActionTypes.APPLY_GIFT_CERTIFICATE_SUCCEEDED:\n    case giftCertificateActionTypes.APPLY_GIFT_CERTIFICATE_FAILED:\n        return { ...statuses, isApplyingGiftCertificate: false };\n\n    case giftCertificateActionTypes.REMOVE_GIFT_CERTIFICATE_REQUESTED:\n        return { ...statuses, isRemovingGiftCertificate: true };\n\n    case giftCertificateActionTypes.REMOVE_GIFT_CERTIFICATE_SUCCEEDED:\n    case giftCertificateActionTypes.REMOVE_GIFT_CERTIFICATE_FAILED:\n        return { ...statuses, isRemovingGiftCertificate: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-reducer.ts","import Coupon from './coupon';\nimport InternalCoupon from './internal-coupon';\n\nexport default function mapToInternalCoupon(coupon: Coupon, existingCoupon: InternalCoupon): InternalCoupon {\n    return {\n        code: coupon.code,\n        discount: existingCoupon.discount,\n        discountType: existingCoupon.discountType,\n        name: existingCoupon.name,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/map-to-internal-coupon.ts","import GiftCertificate from './gift-certificate';\nimport InternalGiftCertificate from './internal-gift-certificate';\n\nexport default function mapToInternalGiftCertificate(giftCertificate: GiftCertificate, existingGiftCertificate: InternalGiftCertificate): InternalGiftCertificate {\n    return {\n        code: giftCertificate.code,\n        discountedAmount: existingGiftCertificate.discountedAmount,\n        remainingBalance: existingGiftCertificate.remainingBalance,\n        giftCertificate: {\n            balance: giftCertificate.balance,\n            code: giftCertificate.code,\n            purchaseDate: giftCertificate.purchaseDate,\n        },\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/map-to-internal-gift-certificate.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CartRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadCart({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/cart';\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    loadCarts({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/api/storefront/carts';\n\n        return this._requestSender.get(url, { timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-request-sender.ts","import { selector } from '../common/selector';\n\nimport CartState from './cart-state';\nimport InternalCart from './internal-cart';\n\n@selector\nexport default class CartSelector {\n    constructor(\n        private _cart: CartState\n    ) {}\n\n    getCart(): InternalCart | undefined {\n        return this._cart.data;\n    }\n\n    isValid(): boolean {\n        return !!(this._cart.meta && this._cart.meta.isValid);\n    }\n\n    getLoadError(): Error | undefined {\n        return this._cart.errors.loadError;\n    }\n\n    getVerifyError(): Error | undefined {\n        return this._cart.errors.verifyError;\n    }\n\n    isLoading(): boolean {\n        return !!this._cart.statuses.isLoading;\n    }\n\n    isVerifying(): boolean {\n        return !!this._cart.statuses.isVerifying;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-selector.ts","import { createAction, createErrorAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport { ConfigActionType, LoadConfigAction } from './config-actions';\n\nexport default class ConfigActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadConfig(options?: RequestOptions): Observable<LoadConfigAction> {\n        return Observable.create((observer: Observer<LoadConfigAction>) => {\n            observer.next(createAction(ConfigActionType.LoadConfigRequested));\n\n            this._checkoutClient.loadConfig(options)\n                .then(response => {\n                    observer.next(createAction(ConfigActionType.LoadConfigSucceeded, response.body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(ConfigActionType.LoadConfigFailed, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-action-creator.ts","import { selector } from '../common/selector';\n\nimport Config, { ContextConfig, StoreConfig } from './config';\nimport ConfigState from './config-state';\n\n@selector\nexport default class ConfigSelector {\n    constructor(\n        private _config: ConfigState\n    ) {}\n\n    getConfig(): Config | undefined {\n        return this._config.data;\n    }\n\n    getStoreConfig(): StoreConfig | undefined {\n        return this._config.data && this._config.data.storeConfig;\n    }\n\n    getContextConfig(): ContextConfig | undefined {\n        return this._config.data && this._config.data.context;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._config.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._config.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport Config from './config';\nimport { ConfigActionType, LoadConfigAction } from './config-actions';\nimport ConfigState, { ConfigErrorsState, ConfigStatusesState } from './config-state';\n\nconst DEFAULT_STATE: ConfigState = {\n    errors: {},\n    statuses: {},\n};\n\nexport default function configReducer(state: ConfigState = DEFAULT_STATE, action: LoadConfigAction): ConfigState {\n    const reducer = combineReducers<ConfigState, LoadConfigAction>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: Config | undefined, action: LoadConfigAction): Config | undefined {\n    switch (action.type) {\n    case ConfigActionType.LoadConfigSucceeded:\n        return action.payload ? action.payload : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: ConfigErrorsState = DEFAULT_STATE.errors, action: LoadConfigAction): ConfigErrorsState {\n    switch (action.type) {\n    case ConfigActionType.LoadConfigSucceeded:\n        return { ...errors, loadError: undefined };\n\n    case ConfigActionType.LoadConfigFailed:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: ConfigStatusesState = DEFAULT_STATE.statuses, action: LoadConfigAction): ConfigStatusesState {\n    switch (action.type) {\n    case ConfigActionType.LoadConfigRequested:\n        return { ...statuses, isLoading: true };\n\n    case ConfigActionType.LoadConfigSucceeded:\n    case ConfigActionType.LoadConfigFailed:\n        return { ...statuses, isLoading: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport Config from './config';\n\nexport default class ConfigRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadConfig({ timeout }: RequestOptions = {}): Promise<Response<Config>> {\n        const url = '/api/storefront/checkout-settings';\n\n        return this._requestSender.get(url, {\n            timeout,\n            headers: {\n                'X-API-INTERNAL': 'This API endpoint is for internal use only and may change in the future',\n            },\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-request-sender.ts","import { createRequestSender } from '@bigcommerce/request-sender';\nimport { getScriptLoader } from '@bigcommerce/script-loader';\n\nimport { CheckoutClient, CheckoutStore } from '../checkout';\nimport { Registry } from '../common/registry';\nimport { PaymentMethodActionCreator } from '../payment';\nimport { createBraintreeVisaCheckoutPaymentProcessor, VisaCheckoutScriptLoader } from '../payment/strategies/braintree';\nimport { QuoteActionCreator } from '../quote';\nimport { RemoteCheckoutActionCreator, RemoteCheckoutRequestSender } from '../remote-checkout';\nimport { AmazonPayScriptLoader } from '../remote-checkout/methods/amazon-pay';\n\nimport { CustomerStrategyActionCreator } from '.';\nimport CustomerActionCreator from './customer-action-creator';\nimport {\n    AmazonPayCustomerStrategy,\n    BraintreeVisaCheckoutCustomerStrategy,\n    CustomerStrategy,\n    DefaultCustomerStrategy,\n} from './strategies';\n\nexport default function createCustomerStrategyRegistry(\n    store: CheckoutStore,\n    client: CheckoutClient\n): Registry<CustomerStrategy> {\n    const registry = new Registry<CustomerStrategy>();\n    const remoteCheckoutRequestSender = new RemoteCheckoutRequestSender(createRequestSender());\n\n    registry.register('amazon', () =>\n        new AmazonPayCustomerStrategy(\n            store,\n            new PaymentMethodActionCreator(client),\n            new RemoteCheckoutActionCreator(remoteCheckoutRequestSender),\n            remoteCheckoutRequestSender,\n            new AmazonPayScriptLoader(getScriptLoader())\n        )\n    );\n\n    registry.register('braintreevisacheckout', () =>\n        new BraintreeVisaCheckoutCustomerStrategy(\n            store,\n            new PaymentMethodActionCreator(client),\n            new CustomerStrategyActionCreator(registry),\n            new QuoteActionCreator(client),\n            new RemoteCheckoutActionCreator(remoteCheckoutRequestSender),\n            createBraintreeVisaCheckoutPaymentProcessor(getScriptLoader()),\n            new VisaCheckoutScriptLoader(getScriptLoader())\n        )\n    );\n\n    registry.register('default', () =>\n        new DefaultCustomerStrategy(\n            store,\n            new CustomerActionCreator(client)\n        )\n    );\n\n    return registry;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/create-customer-strategy-registry.ts","import { InvalidArgumentError } from '../error/errors';\n\nexport default class Registry<T> {\n    private _factories: { [key: string]: Factory<T> };\n    private _instances: { [key: string]: T };\n    private _options: RegistryOptions;\n\n    constructor(options?: RegistryOptions) {\n        this._factories = {};\n        this._instances = {};\n        this._options = { defaultToken: 'default', ...options };\n    }\n\n    get(token: string = this._options.defaultToken, cacheToken: string = token): T {\n        try {\n            return this._getInstance(token, cacheToken);\n        } catch (error) {\n            return this._getInstance(this._options.defaultToken, cacheToken);\n        }\n    }\n\n    register(token: string, factory: Factory<T>): void {\n        if (this.hasFactory(token)) {\n            throw new InvalidArgumentError(`'${token}' is already registered.`);\n        }\n\n        this._factories[token] = factory;\n    }\n\n    hasFactory(token: string): boolean {\n        return !!this._factories[token];\n    }\n\n    hasInstance(token: string): boolean {\n        return !!this._instances[token];\n    }\n\n    private _getInstance(token: string, cacheToken: string): T {\n        if (!this.hasInstance(cacheToken)) {\n            const factory = this._factories[token];\n\n            if (!factory) {\n                throw new InvalidArgumentError(`'${token}' is not registered.`);\n            }\n\n            this._instances[cacheToken] = factory();\n        }\n\n        return this._instances[cacheToken];\n    }\n}\n\nexport type Factory<T> = () => T;\n\nexport interface RegistryOptions {\n    defaultToken: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/registry/registry.ts","import StandardError from './standard-error';\n\nexport default class InvalidArgumentError extends StandardError {\n    constructor(message?: string) {\n        super(message || 'Invalid arguments have been provided.');\n\n        this.type = 'invalid_argument';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/invalid-argument-error.ts","import StandardError from './standard-error';\n\nexport default class MissingDataError extends StandardError {\n    constructor(message?: string) {\n        super(message || 'Unable to proceed because required data is missing.');\n\n        this.type = 'missing_data';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/missing-data-error.ts","import StandardError from './standard-error';\n\nexport default class NotImplementedError extends StandardError {\n    constructor(message?: string) {\n        super(message || 'Not implemented.');\n\n        this.type = 'not_implemented';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/not-implemented-error.ts","import StandardError from './standard-error';\n\nexport default class NotInitializedError extends StandardError {\n    constructor(message?: string) {\n        super(message || 'Unable to proceed because the required component has not been initialized.');\n\n        this.type = 'not_initialized';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/not-initialized-error.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport RequestError from './request-error';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class TimeoutError extends RequestError {\n    constructor(response?: Response) {\n        super(response, 'The request has timed out or aborted.');\n\n        this.type = 'timeout';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/timeout-error.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport RequestError from './request-error';\n\nexport default class UnrecoverableError extends RequestError {\n    constructor(response: Response, message?: string) {\n        super(response, message || 'An unexpected error has occurred. The checkout process cannot continue as a result.');\n\n        this.type = 'unrecoverable';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/unrecoverable-error.ts","import StandardError from './standard-error';\n\nexport default class UnsupportedBrowserError extends StandardError {\n    constructor(message?: string) {\n        super(message || 'Unsupported browser error');\n\n        this.type = 'unsupported_browser';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/unsupported-browser-error.ts","/// <reference path=\"../payment/bigpay-client.d.ts\" />\nimport { createClient as createBigpayClient } from '@bigcommerce/bigpay-client';\n\nimport { CheckoutStore } from '../checkout';\n\nexport default function createPaymentClient(store: CheckoutStore) {\n    const paymentClient = createBigpayClient();\n\n    store.subscribe(\n        state => {\n            const config = state.config.getStoreConfig();\n\n            if (config) {\n                paymentClient.setHost(config.paymentSettings.bigpayBaseUrl);\n            }\n        },\n        state => state.config.getStoreConfig()\n    );\n\n    return paymentClient;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/create-payment-client.ts","module.exports = require(\"@bigcommerce/bigpay-client\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/bigpay-client\"\n// module id = 133\n// module chunks = 0","import { createFormPoster } from '@bigcommerce/form-poster';\nimport { createRequestSender } from '@bigcommerce/request-sender';\nimport { getScriptLoader } from '@bigcommerce/script-loader';\n\nimport { BillingAddressActionCreator } from '../billing';\nimport { CartActionCreator } from '../cart';\nimport { CheckoutClient, CheckoutStore } from '../checkout';\nimport { OrderActionCreator } from '../order';\nimport { QuoteActionCreator } from '../quote';\nimport { RemoteCheckoutActionCreator, RemoteCheckoutRequestSender } from '../remote-checkout';\nimport { AfterpayScriptLoader } from '../remote-checkout/methods/afterpay';\nimport { AmazonPayScriptLoader } from '../remote-checkout/methods/amazon-pay';\nimport { KlarnaScriptLoader } from '../remote-checkout/methods/klarna';\nimport { WepayRiskClient } from '../remote-checkout/methods/wepay';\n\nimport { PaymentStrategyActionCreator } from '.';\nimport PaymentActionCreator from './payment-action-creator';\nimport PaymentMethodActionCreator from './payment-method-action-creator';\nimport PaymentRequestSender from './payment-request-sender';\nimport PaymentStrategyRegistry from './payment-strategy-registry';\nimport {\n    AfterpayPaymentStrategy,\n    AmazonPayPaymentStrategy,\n    BraintreeCreditCardPaymentStrategy,\n    BraintreePaypalPaymentStrategy,\n    CreditCardPaymentStrategy,\n    KlarnaPaymentStrategy,\n    LegacyPaymentStrategy,\n    NoPaymentDataRequiredPaymentStrategy,\n    OfflinePaymentStrategy,\n    OffsitePaymentStrategy,\n    PaypalExpressPaymentStrategy,\n    PaypalProPaymentStrategy,\n    SagePayPaymentStrategy,\n    SquarePaymentStrategy,\n    WepayPaymentStrategy,\n} from './strategies';\nimport {\n    createBraintreePaymentProcessor,\n    createBraintreeVisaCheckoutPaymentProcessor,\n    BraintreeVisaCheckoutPaymentStrategy,\n    VisaCheckoutScriptLoader,\n} from './strategies/braintree';\nimport { SquareScriptLoader } from './strategies/square';\n\nexport default function createPaymentStrategyRegistry(\n    store: CheckoutStore,\n    client: CheckoutClient,\n    paymentClient: any\n) {\n    const registry = new PaymentStrategyRegistry(store, { defaultToken: 'creditcard' });\n    const scriptLoader = getScriptLoader();\n    const braintreePaymentProcessor = createBraintreePaymentProcessor(scriptLoader);\n    const orderActionCreator = new OrderActionCreator(client);\n    const paymentActionCreator = new PaymentActionCreator(\n        new PaymentRequestSender(paymentClient),\n        new OrderActionCreator(client)\n    );\n    const paymentMethodActionCreator = new PaymentMethodActionCreator(client);\n    const remoteCheckoutActionCreator = new RemoteCheckoutActionCreator(\n        new RemoteCheckoutRequestSender(createRequestSender())\n    );\n\n    registry.register('afterpay', () =>\n        new AfterpayPaymentStrategy(\n            store,\n            new CartActionCreator(client),\n            orderActionCreator,\n            paymentActionCreator,\n            paymentMethodActionCreator,\n            remoteCheckoutActionCreator,\n            new AfterpayScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('amazon', () =>\n        new AmazonPayPaymentStrategy(\n            store,\n            orderActionCreator,\n            new BillingAddressActionCreator(client),\n            remoteCheckoutActionCreator,\n            new AmazonPayScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('creditcard', () =>\n        new CreditCardPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator\n        )\n    );\n\n    registry.register('klarna', () =>\n        new KlarnaPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentMethodActionCreator,\n            remoteCheckoutActionCreator,\n            new KlarnaScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('legacy', () =>\n        new LegacyPaymentStrategy(\n            store,\n            orderActionCreator\n        )\n    );\n\n    registry.register('offline', () =>\n        new OfflinePaymentStrategy(\n            store,\n            orderActionCreator\n        )\n    );\n\n    registry.register('offsite', () =>\n        new OffsitePaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator\n        )\n    );\n\n    registry.register('paypal', () =>\n        new PaypalProPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator\n        )\n    );\n\n    registry.register('paypalexpress', () =>\n        new PaypalExpressPaymentStrategy(\n            store,\n            orderActionCreator,\n            scriptLoader\n        )\n    );\n\n    registry.register('paypalexpresscredit', () =>\n        new PaypalExpressPaymentStrategy(\n            store,\n            orderActionCreator,\n            scriptLoader\n        )\n    );\n\n    registry.register('sagepay', () =>\n        new SagePayPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            createFormPoster()\n        )\n    );\n\n    registry.register('squarev2', () =>\n        new SquarePaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            new SquareScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('nopaymentdatarequired', () =>\n        new NoPaymentDataRequiredPaymentStrategy(\n            store,\n            orderActionCreator\n        )\n    );\n\n    registry.register('braintree', () =>\n        new BraintreeCreditCardPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            paymentMethodActionCreator,\n            braintreePaymentProcessor\n        )\n    );\n\n    registry.register('braintreepaypal', () =>\n        new BraintreePaypalPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            paymentMethodActionCreator,\n            braintreePaymentProcessor\n        )\n    );\n\n    registry.register('braintreepaypalcredit', () =>\n        new BraintreePaypalPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            paymentMethodActionCreator,\n            braintreePaymentProcessor,\n            true\n        )\n    );\n\n    registry.register('braintreevisacheckout', () =>\n        new BraintreeVisaCheckoutPaymentStrategy(\n            store,\n            paymentMethodActionCreator,\n            new PaymentStrategyActionCreator(registry),\n            new QuoteActionCreator(client),\n            paymentActionCreator,\n            orderActionCreator,\n            createBraintreeVisaCheckoutPaymentProcessor(scriptLoader),\n            new VisaCheckoutScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('wepay', () =>\n        new WepayPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            new WepayRiskClient(scriptLoader)\n        )\n    );\n\n    return registry;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/create-payment-strategy-registry.ts","module.exports = require(\"@bigcommerce/form-poster\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/form-poster\"\n// module id = 135\n// module chunks = 0","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CartComparator, InternalCart } from '../cart';\nimport { CartChangedError } from '../cart/errors';\nimport { CheckoutClient, InternalCheckoutSelectors } from '../checkout';\nimport { MissingDataError } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\n\nimport InternalOrderRequestBody from './internal-order-request-body';\nimport { FinalizeOrderAction, LoadOrderAction, OrderActionType, SubmitOrderAction } from './order-actions';\nimport OrderRequestBody from './order-request-body';\n\nexport default class OrderActionCreator {\n    private _cartComparator: CartComparator;\n\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {\n        this._cartComparator = new CartComparator();\n    }\n\n    loadOrder(orderId: number, options?: RequestOptions): Observable<LoadOrderAction> {\n        return Observable.create((observer: Observer<LoadOrderAction>) => {\n            observer.next(createAction(OrderActionType.LoadOrderRequested));\n\n            this._checkoutClient.loadOrder(orderId, options)\n                .then(response => {\n                    observer.next(createAction(OrderActionType.LoadOrderSucceeded, response.body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(OrderActionType.LoadOrderFailed, response));\n                });\n        });\n    }\n\n    submitOrder(payload: OrderRequestBody, options?: RequestOptions): ThunkAction<SubmitOrderAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<SubmitOrderAction>) => {\n            observer.next(createAction(OrderActionType.SubmitOrderRequested));\n\n            const state = store.getState();\n            const cart = state.cart.getCart();\n\n            if (!cart) {\n                throw new MissingDataError();\n            }\n\n            this._verifyCart(cart, options)\n                .then(() => this._checkoutClient.submitOrder(this._mapToOrderRequestBody(payload), options))\n                .then(response => {\n                    observer.next(createAction(OrderActionType.SubmitOrderSucceeded, response.body.data, { ...response.body.meta, token: response.headers.token }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(OrderActionType.SubmitOrderFailed, response));\n                });\n        });\n    }\n\n    finalizeOrder(orderId: number, options?: RequestOptions): Observable<FinalizeOrderAction> {\n        return Observable.create((observer: Observer<FinalizeOrderAction>) => {\n            observer.next(createAction(OrderActionType.FinalizeOrderRequested));\n\n            this._checkoutClient.finalizeOrder(orderId, options)\n                .then(response => {\n                    observer.next(createAction(OrderActionType.FinalizeOrderSucceeded, response.body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(OrderActionType.FinalizeOrderFailed, response));\n                });\n        });\n    }\n\n    private _verifyCart(existingCart: InternalCart, options?: RequestOptions): Promise<boolean> {\n        return this._checkoutClient.loadCart(options)\n            .then(({ body = {} }) =>\n                this._cartComparator.isEqual(existingCart, body.data.cart) ? Promise.resolve(true) : Promise.reject(false)\n            )\n            .catch(() => Promise.reject(new CartChangedError()));\n    }\n\n    private _mapToOrderRequestBody(payload: OrderRequestBody): InternalOrderRequestBody {\n        const { payment, ...order } = payload;\n\n        if (!payment) {\n            return order;\n        }\n\n        return {\n            ...payload,\n            payment: {\n                paymentData: payment.paymentData,\n                name: payment.methodId,\n                gateway: payment.gatewayId,\n            },\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-action-creator.ts","export { default as CartChangedError } from './cart-changed-error';\nexport { default as CartUnavailableError } from './cart-unavailable-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/errors/index.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class CartChangedError extends StandardError {\n    constructor() {\n        super('An update to your shopping cart has been detected and your available shipping costs have been updated.');\n\n        this.type = 'cart_changed';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/errors/cart-changed-error.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class CartUnavailableError extends StandardError {\n    constructor() {\n        super('There is no available shopping cart.');\n\n        this.type = 'cart_unavailable';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/errors/cart-unavailable-error.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\nimport * as quoteActionTypes from '../quote/quote-action-types';\n\nimport InternalIncompleteOrder from './internal-incomplete-order';\nimport InternalOrder from './internal-order';\nimport mapToInternalIncompleteOrder from './map-to-internal-incomplete-order';\nimport { OrderAction, OrderActionType } from './order-actions';\nimport OrderState, { OrderErrorsState, OrderMetaState, OrderStatusesState } from './order-state';\n\nconst DEFAULT_STATE: OrderState = {\n    errors: {},\n    meta: {},\n    statuses: {},\n};\n\nexport default function orderReducer(\n    state: OrderState = DEFAULT_STATE,\n    action: Action | CheckoutAction | OrderAction\n): OrderState {\n    const reducer = combineReducers<OrderState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        meta: metaReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: InternalOrder | InternalIncompleteOrder | undefined,\n    action: Action | CheckoutAction | OrderAction\n): InternalOrder | InternalIncompleteOrder | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return data ? { ...data, ...mapToInternalIncompleteOrder(action.payload, data) } : data;\n\n    case OrderActionType.LoadOrderSucceeded:\n    case OrderActionType.FinalizeOrderSucceeded:\n    case OrderActionType.SubmitOrderSucceeded:\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n        return action.payload ? { ...data, ...action.payload.order } : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction metaReducer(\n    meta: OrderMetaState | undefined,\n    action: OrderAction\n): OrderMetaState | undefined {\n    switch (action.type) {\n    case OrderActionType.SubmitOrderSucceeded:\n        return { ...meta, ...action.meta };\n\n    default:\n        return meta;\n    }\n}\n\nfunction errorsReducer(\n    errors: OrderErrorsState = DEFAULT_STATE.errors,\n    action: OrderAction\n): OrderErrorsState {\n    switch (action.type) {\n    case OrderActionType.LoadOrderRequested:\n    case OrderActionType.LoadOrderSucceeded:\n        return { ...errors, loadError: undefined };\n\n    case OrderActionType.LoadOrderFailed:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: OrderStatusesState = DEFAULT_STATE.statuses,\n    action: OrderAction\n): OrderStatusesState {\n    switch (action.type) {\n    case OrderActionType.LoadOrderRequested:\n        return { ...statuses, isLoading: true };\n\n    case OrderActionType.LoadOrderSucceeded:\n    case OrderActionType.LoadOrderFailed:\n        return { ...statuses, isLoading: false };\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport InternalOrderRequestBody from './internal-order-request-body';\nimport { InternalOrderResponseBody } from './internal-order-responses';\n\nexport default class OrderRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadOrder(orderId: number, { timeout }: RequestOptions = {}): Promise<Response<InternalOrderResponseBody>> {\n        const url = `/internalapi/v1/checkout/order/${orderId}`;\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    submitOrder(body: InternalOrderRequestBody, { timeout }: RequestOptions = {}): Promise<Response<InternalOrderResponseBody>> {\n        const url = '/internalapi/v1/checkout/order';\n\n        return this._requestSender.post(url, { body, timeout });\n    }\n\n    finalizeOrder(orderId: number, { timeout }: RequestOptions = {}): Promise<Response<InternalOrderResponseBody>> {\n        const url = `/internalapi/v1/checkout/order/${orderId}`;\n\n        return this._requestSender.post(url, { timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-request-sender.ts","import * as paymentStatusTypes from '../payment/payment-status-types';\n\nimport { CartState } from '../cart';\nimport { selector } from '../common/selector';\nimport { CustomerState } from '../customer';\nimport { PaymentMethod } from '../payment';\n\nimport InternalIncompleteOrder from './internal-incomplete-order';\nimport InternalOrder, { InternalOrderMeta } from './internal-order';\nimport OrderState from './order-state';\n\n@selector\nexport default class OrderSelector {\n    constructor(\n        private _order: OrderState,\n        private _customer: CustomerState,\n        private _cart: CartState\n    ) {}\n\n    getOrder(): InternalOrder | InternalIncompleteOrder | undefined {\n        return this._order.data;\n    }\n\n    getOrderMeta(): InternalOrderMeta {\n        return {\n            deviceFingerprint: this._order.meta && this._order.meta.deviceFingerprint,\n        };\n    }\n\n    getPaymentAuthToken(): string | undefined {\n        return this._order.meta && this._order.meta.token;\n    }\n\n    isPaymentDataRequired(useStoreCredit: boolean = false): boolean {\n        const grandTotal = this._cart.data && this._cart.data.grandTotal && this._cart.data.grandTotal.amount || 0;\n        const storeCredit = this._customer.data && this._customer.data.storeCredit || 0;\n\n        return (useStoreCredit ? grandTotal - storeCredit : grandTotal) > 0;\n    }\n\n    isPaymentDataSubmitted(paymentMethod?: PaymentMethod): boolean {\n        const { payment = {} } = this.getOrder() || {};\n\n        return !!(paymentMethod && paymentMethod.nonce) ||\n            payment.status === paymentStatusTypes.ACKNOWLEDGE ||\n            payment.status === paymentStatusTypes.FINALIZE;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._order.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._order.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-selector.ts","import { find } from 'lodash';\n\nimport { mapToInternalLineItems } from '../cart';\nimport { Checkout } from '../checkout';\nimport { mapToInternalCoupon, mapToInternalGiftCertificate } from '../coupon';\n\nimport { default as InternalOrder } from './internal-order';\nimport mapToInternalIncompleteOrder from './map-to-internal-incomplete-order';\nimport Order from './order';\n\nexport default function mapToInternalOrder(checkout: Checkout, order: Order, existingOrder: InternalOrder): InternalOrder {\n    return {\n        ...mapToInternalIncompleteOrder(checkout, existingOrder),\n        id: order.orderId,\n        items: mapToInternalLineItems(order.lineItems, existingOrder.items),\n        currency: order.currency.code,\n        customerCanBeCreated: existingOrder.customerCanBeCreated,\n        subtotal: {\n            amount: existingOrder.subtotal.amount,\n            integerAmount: existingOrder.subtotal.integerAmount,\n        },\n        coupon: {\n            discountedAmount: existingOrder.coupon.discountedAmount,\n            coupons: checkout.cart.coupons.map(coupon =>\n                mapToInternalCoupon(\n                    coupon,\n                    // tslint:disable-next-line:no-non-null-assertion\n                    find(existingOrder.coupon.coupons, { code: coupon.code })!\n                )\n            ),\n        },\n        discount: {\n            amount: order.discountAmount,\n            integerAmount: existingOrder.discount.integerAmount,\n        },\n        discountNotifications: existingOrder.discountNotifications,\n        giftCertificate: {\n            totalDiscountedAmount: existingOrder.giftCertificate.totalDiscountedAmount,\n            appliedGiftCertificates: checkout.giftCertificates.map(giftCertificate =>\n                mapToInternalGiftCertificate(\n                    giftCertificate,\n                    // tslint:disable-next-line:no-non-null-assertion\n                    find(existingOrder.giftCertificate.appliedGiftCertificates, { code: giftCertificate.code })!\n                )\n            ),\n        },\n        shipping: {\n            amount: checkout.shippingCostTotal,\n            integerAmount: existingOrder.shipping.integerAmount,\n            amountBeforeDiscount: existingOrder.shipping.amountBeforeDiscount,\n            integerAmountBeforeDiscount: existingOrder.shipping.integerAmountBeforeDiscount,\n            required: existingOrder.shipping.required,\n        },\n        storeCredit: {\n            amount: checkout.storeCredit,\n        },\n        taxSubtotal: existingOrder.taxSubtotal,\n        taxes: existingOrder.taxes,\n        taxTotal: {\n            amount: checkout.taxTotal,\n            integerAmount: existingOrder.taxTotal.integerAmount,\n        },\n        handling: {\n            amount: existingOrder.handling.amount,\n            integerAmount: existingOrder.handling.integerAmount,\n        },\n        grandTotal: {\n            amount: checkout.grandTotal,\n            integerAmount: existingOrder.grandTotal.integerAmount,\n        },\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/map-to-internal-order.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './quote-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action<T>\n */\nexport default class QuoteActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadQuote(options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_QUOTE_REQUESTED));\n\n            this._checkoutClient.loadCheckout(options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.LOAD_QUOTE_SUCCEEDED, body.data, body.meta));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_QUOTE_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/quote-action-creator.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport * as billingAddressActionTypes from '../billing/billing-address-action-types';\nimport { CheckoutActionType } from '../checkout';\nimport * as customerActionTypes from '../customer/customer-action-types';\nimport * as shippingAddressActionTypes from '../shipping/shipping-address-action-types';\nimport * as shippingOptionActionTypes from '../shipping/shipping-option-action-types';\n\nimport InternalQuote from './internal-quote';\nimport mapToInternalQuote from './map-to-internal-quote';\nimport * as quoteActionTypes from './quote-action-types';\nimport QuoteState, { QuoteErrorsState, QuoteMetaState, QuoteStatusesState } from './quote-state';\n\nconst DEFAULT_STATE: QuoteState = {\n    errors: {},\n    meta: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function quoteReducer(state: QuoteState = DEFAULT_STATE, action: Action): QuoteState {\n    const reducer = combineReducers<QuoteState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        meta: metaReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: InternalQuote | undefined, action: Action): InternalQuote | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return data ? { ...data, ...mapToInternalQuote(action.payload, data) } : data;\n\n    case billingAddressActionTypes.UPDATE_BILLING_ADDRESS_SUCCEEDED:\n    case customerActionTypes.SIGN_IN_CUSTOMER_SUCCEEDED:\n    case customerActionTypes.SIGN_OUT_CUSTOMER_SUCCEEDED:\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n    case shippingAddressActionTypes.UPDATE_SHIPPING_ADDRESS_SUCCEEDED:\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_SUCCEEDED:\n    case shippingOptionActionTypes.SELECT_SHIPPING_OPTION_SUCCEEDED:\n        return action.payload ? { ...data, ...action.payload.quote } : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction metaReducer(meta: QuoteMetaState | undefined, action: Action): QuoteMetaState | undefined {\n    switch (action.type) {\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n        return action.meta ? { ...meta, ...action.meta } : meta;\n\n    default:\n        return meta;\n    }\n}\n\nfunction errorsReducer(errors: QuoteErrorsState = DEFAULT_STATE.errors, action: Action): QuoteErrorsState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case quoteActionTypes.LOAD_QUOTE_REQUESTED:\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case CheckoutActionType.LoadCheckoutFailed:\n    case quoteActionTypes.LOAD_QUOTE_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    case billingAddressActionTypes.UPDATE_BILLING_ADDRESS_REQUESTED:\n    case billingAddressActionTypes.UPDATE_BILLING_ADDRESS_SUCCEEDED:\n        return { ...errors, updateBillingAddressError: undefined };\n\n    case billingAddressActionTypes.UPDATE_BILLING_ADDRESS_FAILED:\n        return { ...errors, updateBillingAddressError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: QuoteStatusesState = DEFAULT_STATE.statuses, action: Action): QuoteStatusesState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n    case quoteActionTypes.LOAD_QUOTE_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case CheckoutActionType.LoadCheckoutFailed:\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n    case quoteActionTypes.LOAD_QUOTE_FAILED:\n        return { ...statuses, isLoading: false };\n\n    case billingAddressActionTypes.UPDATE_BILLING_ADDRESS_REQUESTED:\n        return { ...statuses, isUpdatingBillingAddress: true };\n\n    case billingAddressActionTypes.UPDATE_BILLING_ADDRESS_SUCCEEDED:\n    case billingAddressActionTypes.UPDATE_BILLING_ADDRESS_FAILED:\n        return { ...statuses, isUpdatingBillingAddress: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/quote-reducer.ts","import { isEqual } from 'lodash';\n\nimport { omitPrivate } from '../common/utility';\n\nimport InternalAddress from './internal-address';\n\nexport default function isAddressEqual(addressA: Partial<InternalAddress>, addressB: Partial<InternalAddress>): boolean {\n    return isEqual(normalize(addressA), normalize(addressB));\n}\n\nfunction normalize(address: Partial<InternalAddress>): Partial<InternalAddress> {\n    const ignoredKeys = ['id', 'provinceCode'];\n\n    return (Object.keys(omitPrivate(address) || {}) as Array<keyof InternalAddress>)\n        .reduce(\n            (result, key) => ignoredKeys.indexOf(key) === -1 && address[key] ?\n                { ...result, [key]: address[key] } :\n                result,\n            {}\n        );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/address/is-address-equal.ts","\nimport Address from './address';\nimport InternalAddress from './internal-address';\n\nexport default function mapToInternalAddress(address: Address, existingAddress: InternalAddress): InternalAddress {\n    return {\n        id: address.id,\n        firstName: address.firstName,\n        lastName: address.lastName,\n        company: address.company,\n        addressLine1: address.street1,\n        addressLine2: address.street2,\n        city: address.city,\n        province: address.region,\n        provinceCode: address.regionCode,\n        postCode: address.postalCode,\n        country: address.country,\n        countryCode: address.countryCode,\n        phone: address.phone,\n        type: existingAddress.type,\n        customFields: address.customFields,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/address/map-to-internal-address.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class QuoteRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadQuote({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/quote';\n        const params = {\n            includes: ['cart', 'customer', 'shippingOptions', 'order'].join(','),\n        };\n\n        return this._requestSender.get(url, { params, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/quote-request-sender.ts","import { selector } from '../common/selector';\n\nimport InternalQuote from './internal-quote';\nimport QuoteState from './quote-state';\n\n@selector\nexport default class QuoteSelector {\n    constructor(\n        private _quote: QuoteState\n    ) {}\n\n    getQuote(): InternalQuote | undefined {\n        return this._quote.data;\n    }\n\n    getQuoteMeta(): any {\n        return this._quote.meta;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._quote.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !! this._quote.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/quote-selector.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './remote-checkout-action-types';\nimport RemoteCheckoutRequestSender, { InitializePaymentOptions } from './remote-checkout-request-sender';\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action<T>\n */\nexport default class RemoteCheckoutActionCreator {\n    constructor(\n        private _remoteCheckoutRequestSender: RemoteCheckoutRequestSender\n    ) {}\n\n    initializeBilling(methodId: string, params: { referenceId: string }, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.INITIALIZE_REMOTE_BILLING_REQUESTED, undefined, { methodId }));\n\n            this._remoteCheckoutRequestSender.initializeBilling(methodId, params, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.INITIALIZE_REMOTE_BILLING_SUCCEEDED, body, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.INITIALIZE_REMOTE_BILLING_FAILED, response, { methodId }));\n                });\n        });\n    }\n\n    initializeShipping(methodId: string, params: { referenceId: string }, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.INITIALIZE_REMOTE_SHIPPING_REQUESTED, undefined, { methodId }));\n\n            this._remoteCheckoutRequestSender.initializeShipping(methodId, params, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.INITIALIZE_REMOTE_SHIPPING_SUCCEEDED, body, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.INITIALIZE_REMOTE_SHIPPING_FAILED, response, { methodId }));\n                });\n        });\n    }\n\n    initializePayment(methodId: string, params: InitializePaymentOptions, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.INITIALIZE_REMOTE_PAYMENT_REQUESTED, undefined, { methodId }));\n\n            this._remoteCheckoutRequestSender.initializePayment(methodId, params, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.INITIALIZE_REMOTE_PAYMENT_SUCCEEDED, body, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.INITIALIZE_REMOTE_PAYMENT_FAILED, response, { methodId }));\n                });\n        });\n    }\n\n    signOut(methodName: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.SIGN_OUT_REMOTE_CUSTOMER_REQUESTED));\n\n            this._remoteCheckoutRequestSender.signOut(methodName, options)\n                .then(() => {\n                    observer.next(createAction(actionTypes.SIGN_OUT_REMOTE_CUSTOMER_SUCCEEDED));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.SIGN_OUT_REMOTE_CUSTOMER_FAILED, response));\n                });\n        });\n    }\n\n    setCheckoutMeta(methodName: string, meta: any): Action {\n        return createAction(actionTypes.SET_REMOTE_CHECKOUT_META, {\n            [methodName]: meta,\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class RemoteCheckoutRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    initializeBilling(methodName: string, params: { referenceId: string }, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/billing`;\n\n        return this._requestSender.get(url, { params, timeout });\n    }\n\n    initializeShipping(methodName: string, params: { referenceId: string }, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/shipping`;\n\n        return this._requestSender.get(url, { params, timeout });\n    }\n\n    initializePayment(methodName: string, params: InitializePaymentOptions, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/payment`;\n\n        return this._requestSender.get(url, { params, timeout });\n    }\n\n    signOut(methodName: string, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/signout`;\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    generateToken({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/remote-checkout-token';\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    trackAuthorizationEvent({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/remote-checkout/events/shopper-checkout-service-provider-authorization-requested';\n\n        return this._requestSender.post(url, { timeout });\n    }\n}\n\nexport interface InitializePaymentOptions {\n    authorizationToken?: string;\n    customerMessage?: string;\n    referenceId?: string;\n    useStoreCredit?: boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-request-sender.ts","import { selector } from '../common/selector';\nimport { CustomerState } from '../customer';\n\nimport RemoteCheckout from './remote-checkout';\nimport RemoteCheckoutMeta from './remote-checkout-meta';\nimport RemoteCheckoutState from './remote-checkout-state';\n\n@selector\nexport default class RemoteCheckoutSelector {\n    constructor(\n        private _remoteCheckout: RemoteCheckoutState,\n        private _customer: CustomerState\n    ) {}\n\n    getCheckout(): RemoteCheckout | undefined {\n        return this._remoteCheckout.data;\n    }\n\n    getCheckoutMeta(): RemoteCheckoutMeta | undefined {\n        return this._remoteCheckout.meta;\n    }\n\n    getProviderId(): string | undefined {\n        const customer = this._customer.data;\n\n        return customer && customer.remote && customer.remote.provider;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport RemoteCheckout from './remote-checkout';\nimport * as actionTypes from './remote-checkout-action-types';\nimport RemoteCheckoutMeta from './remote-checkout-meta';\nimport RemoteCheckoutState from './remote-checkout-state';\n\nexport default function remoteCheckoutReducer(state: RemoteCheckoutState = {}, action: Action): RemoteCheckoutState {\n    const reducer = combineReducers<RemoteCheckoutState>({\n        data: dataReducer,\n        meta: metaReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: RemoteCheckout = {}, action: Action): RemoteCheckout {\n    switch (action.type) {\n    case actionTypes.INITIALIZE_REMOTE_BILLING_SUCCEEDED:\n        return { ...data, billingAddress: action.payload.billing && action.payload.billing.address };\n\n    case actionTypes.INITIALIZE_REMOTE_SHIPPING_SUCCEEDED:\n        return { ...data, shippingAddress: action.payload.shipping && action.payload.shipping.address };\n\n    default:\n        return data;\n    }\n}\n\nfunction metaReducer(meta: RemoteCheckoutMeta = {}, action: Action): RemoteCheckoutMeta {\n    switch (action.type) {\n    case actionTypes.SET_REMOTE_CHECKOUT_META:\n        return { ...meta, ...action.payload };\n\n    default:\n        return meta;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-reducer.ts","export { default as AfterpayScriptLoader } from './afterpay-script-loader';\nexport { default as AfterpaySdk } from './afterpay-sdk';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/afterpay/index.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { PaymentMethod } from '../../../payment';\n\nimport AfterpaySdk from './afterpay-sdk';\nimport AfterpayWindow from './afterpay-window';\n\ninterface AfterpayScripts {\n    PROD: string;\n    SANDBOX: string;\n}\n\nconst SCRIPTS_DEFAULT: AfterpayScripts = {\n    PROD: '//portal.afterpay.com/afterpay-async.js',\n    SANDBOX: '//portal-sandbox.afterpay.com/afterpay-async.js',\n};\n\nconst SCRIPTS_US: AfterpayScripts = {\n    PROD: '//portal.afterpay.com/afterpay-async.js',\n    SANDBOX: '//portal.us-sandbox.afterpay.com/afterpay-async.js',\n};\n\n/** Class responsible for loading the Afterpay SDK */\nexport default class AfterpayScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {}\n\n    /**\n     * Loads the appropriate Afterpay SDK depending on the payment method data.\n     * @param method the payment method data\n     */\n    load(method: PaymentMethod, countryCode: string): Promise<AfterpaySdk> {\n        const testMode = method.config.testMode || false;\n        const scriptURI = this._getScriptURI(countryCode, testMode);\n\n        return this._scriptLoader.loadScript(scriptURI)\n            .then(() => (window as AfterpayWindow).AfterPay);\n    }\n\n    private _getScriptURI(countryCode: string, testMode: boolean): string {\n        if (countryCode === 'US') {\n            return testMode ? SCRIPTS_US.SANDBOX : SCRIPTS_US.PROD;\n        }\n\n        return testMode ? SCRIPTS_DEFAULT.SANDBOX : SCRIPTS_DEFAULT.PROD;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/afterpay/afterpay-script-loader.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { PaymentMethod } from '../../../payment';\n\nimport AmazonPayWindow from './amazon-pay-window';\n\nexport default class AmazonPayScriptLoader {\n    private _window: AmazonPayWindow;\n\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {\n        this._window = window;\n    }\n\n    loadWidget(method: PaymentMethod, onPaymentReady?: () => void): Promise<Event> {\n        const {\n            config: { merchantId, testMode },\n            initializationData: { region = 'us' } = {},\n        } = method;\n\n        const url = 'https://' +\n            (region.toLowerCase() !== 'us' ? 'static-eu.' : 'static-na.') +\n            'payments-amazon.com/OffAmazonPayments/' +\n            `${region.toLowerCase()}/` +\n            (testMode ? 'sandbox/' : '') +\n            (region.toLowerCase() !== 'us' ? 'lpa/' : '') +\n            `js/Widgets.js?sellerId=${merchantId}`;\n\n        this._configureWidget(method, onPaymentReady);\n\n        return this._scriptLoader.loadScript(url);\n    }\n\n    private _configureWidget(method: PaymentMethod, onPaymentReady?: () => void): void {\n        const onLoginReady = () => {\n            if (!this._window.amazon) {\n                return;\n            }\n\n            this._window.amazon.Login.setClientId(method.initializationData.clientId);\n            this._window.amazon.Login.setUseCookie(true);\n        };\n\n        if (this._window.amazon && this._window.amazon.Login) {\n            onLoginReady();\n        } else {\n            this._window.onAmazonLoginReady = onLoginReady;\n        }\n\n        if (this._window.OffAmazonPayments && onPaymentReady) {\n            onPaymentReady();\n        } else {\n            this._window.onAmazonPaymentsReady = onPaymentReady;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/amazon-pay/amazon-pay-script-loader.ts","export { default as KlarnaCredit, KlarnaLoadResponse } from './klarna-credit';\nexport { default as KlarnaScriptLoader } from './klarna-script-loader';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/klarna/index.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport KlarnaCredit from './klarna-credit';\nimport KlarnaWindow from './klarna-window';\n\nconst SDK_URL = '//credit.klarnacdn.net/lib/v1/api.js';\n\nexport default class KlarnaScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {}\n\n    load(): Promise<KlarnaCredit> {\n        return this._scriptLoader.loadScript(SDK_URL)\n            .then(() => (window as KlarnaWindow).Klarna.Credit);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/klarna/klarna-script-loader.ts","export { default as WepayRiskClient } from './wepay-risk-client';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/wepay/index.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { NotInitializedError } from '../../../common/error/errors';\n\nimport WepayRisk from './wepay-risk';\nimport WepayWindow from './wepay-window';\n\nconst SCRIPT_SRC = '//static.wepay.com/min/js/risk.1.latest.js';\n\nexport default class WepayRiskClient {\n    private _riskClient?: WepayRisk;\n\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {}\n\n    initialize(): Promise<WepayRiskClient> {\n        return this._scriptLoader\n            .loadScript(SCRIPT_SRC)\n            .then(() => this._riskClient = (window as WepayWindow).WePay.risk)\n            .then(() => this);\n    }\n\n    getRiskToken(): string {\n        if (!this._riskClient) {\n            throw new NotInitializedError();\n        }\n\n        this._riskClient.generate_risk_token();\n\n        return this._riskClient.get_risk_token();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/wepay/wepay-risk-client.ts","module.exports = require(\"rxjs/observable/concat\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/observable/concat\"\n// module id = 161\n// module chunks = 0","module.exports = require(\"rxjs/observable/defer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/observable/defer\"\n// module id = 162\n// module chunks = 0","export const HOSTED = 'PAYMENT_TYPE_HOSTED';\nexport const OFFLINE = 'PAYMENT_TYPE_OFFLINE';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-types.ts","export { default as AfterpayPaymentStrategy } from './afterpay-payment-strategy';\nexport { default as AmazonPayPaymentStrategy, AmazonPayPaymentInitializeOptions } from './amazon-pay-payment-strategy';\nexport { default as CreditCardPaymentStrategy } from './credit-card-payment-strategy';\nexport { default as KlarnaPaymentStrategy, KlarnaPaymentInitializeOptions } from './klarna-payment-strategy';\nexport { default as LegacyPaymentStrategy } from './legacy-payment-strategy';\nexport { default as NoPaymentDataRequiredPaymentStrategy } from './no-payment-data-required-strategy';\nexport { default as OfflinePaymentStrategy } from './offline-payment-strategy';\nexport { default as OffsitePaymentStrategy } from './offsite-payment-strategy';\nexport { default as PaymentStrategy } from './payment-strategy';\nexport { default as PaypalExpressPaymentStrategy } from './paypal-express-payment-strategy';\nexport { default as PaypalProPaymentStrategy } from './paypal-pro-payment-strategy';\nexport { default as SagePayPaymentStrategy } from './sage-pay-payment-strategy';\nexport { default as WepayPaymentStrategy } from './wepay-payment-strategy';\n\nexport { BraintreeCreditCardPaymentStrategy, BraintreePaymentInitializeOptions, BraintreePaypalPaymentStrategy, BraintreeVisaCheckoutPaymentStrategy, BraintreeVisaCheckoutPaymentInitializeOptions } from './braintree';\nexport { SquarePaymentStrategy, SquarePaymentInitializeOptions } from './square';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/index.ts","import { CartActionCreator } from '../../cart';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { MissingDataError, NotInitializedError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport { AfterpayScriptLoader, AfterpaySdk } from '../../remote-checkout/methods/afterpay';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport PaymentMethod from '../payment-method';\nimport PaymentMethodActionCreator from '../payment-method-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class AfterpayPaymentStrategy extends PaymentStrategy {\n    private _afterpaySdk?: AfterpaySdk;\n\n    constructor(\n        store: CheckoutStore,\n        private _cartActionCreator: CartActionCreator,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _afterpayScriptLoader: AfterpayScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        const state = this._store.getState();\n        const paymentMethod = state.paymentMethods.getPaymentMethod(options.methodId, options.gatewayId);\n        const config = state.config.getStoreConfig();\n        const storeCountryName = config ? config.storeProfile.storeCountry : '';\n\n        if (!paymentMethod) {\n            throw new MissingDataError(`Unable to initialize because \"paymentMethod (${options.methodId})\" data is missing.`);\n        }\n\n        return this._afterpayScriptLoader.load(paymentMethod, this._mapCountryToISO2(storeCountryName))\n            .then(afterpaySdk => {\n                this._afterpaySdk = afterpaySdk;\n            })\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        if (this._afterpaySdk) {\n            this._afterpaySdk = undefined;\n        }\n\n        return super.deinitialize(options);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const paymentId = payload.payment && payload.payment.gatewayId;\n\n        if (!paymentId) {\n            throw new PaymentArgumentInvalidError(['payment.gatewayId']);\n        }\n\n        const useStoreCredit = !!payload.useStoreCredit;\n        const customerMessage = payload.customerMessage ? payload.customerMessage : '';\n        const state = this._store.getState();\n        const config = state.config.getStoreConfig();\n        const storeCountryName = config ? config.storeProfile.storeCountry : '';\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.initializePayment(paymentId, { useStoreCredit, customerMessage })\n        )\n            .then(state => this._store.dispatch(\n                this._cartActionCreator.verifyCart(state.cart.getCart(), options)\n            ))\n            .then(() => this._store.dispatch(\n                this._paymentMethodActionCreator.loadPaymentMethod(paymentId, options)\n            ))\n            .then(state => this._displayModal(storeCountryName, state.paymentMethods.getPaymentMethod(paymentId)))\n            // Afterpay will handle the rest of the flow so return a promise that doesn't really resolve\n            .then(() => new Promise<never>(() => {}));\n    }\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const customer = state.customer.getCustomer();\n        const order = state.order.getOrder();\n        const config = state.config.getContextConfig();\n\n        if (!order || !order.payment.id || !config || !config.payment.token || !customer) {\n            throw new MissingDataError('Unable to finalize order because \"order\", \"customer\" or \"token\" data is missing.');\n        }\n\n        const orderPayload = customer.remote ?\n            { useStoreCredit: customer.remote.useStoreCredit, customerMessage: customer.remote.customerMessage } :\n            {};\n\n        const paymentPayload = {\n            methodId: order.payment.id,\n            paymentData: { nonce: config.payment.token },\n        };\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(orderPayload, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment(paymentPayload))\n            );\n    }\n\n    private _displayModal(countryName: string, paymentMethod?: PaymentMethod): void {\n        if (!this._afterpaySdk || !paymentMethod || !paymentMethod.clientToken) {\n            throw new NotInitializedError('Unable to display payment modal because payment method has not been initialized.');\n        }\n\n        this._afterpaySdk.initialize({ countryCode: this._mapCountryToISO2(countryName)});\n        this._afterpaySdk.display({ token: paymentMethod.clientToken });\n    }\n\n    private _mapCountryToISO2(countryName: string): string {\n        switch (countryName) {\n            case 'Australia':\n                return 'AU';\n            case 'New Zealand':\n                return 'NZ';\n            case 'United States':\n                return 'US';\n            default:\n                return 'AU';\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/afterpay-payment-strategy.ts","import { InvalidArgumentError } from '../../common/error/errors';\n\nexport default class PaymentArgumentInvalidError extends InvalidArgumentError {\n    constructor(invalidFields?: string[]) {\n        let message = 'Unable to submit payment for the order because the payload is invalid.';\n\n        if (invalidFields) {\n            message = `${message} Make sure the following fields are provided correctly: ${invalidFields.join(', ')}.`;\n        }\n\n        super(message);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/errors/payment-argument-invalid-error.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport { RequestError } from '../../common/error/errors';\n\nexport default class PaymentMethodInvalidError extends RequestError {\n    constructor(response?: Response) {\n        super(response, 'There is a problem processing your payment. Please try again later.');\n\n        this.type = 'payment_method_invalid';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/errors/payment-method-invalid-error.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class PaymentMethodCancelledError extends StandardError {\n    constructor() {\n        super('Payment process was cancelled.');\n\n        this.type = 'payment_cancelled';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/errors/payment-method-cancelled-error.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class OrderFinalizationNotRequiredError extends StandardError {\n    constructor() {\n        super('The current order does not need to be finalized at this stage.');\n\n        this.type = 'order_finalization_not_required';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/errors/order-finalization-not-required-error.ts","import { noop } from 'lodash';\n\nimport { isAddressEqual } from '../../address';\nimport { BillingAddressActionCreator } from '../../billing';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, NotInitializedError, RequestError, StandardError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport { RemoteCheckoutSynchronizationError } from '../../remote-checkout/errors';\nimport {\n    AmazonPayOrderReference,\n    AmazonPayScriptLoader,\n    AmazonPayWallet,\n    AmazonPayWalletOptions,\n    AmazonPayWidgetError,\n    AmazonPayWindow,\n} from '../../remote-checkout/methods/amazon-pay';\nimport PaymentMethod from '../payment-method';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class AmazonPayPaymentStrategy extends PaymentStrategy {\n    private _paymentMethod?: PaymentMethod;\n    private _walletOptions?: AmazonPayPaymentInitializeOptions;\n    private _window: AmazonPayWindow;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _billingAddressActionCreator: BillingAddressActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _scriptLoader: AmazonPayScriptLoader\n    ) {\n        super(store);\n\n        this._window = window;\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        const { amazon: amazonOptions, methodId } = options;\n        const state = this._store.getState();\n        const paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n        if (!amazonOptions) {\n            throw new InvalidArgumentError('Unable to initialize payment because \"options.amazon\" argument is not provided.');\n        }\n\n        if (!paymentMethod) {\n            throw new MissingDataError(`Unable to initialize because \"paymentMethod (${options.methodId})\" data is missing.`);\n        }\n\n        this._walletOptions = amazonOptions;\n        this._paymentMethod = paymentMethod;\n\n        return new Promise((resolve, reject) => {\n            const onReady = () => {\n                this._createWallet(amazonOptions)\n                    .then(resolve)\n                    .catch(reject);\n            };\n\n            this._scriptLoader.loadWidget(paymentMethod, onReady)\n                .catch(reject);\n        })\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        this._walletOptions = undefined;\n\n        return super.deinitialize(options);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const referenceId = this._getOrderReferenceId();\n\n        if (!referenceId) {\n            throw new NotInitializedError('Unable to submit payment without order reference ID');\n        }\n\n        if (!payload.payment) {\n            throw new InvalidArgumentError('Unable to proceed because \"payload.payment.methodId\" argument is not provided.');\n        }\n\n        const { payment: { paymentData, ...paymentPayload }, useStoreCredit = false } = payload;\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.initializePayment(paymentPayload.methodId, { referenceId, useStoreCredit })\n        )\n            .then(() => this._store.dispatch(\n                this._orderActionCreator.submitOrder({\n                    ...payload,\n                    payment: paymentPayload,\n                }, options)\n            ))\n            .catch(error => {\n                if (error instanceof RequestError && error.body.type === 'provider_widget_error' && this._walletOptions) {\n                    return this._createWallet(this._walletOptions)\n                        .then(() => Promise.reject(error));\n                }\n\n                return Promise.reject(error);\n            });\n    }\n\n    private _getMerchantId(): string | undefined {\n        return this._paymentMethod && this._paymentMethod.config.merchantId;\n    }\n\n    private _getOrderReferenceId(): string | undefined {\n        const state = this._store.getState();\n        const meta = state.remoteCheckout.getCheckoutMeta() || {};\n\n        return meta && meta.amazon && meta.amazon.referenceId;\n    }\n\n    private _createWallet(options: AmazonPayPaymentInitializeOptions): Promise<AmazonPayWallet> {\n        return new Promise((resolve, reject) => {\n            const { container, onError = noop, onPaymentSelect = noop, onReady = noop } = options;\n            const referenceId = this._getOrderReferenceId();\n            const merchantId = this._getMerchantId();\n\n            if (!merchantId || !document.getElementById(container) || !this._window.OffAmazonPayments) {\n                return reject(new NotInitializedError('Unable to create AmazonPay Wallet widget without valid merchant ID or container ID.'));\n            }\n\n            const walletOptions: AmazonPayWalletOptions = {\n                design: { designMode: 'responsive' },\n                scope: 'payments:billing_address payments:shipping_address payments:widget profile',\n                sellerId: merchantId,\n                onError: error => {\n                    reject(error);\n                    onError(error);\n                },\n                onPaymentSelect: orderReference => {\n                    this._synchronizeBillingAddress()\n                        .then(() => onPaymentSelect(orderReference))\n                        .catch(onError);\n                },\n                onReady: orderReference => {\n                    resolve();\n                    onReady(orderReference);\n                },\n            };\n\n            if (referenceId) {\n                walletOptions.amazonOrderReferenceId = referenceId;\n            } else {\n                walletOptions.onOrderReferenceCreate = orderReference => {\n                    if (!this._paymentMethod) {\n                        throw new NotInitializedError('Unable to create Amazon wallet because payment method has not been initialized.');\n                    }\n\n                    this._store.dispatch(\n                        this._remoteCheckoutActionCreator.setCheckoutMeta(this._paymentMethod.id, {\n                            referenceId: orderReference.getAmazonOrderReferenceId(),\n                        })\n                    );\n                };\n            }\n\n            const widget = new this._window.OffAmazonPayments.Widgets.Wallet(walletOptions);\n\n            widget.bind(container);\n\n            return widget;\n        });\n    }\n\n    private _synchronizeBillingAddress(): Promise<InternalCheckoutSelectors> {\n        const referenceId = this._getOrderReferenceId();\n        const methodId = this._paymentMethod && this._paymentMethod.id;\n\n        if (!methodId || !referenceId) {\n            throw new RemoteCheckoutSynchronizationError();\n        }\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.initializeBilling(methodId, { referenceId })\n        )\n            .then(state => {\n                const remoteCheckout = state.remoteCheckout.getCheckout();\n                const address = state.billingAddress.getBillingAddress();\n\n                if (remoteCheckout && remoteCheckout.billingAddress === false) {\n                    throw new RemoteCheckoutSynchronizationError();\n                }\n\n                if (!remoteCheckout || !remoteCheckout.billingAddress || isAddressEqual(remoteCheckout.billingAddress, address || {})) {\n                    return this._store.getState();\n                }\n\n                return this._store.dispatch(\n                    this._billingAddressActionCreator.updateAddress(remoteCheckout.billingAddress)\n                );\n            });\n    }\n}\n\nexport interface AmazonPayPaymentInitializeOptions {\n    container: string;\n    onError?(error: AmazonPayWidgetError | StandardError): void;\n    onPaymentSelect?(reference: AmazonPayOrderReference): void;\n    onReady?(reference: AmazonPayOrderReference): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/amazon-pay-payment-strategy.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class RemoteCheckoutSynchronizationError extends StandardError {\n    constructor(\n        public error?: Error\n    ) {\n        super('Unable to synchronize your checkout details with a third party provider. Please try again later.');\n\n        this.type = 'remote_checkout_synchronization';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/errors/remote-checkout-synchronization-error.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, NotInitializedError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport { KlarnaCredit, KlarnaLoadResponse, KlarnaScriptLoader } from '../../remote-checkout/methods/klarna';\nimport PaymentMethodActionCreator from '../payment-method-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class KlarnaPaymentStrategy extends PaymentStrategy {\n    private _klarnaCredit?: KlarnaCredit;\n    private _unsubscribe?: (() => void);\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _klarnaScriptLoader: KlarnaScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        return this._klarnaScriptLoader.load()\n            .then(klarnaCredit => { this._klarnaCredit = klarnaCredit; })\n            .then(() => {\n                this._unsubscribe = this._store.subscribe(\n                    () => this._loadWidget(options),\n                    state => {\n                        const cart = state.cart.getCart();\n\n                        return cart && cart.grandTotal;\n                    }\n                );\n\n                return this._loadWidget(options);\n            })\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (this._unsubscribe) {\n            this._unsubscribe();\n        }\n\n        return super.deinitialize(options);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!payload.payment) {\n            throw new InvalidArgumentError('Unable to proceed because \"payload.payment\" argument is not provided.');\n        }\n\n        const { payment: { paymentData, ...paymentPayload } } = payload;\n\n        return this._authorize()\n            .then(({ authorization_token: authorizationToken }) => this._store.dispatch(\n                this._remoteCheckoutActionCreator.initializePayment(paymentPayload.methodId, { authorizationToken })\n            ))\n            .then(() => this._store.dispatch(\n                this._orderActionCreator.submitOrder({\n                    ...payload,\n                    payment: paymentPayload,\n                    // Note: API currently doesn't support using Store Credit with Klarna.\n                    // To prevent deducting customer's store credit, set it as false.\n                    useStoreCredit: false,\n                }, options)\n            ));\n    }\n\n    private _loadWidget(options: PaymentInitializeOptions): Promise<KlarnaLoadResponse> {\n        if (!options.klarna) {\n            throw new InvalidArgumentError('Unable to load widget because \"options.klarna\" argument is not provided.');\n        }\n\n        const { methodId, klarna: { container, onLoad } } = options;\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => new Promise<KlarnaLoadResponse>((resolve, reject) => {\n                const paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                if (!paymentMethod || !paymentMethod.clientToken) {\n                    throw new MissingDataError('Unable to load payment widget because \"paymentMethod.clientToken\" field is missing.');\n                }\n\n                if (!this._klarnaCredit) {\n                    throw new NotInitializedError();\n                }\n\n                this._klarnaCredit.init({ client_token: paymentMethod.clientToken });\n\n                this._klarnaCredit.load({ container }, response => {\n                    if (onLoad) {\n                        onLoad(response);\n                    }\n\n                    if (!response.show_form) {\n                        reject(response);\n                    } else {\n                        resolve(response);\n                    }\n                });\n            }));\n    }\n\n    private _authorize(): Promise<any> {\n        return new Promise((resolve, reject) => {\n            if (!this._klarnaCredit) {\n                throw new NotInitializedError();\n            }\n\n            this._klarnaCredit.authorize({}, res => {\n                if (!res.approved) {\n                    reject(res);\n                } else {\n                    resolve(res);\n                }\n            });\n        });\n    }\n}\n\nexport interface KlarnaPaymentInitializeOptions {\n    container: string;\n    onLoad?(response: KlarnaLoadResponse): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/klarna-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class LegacyPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(this._orderActionCreator.submitOrder(payload, options));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/legacy-payment-strategy.ts","import { omit } from 'lodash';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class NoPaymentDataRequiredPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(orderRequest: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._orderActionCreator.submitOrder(omit(orderRequest, 'payment'), options)\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/no-payment-data-required-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class OfflinePaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const action = this._orderActionCreator.submitOrder({\n            ...payload,\n            payment: payload.payment ? { methodId: payload.payment.methodId } : undefined,\n        }, options);\n\n        return this._store.dispatch(action);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/offline-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { MissingDataError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentRequestOptions } from '../payment-request-options';\nimport * as paymentStatusTypes from '../payment-status-types';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class OffsitePaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = payload;\n        const paymentData = payment && payment.paymentData;\n        const orderPayload = payment && payment.gatewayId === 'adyen' ? payload : order;\n\n        if (!payment || !paymentData) {\n            throw new PaymentArgumentInvalidError(['payment.paymentData']);\n        }\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(orderPayload, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.initializeOffsitePayment({ ...payment, paymentData }))\n            );\n    }\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const order = state.order.getOrder();\n\n        if (!order) {\n            throw new MissingDataError('Unable to finalize order because \"order\" data is missing.');\n        }\n\n        const { orderId, payment = {} } = order;\n\n        if (orderId &&\n            payment.status === paymentStatusTypes.ACKNOWLEDGE ||\n            payment.status === paymentStatusTypes.FINALIZE) {\n            return this._store.dispatch(this._orderActionCreator.finalizeOrder(orderId, options));\n        }\n\n        return super.finalize();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/offsite-payment-strategy.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { MissingDataError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport PaymentMethod from '../payment-method';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\nimport * as paymentStatusTypes from '../payment-status-types';\n\nimport PaymentStrategy from './payment-strategy';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class PaypalExpressPaymentStrategy extends PaymentStrategy {\n    private _paypalSdk: any;\n    private _paymentMethod?: PaymentMethod;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _scriptLoader: ScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n\n        this._paymentMethod = state.paymentMethods.getPaymentMethod(options.methodId);\n\n        if (!this._isInContextEnabled() || this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        return this._scriptLoader.loadScript('//www.paypalobjects.com/api/checkout.min.js')\n            .then(() => {\n                this._paypalSdk = (window as any).paypal;\n\n                if (!this._paymentMethod || !this._paymentMethod.config.merchantId) {\n                    throw new MissingDataError('Unable to initialize because \"paymentMethod.config.merchantId\" field is missing.');\n                }\n\n                this._paypalSdk.checkout.setup(this._paymentMethod.config.merchantId, {\n                    button: 'paypal-button',\n                    environment: this._paymentMethod.config.testMode ? 'sandbox' : 'production',\n                });\n            })\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize();\n        }\n\n        if (this._isInContextEnabled() && this._paypalSdk) {\n            this._paypalSdk.checkout.closeFlow();\n            this._paypalSdk = null;\n        }\n\n        return super.deinitialize();\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (this._getPaymentStatus() === paymentStatusTypes.ACKNOWLEDGE ||\n            this._getPaymentStatus() === paymentStatusTypes.FINALIZE) {\n            return this._store.dispatch(this._orderActionCreator.submitOrder(payload, options));\n        }\n\n        if (!this._isInContextEnabled()) {\n            return this._store.dispatch(this._orderActionCreator.submitOrder(payload, options))\n                .then(state => {\n                    const order = state.order.getOrder();\n\n                    if (order && order.payment.redirectUrl) {\n                        window.location.assign(order.payment.redirectUrl);\n                    }\n\n                    // We need to hold execution so the consumer does not redirect us somewhere else\n                    return new Promise<never>(() => {});\n                });\n        }\n\n        this._paypalSdk.checkout.initXO();\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(payload, options))\n            .then(state => {\n                const order = state.order.getOrder();\n\n                if (order && order.payment.redirectUrl) {\n                    this._paypalSdk.checkout.startFlow(order.payment.redirectUrl);\n                }\n\n                // We need to hold execution so the consumer does not redirect us somewhere else\n                return new Promise<never>(() => {});\n            })\n            .catch(error => {\n                this._paypalSdk.checkout.closeFlow();\n\n                return Promise.reject(error);\n            });\n    }\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const order = state.order.getOrder();\n\n        if (!order) {\n            throw new MissingDataError('Unable to finalize order because \"order\" data is missing.');\n        }\n\n        if (order.orderId &&\n            this._getPaymentStatus() === paymentStatusTypes.ACKNOWLEDGE ||\n            this._getPaymentStatus() === paymentStatusTypes.FINALIZE) {\n            return this._store.dispatch(this._orderActionCreator.finalizeOrder(order.orderId, options));\n        }\n\n        return super.finalize();\n    }\n\n    private _getPaymentStatus(): string | undefined {\n        const state = this._store.getState();\n        const order = state.order.getOrder();\n\n        if (!order) {\n            throw new MissingDataError('Unable to determine payment status because \"order\" data is missing.');\n        }\n\n        return order.payment && order.payment.status;\n    }\n\n    private _isInContextEnabled(): boolean {\n        return !!(this._paymentMethod && this._paymentMethod.config.merchantId);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/paypal-express-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { MissingDataError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentRequestOptions } from '../payment-request-options';\nimport * as paymentStatusTypes from '../payment-status-types';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class PaypalProPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isPaymentAcknowledged()) {\n            return this._store.dispatch(\n                this._orderActionCreator.submitOrder({\n                    ...payload,\n                    payment: payload.payment ? { methodId: payload.payment.methodId } : undefined,\n                }, options)\n            );\n        }\n\n        const { payment, ...order } = payload;\n        const paymentData = payment && payment.paymentData;\n\n        if (!payment || !paymentData) {\n            throw new PaymentArgumentInvalidError(['payment.paymentData']);\n        }\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment({ ...payment, paymentData }))\n            );\n    }\n\n    private _isPaymentAcknowledged(): boolean {\n        const state = this._store.getState();\n        const order = state.order.getOrder();\n\n        if (!order) {\n            throw new MissingDataError('Unable to determine payment status because \"order\" data is missing.');\n        }\n\n        return order.payment && order.payment.status === paymentStatusTypes.ACKNOWLEDGE;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/paypal-pro-payment-strategy.ts","import { some } from 'lodash';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { MissingDataError, RequestError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentRequestOptions } from '../payment-request-options';\nimport * as paymentStatusTypes from '../payment-status-types';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class SagePayPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _formPoster: any\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = payload;\n        const paymentData = payment && payment.paymentData;\n\n        if (!payment || !paymentData) {\n            throw new PaymentArgumentInvalidError(['payment.paymentData']);\n        }\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment({ ...payment, paymentData }))\n            )\n            .catch(error => {\n                if (!(error instanceof RequestError) || !some(error.body.errors, { code: 'three_d_secure_required' })) {\n                    return Promise.reject(error);\n                }\n\n                return new Promise(() => {\n                    this._formPoster.postForm(error.body.three_ds_result.acs_url, {\n                        PaReq: error.body.three_ds_result.payer_auth_request,\n                        TermUrl: error.body.three_ds_result.callback_url,\n                        MD: error.body.three_ds_result.merchant_data,\n                    });\n                });\n            });\n    }\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const order = state.order.getOrder();\n\n        if (!order) {\n            throw new MissingDataError('Unable to finalize order because \"order\" data is missing.');\n        }\n\n        const { orderId, payment = {} } = order;\n\n        if (orderId && payment.status === paymentStatusTypes.FINALIZE) {\n            return this._store.dispatch(this._orderActionCreator.finalizeOrder(orderId, options));\n        }\n\n        return super.finalize();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/sage-pay-payment-strategy.ts","import { merge } from 'lodash';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { WepayRiskClient } from '../../remote-checkout/methods/wepay';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nimport CreditCardPaymentStrategy from './credit-card-payment-strategy';\n\nexport default class WepayPaymentStrategy extends CreditCardPaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        orderActionCreator: OrderActionCreator,\n        paymentActionCreator: PaymentActionCreator,\n        private _wepayRiskClient: WepayRiskClient\n    ) {\n        super(store, orderActionCreator, paymentActionCreator);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        this._wepayRiskClient.initialize();\n\n        return super.initialize(options);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const token = this._wepayRiskClient.getRiskToken();\n        const payloadWithToken = merge({}, payload, {\n            payment: {\n                paymentData: {\n                    extraData: {\n                        riskToken: token,\n                    },\n                },\n            },\n        });\n\n        return super.execute(payloadWithToken, options);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/wepay-payment-strategy.ts","import { Payment, PaymentMethodActionCreator } from '../..';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../../checkout';\nimport { MissingDataError, StandardError } from '../../../common/error/errors';\nimport { OrderActionCreator, OrderPaymentRequestBody, OrderRequestBody } from '../../../order';\nimport { PaymentArgumentInvalidError } from '../../errors';\nimport isCreditCardLike from '../../is-credit-card-like';\nimport isVaultedInstrument from '../../is-vaulted-instrument';\nimport { PaymentInstrument } from '../../payment';\nimport PaymentActionCreator from '../../payment-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../../payment-request-options';\nimport PaymentStrategy from '../payment-strategy';\n\nimport BraintreePaymentProcessor from './braintree-payment-processor';\n\nexport default class BraintreeCreditCardPaymentStrategy extends PaymentStrategy {\n    private _is3dsEnabled?: boolean;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _braintreePaymentProcessor: BraintreePaymentProcessor\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(options.methodId))\n            .then(state => {\n                const paymentMethod = state.paymentMethods.getPaymentMethod(options.methodId);\n\n                if (!paymentMethod || !paymentMethod.clientToken) {\n                    throw new MissingDataError('Unable to initialize because \"paymentMethod.clientToken\" field is missing.');\n                }\n\n                this._braintreePaymentProcessor.initialize(paymentMethod.clientToken, options.braintree);\n                this._is3dsEnabled = paymentMethod.config.is3dsEnabled;\n\n                return super.initialize(options);\n            })\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    execute(orderRequest: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = orderRequest;\n\n        if (!payment) {\n            throw new PaymentArgumentInvalidError(['payment']);\n        }\n\n        return this._store.dispatch(\n            this._orderActionCreator.submitOrder(order, options)\n        )\n            .then(state =>\n                state.order.isPaymentDataRequired(order.useStoreCredit) && payment ?\n                    this._preparePaymentData(payment) :\n                    Promise.resolve(payment as Payment)\n            )\n            .then(payment =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment(payment))\n            )\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._braintreePaymentProcessor.deinitialize()\n            .then(() => super.deinitialize(options));\n    }\n\n    private _handleError(error: Error): never {\n        if (error.name === 'BraintreeError') {\n            throw new StandardError(error.message);\n        }\n\n        throw error;\n    }\n\n    private _isUsingVaulting(paymentData: PaymentInstrument): boolean {\n        if (isCreditCardLike(paymentData)) {\n            return Boolean(paymentData.shouldSaveInstrument);\n        }\n\n        return isVaultedInstrument(paymentData);\n    }\n\n    private _preparePaymentData(payment: OrderPaymentRequestBody): Promise<Payment> {\n        const { paymentData } = payment;\n        const state = this._store.getState();\n\n        if (paymentData && this._isUsingVaulting(paymentData)) {\n            return Promise.resolve(payment as Payment);\n        }\n\n        const cart = state.cart.getCart();\n        const billingAddress = state.billingAddress.getBillingAddress();\n\n        if (!cart || !billingAddress) {\n            throw new MissingDataError('Unable to prepare payment data because \"cart\" and \"billingAddress\" data is missing.');\n        }\n\n        const tokenizedCard = this._is3dsEnabled ?\n            this._braintreePaymentProcessor.verifyCard(payment, billingAddress, cart.grandTotal.amount) :\n            this._braintreePaymentProcessor.tokenizeCard(payment, billingAddress);\n\n        return this._braintreePaymentProcessor.appendSessionId(tokenizedCard)\n            .then(paymentData => ({ ...payment, paymentData }));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-credit-card-payment-strategy.ts","import isVaultedInstrument from './is-vaulted-instrument';\nimport { CreditCardInstrument, PaymentInstrument } from './payment';\n\nexport default function isCreditCardLike(instrument: PaymentInstrument): instrument is CreditCardInstrument {\n    const card = instrument as CreditCardInstrument;\n\n    return !isVaultedInstrument(card) &&\n        typeof card.ccName === 'string' &&\n        typeof card.ccNumber === 'string' &&\n        typeof card.ccType === 'string' &&\n        typeof card.ccExpiry === 'object' &&\n        typeof card.ccExpiry.month === 'string' &&\n        typeof card.ccExpiry.year === 'string';\n    }\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/is-credit-card-like.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../../checkout';\nimport { MissingDataError, StandardError } from '../../../common/error/errors';\nimport { OrderActionCreator, OrderPaymentRequestBody, OrderRequestBody } from '../../../order';\nimport { PaymentArgumentInvalidError } from '../../errors';\nimport Payment from '../../payment';\nimport PaymentActionCreator from '../../payment-action-creator';\nimport PaymentMethod from '../../payment-method';\nimport PaymentMethodActionCreator from '../../payment-method-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../../payment-request-options';\nimport PaymentStrategy from '../payment-strategy';\n\nimport BraintreePaymentProcessor from './braintree-payment-processor';\n\nexport default class BraintreePaypalPaymentStrategy extends PaymentStrategy {\n    private _paymentMethod?: PaymentMethod;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _braintreePaymentProcessor: BraintreePaymentProcessor,\n        private _credit: boolean = false\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const { braintree: braintreeOptions, methodId } = options;\n\n        this._paymentMethod = this._store.getState().paymentMethods.getPaymentMethod(methodId);\n\n        if (this._paymentMethod && this._paymentMethod.nonce) {\n            return super.initialize(options);\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                if (!this._paymentMethod || !this._paymentMethod.clientToken) {\n                    throw new MissingDataError('Unable to initialize because \"paymentMethod.clientToken\" field is missing.');\n                }\n\n                this._braintreePaymentProcessor.initialize(this._paymentMethod.clientToken, braintreeOptions);\n\n                return this._braintreePaymentProcessor.preloadPaypal();\n            })\n            .then(() => super.initialize(options))\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    execute(orderRequest: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = orderRequest;\n\n        if (!payment) {\n            throw new PaymentArgumentInvalidError(['payment']);\n        }\n\n        return Promise.all([\n                payment ? this._preparePaymentData(payment) : Promise.resolve(payment),\n                this._store.dispatch(this._orderActionCreator.submitOrder(order, options)),\n            ])\n            .then(([payment]) =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment(payment))\n            )\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    deinitialize(options: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._braintreePaymentProcessor.deinitialize()\n            .then(() => super.deinitialize(options));\n    }\n\n    private _handleError(error: Error): never {\n        if (error.name === 'BraintreeError') {\n            throw new StandardError(error.message);\n        }\n\n        throw error;\n    }\n\n    private _preparePaymentData(payment: OrderPaymentRequestBody): Promise<Payment> {\n        const state = this._store.getState();\n        const cart = state.cart.getCart();\n        const config = state.config.getStoreConfig();\n\n        if (!cart || !config || !this._paymentMethod) {\n            throw new MissingDataError(`Unable to prepare payment data because \"cart\", \"config\" or \"paymentMethod (${payment.methodId})\" data is missing.`);\n        }\n\n        const { amount } = cart.grandTotal;\n        const { currency, storeProfile: { storeLanguage } } = config;\n        const { method, nonce } = this._paymentMethod;\n\n        if (nonce) {\n            return Promise.resolve({ ...payment, paymentData: { nonce, method } });\n        }\n\n        const tokenizedCard = this._braintreePaymentProcessor\n            .paypal(amount, storeLanguage, currency.code, this._credit);\n\n        return this._braintreePaymentProcessor.appendSessionId(tokenizedCard)\n            .then(paymentData => ({ ...payment, paymentData: { ...paymentData, method } }));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-paypal-payment-strategy.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport BraintreePaymentProcessor from './braintree-payment-processor';\nimport BraintreeScriptLoader from './braintree-script-loader';\nimport BraintreeSDKCreator from './braintree-sdk-creator';\n\nexport default function createBraintreePaymentProcessor(scriptLoader: ScriptLoader) {\n    const braintreeScriptLoader = new BraintreeScriptLoader(scriptLoader);\n    const braintreeSDKCreator = new BraintreeSDKCreator(braintreeScriptLoader);\n\n    return new BraintreePaymentProcessor(braintreeSDKCreator);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/create-braintree-payment-processor.ts","import { createRequestSender } from '@bigcommerce/request-sender';\nimport { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport BraintreeScriptLoader from './braintree-script-loader';\nimport BraintreeSDKCreator from './braintree-sdk-creator';\nimport BraintreeVisaCheckoutPaymentProcessor from './braintree-visacheckout-payment-processor';\n\nexport default function createBraintreeVisaCheckoutPaymentProcessor(scriptLoader: ScriptLoader) {\n    const braintreeScriptLoader = new BraintreeScriptLoader(scriptLoader);\n    const braintreeSDKCreator = new BraintreeSDKCreator(braintreeScriptLoader);\n    const requestSender = createRequestSender();\n\n    return new BraintreeVisaCheckoutPaymentProcessor(braintreeSDKCreator, requestSender);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/create-braintree-visacheckout-payment-processor.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { StandardError } from '../../../common/error/errors';\n\nimport { VisaCheckoutHostWindow, VisaCheckoutSDK } from './visacheckout';\n\nexport default class VisaCheckoutScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader,\n        private _window: VisaCheckoutHostWindow = window\n    ) {}\n\n    load(testMode?: boolean): Promise<VisaCheckoutSDK> {\n        return this._scriptLoader\n            .loadScript(`//${testMode ? 'sandbox-' : ''}assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js`)\n            .then(() => {\n                if (!this._window.V) {\n                    throw new StandardError();\n                }\n\n                return this._window.V;\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/visacheckout-script-loader.ts","import {\n    PaymentActionCreator,\n    PaymentInitializeOptions,\n    PaymentMethod,\n    PaymentMethodActionCreator,\n    PaymentRequestOptions,\n    PaymentStrategyActionCreator,\n} from '../..';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../../checkout';\nimport { InvalidArgumentError, MissingDataError, StandardError } from '../../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../../order';\nimport { QuoteActionCreator } from '../../../quote';\nimport PaymentStrategy from '../payment-strategy';\n\nimport { BraintreeVisaCheckoutPaymentProcessor, VisaCheckoutScriptLoader } from '.';\nimport { VisaCheckoutPaymentSuccessPayload } from './visacheckout';\n\nexport default class BraintreeVisaCheckoutPaymentStrategy extends PaymentStrategy {\n    private _paymentMethod?: PaymentMethod;\n\n    constructor(\n        store: CheckoutStore,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _paymentStrategyActionCreator: PaymentStrategyActionCreator,\n        private _quoteActionCreator: QuoteActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _orderActionCreator: OrderActionCreator,\n        private _braintreeVisaCheckoutPaymentProcessor: BraintreeVisaCheckoutPaymentProcessor,\n        private _visaCheckoutScriptLoader: VisaCheckoutScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const { braintreevisacheckout: visaCheckoutOptions, methodId } = options;\n\n        if (!visaCheckoutOptions) {\n            throw new InvalidArgumentError('Unable to initialize payment because \"options.braintreevisacheckout\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                const cart = state.cart.getCart();\n                const storeConfig = state.config.getStoreConfig();\n\n                if (!cart || !storeConfig || !this._paymentMethod || !this._paymentMethod.clientToken) {\n                    throw new MissingDataError(`Unable to prepare payment data because \"cart\", \"config\" or \"paymentMethod (Visa Checkout)\" data is missing.`);\n                }\n\n                const {\n                    onError = () => {},\n                    onPaymentSelect = () => {},\n                } = visaCheckoutOptions;\n\n                const initOptions = {\n                    locale: storeConfig.storeProfile.storeLanguage,\n                    collectShipping: false,\n                    subtotal: cart.subtotal.amount,\n                    currencyCode: storeConfig.currency.code,\n                };\n\n                return Promise.all([\n                    this._visaCheckoutScriptLoader.load(this._paymentMethod.config.testMode),\n                    this._braintreeVisaCheckoutPaymentProcessor.initialize(this._paymentMethod.clientToken, initOptions),\n                ])\n                .then(([visaCheckout, visaInitOptions]) => {\n                    visaCheckout.init(visaInitOptions);\n                    visaCheckout.on('payment.success', (paymentSuccessPayload: VisaCheckoutPaymentSuccessPayload) =>\n                        this._paymentInstrumentSelected(paymentSuccessPayload)\n                            .then(() => onPaymentSelect())\n                            .catch(error => onError(error))\n                    );\n                    visaCheckout.on('payment.error', (payment, error) => onError(error));\n                });\n            })\n            .then(() => super.initialize(options));\n    }\n\n    execute(orderRequest: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = orderRequest;\n\n        if (!payment) {\n            throw new InvalidArgumentError('Unable to submit payment because \"payload.payment\" argument is not provided.');\n        }\n\n        if (!this._paymentMethod || !this._paymentMethod.initializationData || !this._paymentMethod.initializationData.nonce) {\n            throw new MissingDataError(`Unable to prepare payment data because \"paymentMethod (${payment.methodId})\" data is missing.`);\n        }\n\n        const { nonce } = this._paymentMethod.initializationData;\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment({ ...payment, paymentData: { nonce } }))\n            )\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._braintreeVisaCheckoutPaymentProcessor.deinitialize()\n            .then(() => super.deinitialize(options));\n    }\n\n    private _paymentInstrumentSelected(paymentSuccessPayload: VisaCheckoutPaymentSuccessPayload) {\n        const state = this._store.getState();\n\n        if (!this._paymentMethod) {\n            throw new Error('Payment method not initialized');\n        }\n\n        const { id: methodId } = this._paymentMethod;\n\n        return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction(() => {\n            return this._braintreeVisaCheckoutPaymentProcessor.handleSuccess(\n                paymentSuccessPayload,\n                state.shippingAddress.getShippingAddress(),\n                state.billingAddress.getBillingAddress()\n            )\n            .then(() => Promise.all([\n                this._store.dispatch(this._quoteActionCreator.loadQuote()),\n                this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId)),\n            ]));\n        }, { methodId }), { queueId: 'widgetInteraction' });\n    }\n\n    private _handleError(error: Error): never {\n        if (error.name === 'BraintreeError') {\n            throw new StandardError(error.message);\n        }\n\n        throw error;\n    }\n}\n\nexport interface BraintreeVisaCheckoutPaymentInitializeOptions {\n    onError?(error: Error): void;\n    onPaymentSelect?(): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-visacheckout-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../../checkout';\nimport {\n    InvalidArgumentError,\n    MissingDataError,\n    NotInitializedError,\n    StandardError,\n    TimeoutError,\n    UnsupportedBrowserError,\n} from '../../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../../order';\nimport { NonceInstrument } from '../../payment';\nimport PaymentActionCreator from '../../payment-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../../payment-request-options';\nimport PaymentStrategy from '../payment-strategy';\n\nimport SquarePaymentForm, { SquareFormElement, SquareFormOptions } from './square-form';\nimport SquareScriptLoader from './square-script-loader';\n\nexport default class SquarePaymentStrategy extends PaymentStrategy {\n    private _paymentForm?: SquarePaymentForm;\n    private _deferredRequestNonce?: DeferredPromise;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _scriptLoader: SquareScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        return this._scriptLoader.load()\n            .then(createSquareForm =>\n                new Promise((resolve, reject) => {\n                    this._paymentForm = createSquareForm(\n                        this._getFormOptions(options, { resolve, reject })\n                    );\n\n                    this._paymentForm.build();\n                }))\n            .then(() => super.initialize(options));\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = payload;\n\n        if (!payment || !payment.methodId) {\n            throw new MissingDataError('Unable to submit payment because \"payload.payment.methodId\" argument is not provided.');\n        }\n\n        const paymentName = payment.methodId;\n\n        return new Promise<NonceInstrument>((resolve, reject) => {\n            if (!this._paymentForm) {\n                throw new NotInitializedError('Unable to submit payment because the choosen payment method has not been initialized.');\n            }\n\n            if (this._deferredRequestNonce) {\n                this._deferredRequestNonce.reject(new TimeoutError());\n            }\n\n            this._deferredRequestNonce = { resolve, reject };\n            this._paymentForm.requestCardNonce();\n        })\n        .then(paymentData => {\n            const paymentPayload = {\n                methodId: paymentName,\n                paymentData,\n            };\n\n            return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n                .then(() =>\n                    this._store.dispatch(this._paymentActionCreator.submitPayment(paymentPayload))\n                );\n        });\n    }\n\n    private _getFormOptions(options: PaymentInitializeOptions, deferred: DeferredPromise): SquareFormOptions {\n        const { square: squareOptions, methodId } = options;\n        const state = this._store.getState();\n        const paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n        if (!squareOptions || !paymentMethod) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.square\" argument is not provided.');\n        }\n\n        return {\n            ...squareOptions,\n            ...paymentMethod.initializationData,\n            callbacks: {\n                paymentFormLoaded: () => {\n                    deferred.resolve();\n\n                    const state = this._store.getState();\n                    const billingAddress = state.billingAddress.getBillingAddress();\n\n                    if (!this._paymentForm) {\n                        throw new NotInitializedError();\n                    }\n\n                    if (billingAddress && billingAddress.postCode) {\n                        this._paymentForm.setPostalCode(billingAddress.postCode);\n                    }\n                },\n                unsupportedBrowserDetected: () => {\n                    deferred.reject(new UnsupportedBrowserError());\n                },\n                cardNonceResponseReceived: (errors, nonce) => {\n                    this._cardNonceResponseReceived(errors, nonce);\n                },\n            },\n        };\n    }\n\n    private _cardNonceResponseReceived(errors: any, nonce: string): void {\n        if (!this._deferredRequestNonce) {\n            throw new StandardError();\n        }\n\n        if (errors) {\n            this._deferredRequestNonce.reject(errors);\n        } else {\n            this._deferredRequestNonce.resolve({ nonce });\n        }\n    }\n}\n\nexport interface DeferredPromise {\n    resolve(resolution?: NonceInstrument): void;\n    reject(reason?: any): void;\n}\n\nexport interface SquarePaymentInitializeOptions {\n    cardNumber: SquareFormElement;\n    cvv: SquareFormElement;\n    expirationDate: SquareFormElement;\n    postalCode: SquareFormElement;\n    inputClass?: string;\n    inputStyles?: Array<{ [key: string]: string }>;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/square/square-payment-strategy.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { SquareFormFactory, SquareFormOptions } from './square-form';\nimport SquareWindow from './square-window';\n\nexport default class SquareScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {}\n\n    load(): Promise<SquareFormFactory> {\n        const scriptURI = '//js.squareup.com/v2/paymentform';\n\n        return this._scriptLoader.loadScript(scriptURI)\n            .then(() => (options: SquareFormOptions) =>\n                new (window as SquareWindow).SqPaymentForm(options)\n            );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/square/square-script-loader.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { mergeOrPush } from '../common/utility';\n\nimport PaymentMethod from './payment-method';\nimport * as actionTypes from './payment-method-action-types';\nimport PaymentMethodState, { PaymentMethodErrorsState, PaymentMethodStatusesState } from './payment-method-state';\n\nconst DEFAULT_STATE: PaymentMethodState = {\n    errors: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function paymentMethodReducer(state: PaymentMethodState = DEFAULT_STATE, action: Action): PaymentMethodState {\n    const reducer = combineReducers<PaymentMethodState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: PaymentMethod[] | undefined, action: Action): PaymentMethod[] | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_PAYMENT_METHOD_SUCCEEDED:\n        return mergeOrPush(data || [], action.payload.paymentMethod, {\n            id: action.payload.paymentMethod.id,\n            gateway: action.payload.paymentMethod.gateway,\n        } as any);\n\n    case actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED:\n        return action.payload.paymentMethods || [];\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: PaymentMethodErrorsState = DEFAULT_STATE.errors, action: Action): PaymentMethodErrorsState {\n    switch (action.type) {\n    case actionTypes.LOAD_PAYMENT_METHODS_REQUESTED:\n    case actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case actionTypes.LOAD_PAYMENT_METHODS_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    case actionTypes.LOAD_PAYMENT_METHOD_REQUESTED:\n    case actionTypes.LOAD_PAYMENT_METHOD_SUCCEEDED:\n        return {\n            ...errors,\n            loadMethodId: undefined,\n            loadMethodError: undefined,\n        };\n\n    case actionTypes.LOAD_PAYMENT_METHOD_FAILED:\n        return {\n            ...errors,\n            loadMethodId: action.meta.methodId,\n            loadMethodError: action.payload,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: PaymentMethodStatusesState = DEFAULT_STATE.statuses, action: Action): PaymentMethodStatusesState {\n    switch (action.type) {\n    case actionTypes.LOAD_PAYMENT_METHODS_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED:\n    case actionTypes.LOAD_PAYMENT_METHODS_FAILED:\n        return { ...statuses, isLoading: false };\n\n    case actionTypes.LOAD_PAYMENT_METHOD_REQUESTED:\n        return {\n            ...statuses,\n            isLoadingMethod: true,\n            loadMethodId: action.meta.methodId,\n        };\n\n    case actionTypes.LOAD_PAYMENT_METHOD_SUCCEEDED:\n    case actionTypes.LOAD_PAYMENT_METHOD_FAILED:\n        return {\n            ...statuses,\n            isLoadingMethod: false,\n            loadMethodId: undefined,\n        };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport { PaymentMethodsResponseBody, PaymentMethodResponseBody } from './payment-method-responses';\n\nexport default class PaymentMethodRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadPaymentMethods({ timeout }: RequestOptions = {}): Promise<Response<PaymentMethodsResponseBody>> {\n        const url = '/internalapi/v1/checkout/payments';\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    loadPaymentMethod(methodId: string, { timeout }: RequestOptions = {}): Promise<Response<PaymentMethodResponseBody>> {\n        const url = `/internalapi/v1/checkout/payments/${methodId}`;\n\n        return this._requestSender.get(url, { timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-request-sender.ts","import { find } from 'lodash';\n\nimport { selector } from '../common/selector';\nimport { OrderState } from '../order';\n\nimport PaymentMethod from './payment-method';\nimport PaymentMethodState from './payment-method-state';\n\n@selector\nexport default class PaymentMethodSelector {\n    constructor(\n        private _paymentMethods: PaymentMethodState,\n        private _order: OrderState\n    ) {}\n\n    getPaymentMethods(): PaymentMethod[] | undefined {\n        return this._paymentMethods.data;\n    }\n\n    getPaymentMethod(methodId: string, gatewayId?: string): PaymentMethod | undefined {\n        return gatewayId ?\n            find(this._paymentMethods.data, { id: methodId, gateway: gatewayId }) :\n            find(this._paymentMethods.data, { id: methodId });\n    }\n\n    getSelectedPaymentMethod(): PaymentMethod | undefined {\n        if (!this._order.data || !this._order.data.payment || !this._order.data.payment.id) {\n            return;\n        }\n\n        return this.getPaymentMethod(\n            this._order.data.payment.id,\n            this._order.data.payment.gateway\n        );\n    }\n\n    getLoadError(): Error | undefined {\n        return this._paymentMethods.errors && this._paymentMethods.errors.loadError;\n    }\n\n    getLoadMethodError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentMethods.errors.loadMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentMethods.errors.loadMethodError;\n    }\n\n    isLoading(): boolean {\n        return !!this._paymentMethods.statuses.isLoading;\n    }\n\n    isLoadingMethod(methodId?: string): boolean {\n        if (methodId && this._paymentMethods.statuses.loadMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentMethods.statuses.isLoadingMethod;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport * as actionTypes from './payment-action-types';\nimport PaymentResponseBody from './payment-response-body';\nimport PaymentState from './payment-state';\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function paymentReducer(state: PaymentState = {}, action: Action): PaymentState {\n    const reducer = combineReducers<PaymentState>({\n        data: dataReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: PaymentResponseBody | undefined, action: Action): PaymentResponseBody | undefined {\n    switch (action.type) {\n    case actionTypes.SUBMIT_PAYMENT_SUCCEEDED:\n        return action.payload;\n\n    default:\n        return data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-reducer.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { MissingDataError } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\nimport { OrderRequestBody } from '../order';\nimport { OrderFinalizationNotRequiredError } from '../order/errors';\n\nimport Payment from './payment';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from './payment-request-options';\nimport {\n    PaymentStrategyActionType,\n    PaymentStrategyDeinitializeAction,\n    PaymentStrategyExecuteAction,\n    PaymentStrategyFinalizeAction,\n    PaymentStrategyInitializeAction,\n    PaymentStrategyWidgetAction,\n} from './payment-strategy-actions';\nimport PaymentStrategyRegistry from './payment-strategy-registry';\nimport { PaymentStrategy } from './strategies';\n\nexport default class PaymentStrategyActionCreator {\n    constructor(\n        private _strategyRegistry: PaymentStrategyRegistry\n    ) {}\n\n    execute(payload: OrderRequestBody, options?: RequestOptions): ThunkAction<PaymentStrategyExecuteAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<PaymentStrategyExecuteAction>) => {\n            const state = store.getState();\n            const { payment = {} as Payment, useStoreCredit } = payload;\n            const meta = { methodId: payment.methodId };\n\n            let strategy: PaymentStrategy;\n\n            if (state.order.isPaymentDataRequired(useStoreCredit)) {\n                const method = state.paymentMethods.getPaymentMethod(payment.methodId, payment.gatewayId);\n\n                if (!method) {\n                    throw new MissingDataError(`Unable to submit payment because \"paymentMethod (${payment.methodId})\" data is missing.`);\n                }\n\n                strategy = this._strategyRegistry.getByMethod(method);\n            } else {\n                strategy = this._strategyRegistry.get('nopaymentdatarequired');\n            }\n\n            observer.next(createAction(PaymentStrategyActionType.ExecuteRequested, undefined, meta));\n\n            strategy\n                .execute(payload, { ...options, methodId: payment.methodId, gatewayId: payment.gatewayId })\n                .then(() => {\n                    observer.next(createAction(PaymentStrategyActionType.ExecuteSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(PaymentStrategyActionType.ExecuteFailed, error, meta));\n                });\n        });\n    }\n\n    finalize(options?: RequestOptions): ThunkAction<PaymentStrategyFinalizeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<PaymentStrategyFinalizeAction>) => {\n            const state = store.getState();\n            const order = state.order.getOrder();\n\n            if (!order) {\n                throw new MissingDataError('Unable to finalize order because \"order\" data is missing.');\n            }\n\n            if (!order.payment || !order.payment.id) {\n                throw new OrderFinalizationNotRequiredError();\n            }\n\n            const method = state.paymentMethods.getPaymentMethod(order.payment.id, order.payment.gateway);\n            const meta = { methodId: order.payment.id };\n\n            if (!method) {\n                throw new MissingDataError(`Unable to finalize payment because \"paymentMethod (${order.payment.id})\" data is missing.`);\n            }\n\n            observer.next(createAction(PaymentStrategyActionType.FinalizeRequested, undefined, meta));\n\n            this._strategyRegistry.getByMethod(method)\n                .finalize({ ...options, methodId: method.id, gatewayId: method.gateway })\n                .then(() => {\n                    observer.next(createAction(PaymentStrategyActionType.FinalizeSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(PaymentStrategyActionType.FinalizeFailed, error, meta));\n                });\n        });\n    }\n\n    initialize(options: PaymentInitializeOptions): ThunkAction<PaymentStrategyInitializeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<PaymentStrategyInitializeAction>) => {\n            const state = store.getState();\n            const { methodId, gatewayId } = options;\n            const method = state.paymentMethods.getPaymentMethod(methodId, gatewayId);\n\n            if (!method) {\n                throw new MissingDataError(`Unable to initialize because \"paymentMethod (${methodId})\" data is missing.`);\n            }\n\n            observer.next(createAction(PaymentStrategyActionType.InitializeRequested, undefined, { methodId }));\n\n            this._strategyRegistry.getByMethod(method)\n                .initialize({ ...options, methodId, gatewayId })\n                .then(() => {\n                    observer.next(createAction(PaymentStrategyActionType.InitializeSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(PaymentStrategyActionType.InitializeFailed, error, { methodId }));\n                });\n        });\n    }\n\n    deinitialize(options: PaymentRequestOptions): ThunkAction<PaymentStrategyDeinitializeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<PaymentStrategyDeinitializeAction>) => {\n            const state = store.getState();\n            const { methodId, gatewayId } = options;\n            const method = state.paymentMethods.getPaymentMethod(methodId, gatewayId);\n\n            if (!method) {\n                throw new MissingDataError(`Unable to deinitialize because \"paymentMethod (${methodId})\" data is missing.`);\n            }\n\n            observer.next(createAction(PaymentStrategyActionType.DeinitializeRequested, undefined, { methodId }));\n\n            this._strategyRegistry.getByMethod(method)\n                .deinitialize({ ...options, methodId, gatewayId })\n                .then(() => {\n                    observer.next(createAction(PaymentStrategyActionType.DeinitializeSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(PaymentStrategyActionType.DeinitializeFailed, error, { methodId }));\n                });\n        });\n    }\n\n    widgetInteraction(method: () => Promise<any>, options?: PaymentRequestOptions): ThunkAction<PaymentStrategyWidgetAction> {\n        return store => Observable.create((observer: Observer<PaymentStrategyWidgetAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(PaymentStrategyActionType.WidgetInteractionStarted, undefined, meta));\n\n            method().then(() => {\n                observer.next(createAction(PaymentStrategyActionType.WidgetInteractionFinished, undefined, meta));\n                observer.complete();\n            })\n            .catch(error => {\n                observer.error(createErrorAction(PaymentStrategyActionType.WidgetInteractionFailed, error, meta));\n            });\n        });\n    }}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-action-creator.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { PaymentStrategyAction, PaymentStrategyActionType } from './payment-strategy-actions';\nimport PaymentStrategyState, { DEFAULT_STATE, PaymentStrategyErrorsState, PaymentStrategyStatusesState } from './payment-strategy-state';\n\nexport default function paymentStrategyReducer(\n    state: PaymentStrategyState = DEFAULT_STATE,\n    action: PaymentStrategyAction\n): PaymentStrategyState {\n    const reducer = combineReducers<PaymentStrategyState, PaymentStrategyAction>({\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction errorsReducer(\n    errors: PaymentStrategyErrorsState = DEFAULT_STATE.errors,\n    action: PaymentStrategyAction\n): PaymentStrategyErrorsState {\n    switch (action.type) {\n    case PaymentStrategyActionType.InitializeRequested:\n    case PaymentStrategyActionType.InitializeSucceeded:\n        return {\n            ...errors,\n            initializeError: undefined,\n            initializeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.InitializeFailed:\n        return {\n            ...errors,\n            initializeError: action.payload,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.DeinitializeRequested:\n    case PaymentStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...errors,\n            deinitializeError: undefined,\n            deinitializeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.DeinitializeFailed:\n        return {\n            ...errors,\n            deinitializeError: action.payload,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.ExecuteRequested:\n    case PaymentStrategyActionType.ExecuteSucceeded:\n        return {\n            ...errors,\n            executeError: undefined,\n            executeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.ExecuteFailed:\n        return {\n            ...errors,\n            executeError: action.payload,\n            executeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.FinalizeRequested:\n    case PaymentStrategyActionType.FinalizeSucceeded:\n        return {\n            ...errors,\n            finalizeError: undefined,\n            finalizeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.FinalizeFailed:\n        return {\n            ...errors,\n            finalizeError: action.payload,\n            finalizeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.WidgetInteractionStarted:\n    case PaymentStrategyActionType.WidgetInteractionFinished:\n        return {\n            ...errors,\n            widgetInteractionError: undefined,\n            widgetInteractionMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.WidgetInteractionFailed:\n        return {\n            ...errors,\n            widgetInteractionError: action.payload,\n            widgetInteractionMethodId: action.meta.methodId,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: PaymentStrategyStatusesState = DEFAULT_STATE.statuses,\n    action: PaymentStrategyAction\n): PaymentStrategyStatusesState {\n    switch (action.type) {\n    case PaymentStrategyActionType.InitializeRequested:\n        return {\n            ...statuses,\n            isInitializing: true,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.InitializeFailed:\n    case PaymentStrategyActionType.InitializeSucceeded:\n        return {\n            ...statuses,\n            isInitializing: false,\n            initializeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.DeinitializeRequested:\n        return {\n            ...statuses,\n            isDeinitializing: true,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.DeinitializeFailed:\n    case PaymentStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...statuses,\n            isDeinitializing: false,\n            deinitializeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.ExecuteRequested:\n        return {\n            ...statuses,\n            isExecuting: true,\n            executeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.ExecuteFailed:\n    case PaymentStrategyActionType.ExecuteSucceeded:\n        return {\n            ...statuses,\n            isExecuting: false,\n            executeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.FinalizeRequested:\n        return {\n            ...statuses,\n            isFinalizing: true,\n            finalizeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.FinalizeFailed:\n    case PaymentStrategyActionType.FinalizeSucceeded:\n        return {\n            ...statuses,\n            isFinalizing: false,\n            finalizeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.WidgetInteractionStarted:\n    return {\n        ...statuses,\n        isWidgetInteracting: true,\n        widgetInteractionMethodId: action.meta.methodId,\n     };\n\n    case PaymentStrategyActionType.WidgetInteractionFinished:\n    case PaymentStrategyActionType.WidgetInteractionFailed:\n     return {\n        ...statuses,\n        isWidgetInteracting: false,\n        widgetInteractionMethodId: undefined,\n     };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-reducer.ts","import { selector } from '../common/selector';\n\nimport PaymentStrategyState, { DEFAULT_STATE } from './payment-strategy-state';\n\n@selector\nexport default class PaymentStrategySelector {\n    constructor(\n        private _paymentStrategies: PaymentStrategyState = DEFAULT_STATE\n    ) {}\n\n    getInitializeError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentStrategies.errors.initializeMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentStrategies.errors.initializeError;\n    }\n\n    getExecuteError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentStrategies.errors.executeMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentStrategies.errors.executeError;\n    }\n\n    getFinalizeError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentStrategies.errors.finalizeMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentStrategies.errors.finalizeError;\n    }\n\n    getWidgetInteractingError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentStrategies.errors.widgetInteractionMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentStrategies.errors.widgetInteractionError;\n    }\n\n    isInitializing(methodId?: string): boolean {\n        if (methodId && this._paymentStrategies.statuses.initializeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentStrategies.statuses.isInitializing;\n    }\n\n    isExecuting(methodId?: string): boolean {\n        if (methodId && this._paymentStrategies.statuses.executeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentStrategies.statuses.isExecuting;\n    }\n\n    isFinalizing(methodId?: string): boolean {\n        if (methodId && this._paymentStrategies.statuses.finalizeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentStrategies.statuses.isFinalizing;\n    }\n\n    isWidgetInteracting(methodId?: string): boolean {\n        if (methodId && this._paymentStrategies.statuses.widgetInteractionMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentStrategies.statuses.isWidgetInteracting;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-selector.ts","export { default as AmazonPayCustomerStrategy, AmazonPayCustomerInitializeOptions } from './amazon-pay-customer-strategy';\nexport { default as CustomerStrategy } from './customer-strategy';\nexport { default as DefaultCustomerStrategy } from './default-customer-strategy';\nexport { default as BraintreeVisaCheckoutCustomerStrategy, BraintreeVisaCheckoutCustomerInitializeOptions } from './braintree-visacheckout-customer-strategy';\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/index.ts","import { CheckoutStore, InternalCheckoutSelectors} from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, NotImplementedError, NotInitializedError, StandardError } from '../../common/error/errors';\nimport { PaymentMethod, PaymentMethodActionCreator } from '../../payment';\nimport { RemoteCheckoutActionCreator, RemoteCheckoutRequestSender } from '../../remote-checkout';\nimport { AmazonPayLoginButton, AmazonPayScriptLoader, AmazonPayWidgetError, AmazonPayWindow } from '../../remote-checkout/methods/amazon-pay';\nimport CustomerCredentials from '../customer-credentials';\nimport { CustomerInitializeOptions, CustomerRequestOptions } from '../customer-request-options';\n\nimport CustomerStrategy from './customer-strategy';\n\nexport default class AmazonPayCustomerStrategy extends CustomerStrategy {\n    private _paymentMethod?: PaymentMethod;\n    private _window: AmazonPayWindow;\n\n    constructor(\n        store: CheckoutStore,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _remoteCheckoutRequestSender: RemoteCheckoutRequestSender,\n        private _scriptLoader: AmazonPayScriptLoader\n    ) {\n        super(store);\n\n        this._window = window;\n    }\n\n    initialize(options: CustomerInitializeOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        const { amazon: amazonOptions, methodId } = options;\n\n        if (!amazonOptions || !methodId) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.amazon\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => new Promise((resolve, reject) => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                if (!this._paymentMethod) {\n                    throw new MissingDataError(`Unable to initialize because \"paymentMethod (${methodId})\" data is missing.`);\n                }\n\n                const { onError = () => {} } = amazonOptions;\n                const onReady = () => {\n                    this._createSignInButton({\n                        ...amazonOptions,\n                        onError: error => {\n                            reject(error);\n                            onError(error);\n                        },\n                    });\n\n                    resolve();\n                };\n\n                this._scriptLoader.loadWidget(this._paymentMethod, onReady)\n                    .catch(reject);\n            }))\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        this._paymentMethod = undefined;\n\n        return super.deinitialize(options);\n    }\n\n    signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        throw new NotImplementedError(\n            'In order to sign in via AmazonPay, the shopper must click on \"Login with Amazon\" button.'\n        );\n    }\n\n    signOut(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { customer } = this._store.getState();\n        const { remote = { provider: undefined } } = customer.getCustomer() || {};\n\n        if (!remote.provider) {\n            return Promise.resolve(this._store.getState());\n        }\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.signOut(remote.provider, options)\n        );\n    }\n\n    private _createSignInButton(options: AmazonPayCustomerInitializeOptions): AmazonPayLoginButton {\n        if (!this._paymentMethod || !this._paymentMethod.config.merchantId || !this._window.OffAmazonPayments) {\n            throw new MissingDataError('Unable to create sign-in button because \"paymentMethod.config.merchantId\" field is missing.');\n        }\n\n        const { initializationData } = this._paymentMethod;\n\n        return new this._window.OffAmazonPayments.Button(options.container, this._paymentMethod.config.merchantId, {\n            color: options.color || 'Gold',\n            size: options.size || 'small',\n            type: 'PwA',\n            useAmazonAddressBook: true,\n            onError: options.onError,\n            authorization: () => {\n                this._handleAuthorization(initializationData);\n            },\n        });\n    }\n\n    private _handleAuthorization(options: AuthorizationOptions): void {\n        this._remoteCheckoutRequestSender.generateToken()\n            .then(({ body }) => {\n                if (!this._window.amazon) {\n                    throw new NotInitializedError();\n                }\n\n                this._window.amazon.Login.authorize({\n                    popup: false,\n                    scope: 'payments:shipping_address payments:billing_address payments:widget profile',\n                    state: `${options.tokenPrefix}${body.token}`,\n                }, options.redirectUrl);\n\n                this._remoteCheckoutRequestSender.trackAuthorizationEvent();\n            });\n    }\n}\n\nexport interface AmazonPayCustomerInitializeOptions {\n    container: string;\n    color?: string;\n    size?: string;\n    onError?(error: AmazonPayWidgetError | StandardError): void;\n}\n\ninterface AuthorizationOptions {\n    redirectUrl: string;\n    tokenPrefix: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/amazon-pay-customer-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport CustomerActionCreator from '../customer-action-creator';\nimport CustomerCredentials from '../customer-credentials';\nimport { CustomerRequestOptions } from '../customer-request-options';\n\nimport CustomerStrategy from './customer-strategy';\n\nexport default class DefaultCustomerStrategy extends CustomerStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _customerActionCreator: CustomerActionCreator\n    ) {\n        super(store);\n    }\n\n    signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._customerActionCreator.signInCustomer(credentials, options)\n        );\n    }\n\n    signOut(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._customerActionCreator.signOutCustomer(options)\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/default-customer-strategy.ts","import { CustomerStrategyActionCreator } from '..';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, NotImplementedError } from '../../common/error/errors';\nimport { PaymentMethod, PaymentMethodActionCreator } from '../../payment';\nimport { BraintreeVisaCheckoutPaymentProcessor } from '../../payment/strategies/braintree';\nimport { VisaCheckoutPaymentSuccessPayload } from '../../payment/strategies/braintree/visacheckout';\nimport VisaCheckoutScriptLoader from '../../payment/strategies/braintree/visacheckout-script-loader';\nimport { QuoteActionCreator } from '../../quote';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport CustomerCredentials from '../customer-credentials';\nimport { CustomerInitializeOptions } from '../customer-request-options';\n\nimport CustomerStrategy from './customer-strategy';\n\nexport default class BraintreeVisaCheckoutCustomerStrategy extends CustomerStrategy {\n    private _paymentMethod?: PaymentMethod;\n    private _buttonClassName: string = 'visa-checkout-wrapper';\n\n    constructor(\n        store: CheckoutStore,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _customerStrategyActionCreator: CustomerStrategyActionCreator,\n        private _quoteActionCreator: QuoteActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _braintreeVisaCheckoutPaymentProcessor: BraintreeVisaCheckoutPaymentProcessor,\n        private _visaCheckoutScriptLoader: VisaCheckoutScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: CustomerInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const { braintreevisacheckout: visaCheckoutOptions, methodId } = options;\n\n        if (!visaCheckoutOptions || !methodId) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.braintreevisacheckout\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                const cart = state.cart.getCart();\n                const storeConfig = state.config.getStoreConfig();\n\n                if (!cart || !storeConfig || !this._paymentMethod || !this._paymentMethod.clientToken) {\n                    throw new MissingDataError('Unable to prepare payment data because \"cart\", \"config\" or \"paymentMethod (Visa Checkout)\" data is missing.');\n                }\n\n                const {\n                    container,\n                    onError = () => {},\n                } = visaCheckoutOptions;\n\n                const initOptions = {\n                    locale: storeConfig.storeProfile.storeLanguage,\n                    collectShipping: true,\n                    subtotal: cart.subtotal.amount,\n                    currencyCode: storeConfig.currency.code,\n                };\n\n                return Promise.all([\n                    this._visaCheckoutScriptLoader.load(this._paymentMethod.config.testMode),\n                    this._braintreeVisaCheckoutPaymentProcessor.initialize(this._paymentMethod.clientToken, initOptions),\n                ])\n                .then(([visaCheckout, initOptions]) => {\n                    const signInButton = this._createSignInButton(container, this._buttonClassName);\n\n                    visaCheckout.init(initOptions);\n                    visaCheckout.on('payment.success', (paymentSuccessPayload: VisaCheckoutPaymentSuccessPayload) =>\n                        this._paymentInstrumentSelected(paymentSuccessPayload)\n                            .catch(error => onError(error))\n                    );\n                    visaCheckout.on('payment.error', (payment, error) => onError(error));\n\n                    return signInButton;\n                })\n                .then(signInButton => { signInButton.style.visibility = 'visible'; });\n            })\n            .then(() => super.initialize(options));\n    }\n\n    signIn(credentials: CustomerCredentials, options?: any): Promise<InternalCheckoutSelectors> {\n        throw new NotImplementedError(\n            'In order to sign in via VisaCheckout, the shopper must click on \"Visa Checkout\" button.'\n        );\n    }\n\n    signOut(options?: any): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const { remote = { provider: undefined } } = state.customer.getCustomer() || {};\n\n        if (!remote.provider) {\n            return Promise.resolve(this._store.getState());\n        }\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.signOut(remote.provider, options)\n        );\n    }\n\n    deinitialize(options?: any): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        this._paymentMethod = undefined;\n\n        return this._braintreeVisaCheckoutPaymentProcessor.deinitialize()\n            .then(() => super.deinitialize(options));\n    }\n\n    private _paymentInstrumentSelected(paymentSuccessPayload: VisaCheckoutPaymentSuccessPayload) {\n        const state = this._store.getState();\n\n        if (!this._paymentMethod) {\n            throw new Error('Payment method not initialized');\n        }\n\n        const { id: methodId } = this._paymentMethod;\n\n        return this._store.dispatch(\n            this._customerStrategyActionCreator.widgetInteraction(() => {\n                return this._braintreeVisaCheckoutPaymentProcessor.handleSuccess(\n                    paymentSuccessPayload,\n                    state.shippingAddress.getShippingAddress(),\n                    state.billingAddress.getBillingAddress()\n                )\n                .then(() => this._store.dispatch(this._quoteActionCreator.loadQuote()));\n        }, { methodId }), { queueId: 'widgetInteraction' });\n    }\n\n    private _createSignInButton(containerId: string, buttonClass: string): HTMLElement {\n        const container = document.querySelector(`#${containerId}`);\n\n        if (!container) {\n            throw new Error('Need a container to place the button');\n        }\n\n        return (container.querySelector('.' + buttonClass) as HTMLElement) ||\n            this._insertVisaCheckoutButton(container, buttonClass);\n    }\n\n    private _insertVisaCheckoutButton(container: Element, buttonClass: string): HTMLElement {\n        const buttonSource = 'https://secure.checkout.visa.com/wallet-services-web/xo/button.png?acceptCanadianVisaDebit=false&cobrand=true&size=154';\n        const buttonTemplate = `\n            <img\n                alt=\"Visa Checkout\"\n                class=\"v-button\"\n                role=\"button\"\n                src=\"${buttonSource}\"\n                />\n            <a class=\"v-learn v-learn-default\" style=\"text-align: right; display: block; font-size: 10px; color: #003366;\" href=\"#\" data-locale=\"en_US\">Tell Me More</a>`;\n\n        const visaCheckoutButton = document.createElement('div');\n        visaCheckoutButton.style.visibility = 'hidden';\n        visaCheckoutButton.className = buttonClass;\n        visaCheckoutButton.innerHTML = buttonTemplate;\n\n        container.appendChild(visaCheckoutButton);\n        return visaCheckoutButton;\n    }\n}\n\nexport interface BraintreeVisaCheckoutCustomerInitializeOptions {\n    container: string;\n    onError?(error: Error): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/braintree-visacheckout-customer-strategy.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { CheckoutActionType } from '../checkout';\nimport * as customerActionTypes from '../customer/customer-action-types';\nimport { OrderActionType } from '../order';\nimport * as quoteActionTypes from '../quote/quote-action-types';\n\nimport CustomerState from './customer-state';\nimport InternalCustomer from './internal-customer';\nimport mapToInternalCustomer from './map-to-internal-customer';\n\nconst DEFAULT_STATE: CustomerState = {};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function customerReducer(state: CustomerState = DEFAULT_STATE, action: Action): CustomerState {\n    const reducer = combineReducers<any>({\n        data: dataReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: InternalCustomer | undefined, action: Action): InternalCustomer | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return data ? { ...data, ...mapToInternalCustomer(action.payload, data) } : data;\n\n    case customerActionTypes.SIGN_IN_CUSTOMER_SUCCEEDED:\n    case customerActionTypes.SIGN_OUT_CUSTOMER_SUCCEEDED:\n    case OrderActionType.LoadOrderSucceeded:\n    case OrderActionType.FinalizeOrderSucceeded:\n    case OrderActionType.SubmitOrderSucceeded:\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n        return action.payload ? { ...data, ...action.payload.customer } : data;\n\n    default:\n        return data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport CustomerCredentials from './customer-credentials';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CustomerRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    signInCustomer(credentials: CustomerCredentials, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/customer';\n        const params = {\n            includes: ['cart', 'quote', 'shippingOptions'].join(','),\n        };\n\n        return this._requestSender.post(url, { params, timeout, body: credentials });\n    }\n\n    signOutCustomer({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/customer';\n        const params = {\n            includes: ['cart', 'quote', 'shippingOptions'].join(','),\n        };\n\n        return this._requestSender.delete(url, { params, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-request-sender.ts","import { selector } from '../common/selector';\n\nimport CustomerState from './customer-state';\nimport InternalCustomer from './internal-customer';\n\n@selector\nexport default class CustomerSelector {\n    constructor(\n        private _customer: CustomerState\n    ) {}\n\n    getCustomer(): InternalCustomer | undefined {\n        return this._customer.data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-selector.ts","import { createAction, createErrorAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { Registry } from '../common/registry';\n\nimport CustomerCredentials from './customer-credentials';\nimport { CustomerInitializeOptions, CustomerRequestOptions } from './customer-request-options';\nimport {\n    CustomerStrategyActionType,\n    CustomerStrategyDeinitializeAction,\n    CustomerStrategyInitializeAction,\n    CustomerStrategySignInAction,\n    CustomerStrategySignOutAction,\n    CustomerStrategyWidgetAction,\n} from './customer-strategy-actions';\nimport { CustomerStrategy } from './strategies';\n\nexport default class CustomerStrategyActionCreator {\n    constructor(\n        private _strategyRegistry: Registry<CustomerStrategy>\n    ) {}\n\n    signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Observable<CustomerStrategySignInAction> {\n        return Observable.create((observer: Observer<CustomerStrategySignInAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.SignInRequested, undefined, meta));\n\n            this._strategyRegistry.get(methodId)\n                .signIn(credentials, options)\n                .then(() => {\n                    observer.next(createAction(CustomerStrategyActionType.SignInSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(CustomerStrategyActionType.SignInFailed, error, meta));\n                });\n        });\n    }\n\n    signOut(options?: CustomerRequestOptions): Observable<CustomerStrategySignOutAction> {\n        return Observable.create((observer: Observer<CustomerStrategySignOutAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.SignOutRequested, undefined, meta));\n\n            this._strategyRegistry.get(methodId)\n                .signOut(options)\n                .then(() => {\n                    observer.next(createAction(CustomerStrategyActionType.SignOutSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(CustomerStrategyActionType.SignOutFailed, error, meta));\n                });\n        });\n    }\n\n    initialize(options?: CustomerInitializeOptions): Observable<CustomerStrategyInitializeAction> {\n        return Observable.create((observer: Observer<CustomerStrategyInitializeAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.InitializeRequested, undefined, meta));\n\n            this._strategyRegistry.get(methodId)\n                .initialize(options)\n                .then(() => {\n                    observer.next(createAction(CustomerStrategyActionType.InitializeSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(CustomerStrategyActionType.InitializeFailed, error, meta));\n                });\n        });\n    }\n\n    deinitialize(options?: CustomerRequestOptions): Observable<CustomerStrategyDeinitializeAction> {\n        return Observable.create((observer: Observer<CustomerStrategyDeinitializeAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.DeinitializeRequested, undefined, meta));\n\n            this._strategyRegistry.get(methodId)\n                .deinitialize(options)\n                .then(() => {\n                    observer.next(createAction(CustomerStrategyActionType.DeinitializeSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(CustomerStrategyActionType.DeinitializeFailed, error, meta));\n                });\n        });\n    }\n\n    widgetInteraction(method: () => Promise<any>, options?: CustomerRequestOptions): Observable<CustomerStrategyWidgetAction> {\n        return Observable.create((observer: Observer<CustomerStrategyWidgetAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.WidgetInteractionStarted, undefined, meta));\n\n            method().then(() => {\n                observer.next(createAction(CustomerStrategyActionType.WidgetInteractionFinished, undefined, meta));\n                observer.complete();\n            })\n            .catch(error => {\n                observer.error(createErrorAction(CustomerStrategyActionType.WidgetInteractionFailed, error, meta));\n            });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-action-creator.ts","import CustomerStrategyState from './customer-strategy-state';\n\nexport default class CustomerStrategySelector {\n    constructor(\n        private _customerStrategies: CustomerStrategyState\n    ) {}\n\n    getSignInError(methodId?: string): Error | undefined {\n        if (methodId && this._customerStrategies.errors.signInMethodId !== methodId) {\n            return;\n        }\n\n        return this._customerStrategies.errors.signInError;\n    }\n\n    getSignOutError(methodId?: string): Error | undefined {\n        if (methodId && this._customerStrategies.errors.signOutMethodId !== methodId) {\n            return;\n        }\n\n        return this._customerStrategies.errors.signOutError;\n    }\n\n    getInitializeError(methodId?: string): Error | undefined {\n        if (methodId && this._customerStrategies.errors.initializeMethodId !== methodId) {\n            return;\n        }\n\n        return this._customerStrategies.errors.initializeError;\n    }\n\n    getWidgetInteractionError(methodId?: string): Error | undefined {\n        if (methodId && this._customerStrategies.errors.widgetInteractionMethodId !== methodId) {\n            return;\n        }\n\n        return this._customerStrategies.errors.widgetInteractionError;\n    }\n\n    isSigningIn(methodId?: string): boolean {\n        if (methodId && this._customerStrategies.statuses.signInMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._customerStrategies.statuses.isSigningIn;\n    }\n\n    isSigningOut(methodId?: string): boolean {\n        if (methodId && this._customerStrategies.statuses.signOutMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._customerStrategies.statuses.isSigningOut;\n    }\n\n    isInitializing(methodId?: string): boolean {\n        if (methodId && this._customerStrategies.statuses.initializeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._customerStrategies.statuses.isInitializing;\n    }\n\n    isWidgetInteracting(methodId?: string): boolean {\n        if (methodId && this._customerStrategies.statuses.widgetInteractionMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._customerStrategies.statuses.isWidgetInteracting;\n    }}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { CustomerStrategyAction, CustomerStrategyActionType } from './customer-strategy-actions';\nimport CustomerStrategyState, { CustomerStrategyErrorsState, CustomerStrategyStatusesState, DEFAULT_STATE } from './customer-strategy-state';\n\nexport default function customerStrategyReducer(\n    state: CustomerStrategyState = DEFAULT_STATE,\n    action: CustomerStrategyAction\n): CustomerStrategyState {\n    const reducer = combineReducers<CustomerStrategyState, CustomerStrategyAction>({\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction errorsReducer(\n    errors: CustomerStrategyErrorsState = DEFAULT_STATE.errors,\n    action: CustomerStrategyAction\n): CustomerStrategyErrorsState {\n    switch (action.type) {\n    case CustomerStrategyActionType.InitializeRequested:\n    case CustomerStrategyActionType.InitializeSucceeded:\n        return {\n            ...errors,\n            initializeError: undefined,\n            initializeMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.InitializeFailed:\n        return {\n            ...errors,\n            initializeError: action.payload,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.DeinitializeRequested:\n    case CustomerStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...errors,\n            deinitializeError: undefined,\n            deinitializeMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.DeinitializeFailed:\n        return {\n            ...errors,\n            deinitializeError: action.payload,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.SignInRequested:\n    case CustomerStrategyActionType.SignInSucceeded:\n        return {\n            ...errors,\n            signInError: undefined,\n            signInMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.SignInFailed:\n        return {\n            ...errors,\n            signInError: action.payload,\n            signInMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.SignOutRequested:\n    case CustomerStrategyActionType.SignOutSucceeded:\n        return {\n            ...errors,\n            signOutError: undefined,\n            signOutMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.SignOutFailed:\n        return {\n            ...errors,\n            signOutError: action.payload,\n            signOutMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.WidgetInteractionStarted:\n    case CustomerStrategyActionType.WidgetInteractionFinished:\n        return {\n            ...errors,\n            widgetInteractionError: undefined,\n            widgetInteractionMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.WidgetInteractionFailed:\n        return {\n            ...errors,\n            widgetInteractionError: action.payload,\n            widgetInteractionMethodId: action.meta.methodId,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: CustomerStrategyStatusesState = DEFAULT_STATE.statuses,\n    action: CustomerStrategyAction\n): CustomerStrategyStatusesState {\n    switch (action.type) {\n    case CustomerStrategyActionType.InitializeRequested:\n        return {\n            ...statuses,\n            isInitializing: true,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.InitializeFailed:\n    case CustomerStrategyActionType.InitializeSucceeded:\n        return {\n            ...statuses,\n            isInitializing: false,\n            initializeMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.DeinitializeRequested:\n        return {\n            ...statuses,\n            isDeinitializing: true,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.DeinitializeFailed:\n    case CustomerStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...statuses,\n            isDeinitializing: false,\n            deinitializeMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.SignInRequested:\n        return {\n            ...statuses,\n            isSigningIn: true,\n            signInMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.SignInFailed:\n    case CustomerStrategyActionType.SignInSucceeded:\n        return {\n            ...statuses,\n            isSigningIn: false,\n            signInMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.SignOutRequested:\n        return {\n            ...statuses,\n            isSigningOut: true,\n            signOutMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.SignOutFailed:\n    case CustomerStrategyActionType.SignOutSucceeded:\n        return {\n            ...statuses,\n            isSigningOut: false,\n            signOutMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.WidgetInteractionStarted:\n        return {\n            ...statuses,\n            isWidgetInteracting: true,\n            widgetInteractionMethodId: action.meta.methodId,\n         };\n\n    case CustomerStrategyActionType.WidgetInteractionFinished:\n    case CustomerStrategyActionType.WidgetInteractionFailed:\n         return {\n            ...statuses,\n            isWidgetInteracting: false,\n            widgetInteractionMethodId: undefined,\n         };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-reducer.ts","export default interface CustomerStrategyState {\n    errors: CustomerStrategyErrorsState;\n    statuses: CustomerStrategyStatusesState;\n}\n\nexport interface CustomerStrategyErrorsState {\n    deinitializeError?: Error;\n    deinitializeMethodId?: string;\n    initializeError?: Error;\n    initializeMethodId?: string;\n    signInError?: Error;\n    signInMethodId?: string;\n    signOutError?: Error;\n    signOutMethodId?: string;\n    widgetInteractionError?: Error;\n    widgetInteractionMethodId?: string;\n}\n\nexport interface CustomerStrategyStatusesState {\n    deinitializeMethodId?: string;\n    initializeMethodId?: string;\n    isDeinitializing?: boolean;\n    isInitializing?: boolean;\n    isSigningIn?: boolean;\n    isSigningOut?: boolean;\n    signInMethodId?: string;\n    signOutMethodId?: string;\n    isWidgetInteracting?: boolean;\n    widgetInteractionMethodId?: string;\n}\n\nexport const DEFAULT_STATE: CustomerStrategyState = {\n    errors: {},\n    statuses: {},\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-state.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport Country from './country';\nimport * as actionTypes from './country-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CountryActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadCountries(options?: RequestOptions): Observable<Action<Country[]>> {\n        return Observable.create((observer: Observer<Action<Country[]>>) => {\n            observer.next(createAction(actionTypes.LOAD_COUNTRIES_REQUESTED));\n\n            this._checkoutClient.loadCountries(options)\n                .then(response => {\n                    observer.next(createAction(actionTypes.LOAD_COUNTRIES_SUCCEEDED, response.body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_COUNTRIES_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport { CountryResponseBody } from './country-responses';\n\nexport default class CountryRequestSender {\n    constructor(\n        private _requestSender: RequestSender,\n        private _config: { locale?: string }\n    ) {}\n\n    loadCountries({ timeout }: RequestOptions = {}): Promise<Response<CountryResponseBody>> {\n        const url = '/internalapi/v1/store/countries';\n        const headers = {\n            'Accept-Language': this._config.locale,\n        };\n\n        return this._requestSender.get(url, { headers, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-request-sender.ts","import { selector } from '../common/selector';\n\nimport Country from './country';\nimport CountryState from './country-state';\n\n@selector\nexport default class CountrySelector {\n    constructor(\n        private _countries: CountryState\n    ) {}\n\n    getCountries(): Country[] | undefined {\n        return this._countries.data;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._countries.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._countries.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport Country from './country';\nimport * as actionTypes from './country-action-types';\nimport CountryState, { CountryErrorsState, CountryStatusesState } from './country-state';\n\nconst DEFAULT_STATE: CountryState = {\n    errors: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function countryReducer(state: CountryState = DEFAULT_STATE, action: Action): CountryState {\n    const reducer = combineReducers<CountryState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: Country[] | undefined, action: Action): Country[] | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_COUNTRIES_SUCCEEDED:\n        return action.payload || [];\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: CountryErrorsState = DEFAULT_STATE.errors, action: Action): CountryErrorsState {\n    switch (action.type) {\n    case actionTypes.LOAD_COUNTRIES_REQUESTED:\n    case actionTypes.LOAD_COUNTRIES_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case actionTypes.LOAD_COUNTRIES_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: CountryStatusesState = DEFAULT_STATE.statuses, action: Action): CountryStatusesState {\n    switch (action.type) {\n    case actionTypes.LOAD_COUNTRIES_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case actionTypes.LOAD_COUNTRIES_SUCCEEDED:\n    case actionTypes.LOAD_COUNTRIES_FAILED:\n        return { ...statuses, isLoading: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-reducer.ts","import { createRequestSender } from '@bigcommerce/request-sender';\nimport { getScriptLoader } from '@bigcommerce/script-loader';\n\nimport { CheckoutClient, CheckoutStore } from '../checkout';\nimport { Registry } from '../common/registry';\nimport { PaymentMethodActionCreator } from '../payment';\nimport { RemoteCheckoutActionCreator, RemoteCheckoutRequestSender } from '../remote-checkout';\nimport { AmazonPayScriptLoader } from '../remote-checkout/methods/amazon-pay';\n\nimport ShippingAddressActionCreator from './shipping-address-action-creator';\nimport ShippingOptionActionCreator from './shipping-option-action-creator';\nimport { AmazonPayShippingStrategy, DefaultShippingStrategy, ShippingStrategy } from './strategies';\n\nexport default function createShippingStrategyRegistry(\n    store: CheckoutStore,\n    client: CheckoutClient\n): Registry<ShippingStrategy> {\n    const registry = new Registry<ShippingStrategy>();\n\n    registry.register('amazon', () =>\n        new AmazonPayShippingStrategy(\n            store,\n            new ShippingAddressActionCreator(client),\n            new ShippingOptionActionCreator(client),\n            new PaymentMethodActionCreator(client),\n            new RemoteCheckoutActionCreator(new RemoteCheckoutRequestSender(createRequestSender())),\n            new AmazonPayScriptLoader(getScriptLoader())\n        )\n    );\n\n    registry.register('default', () =>\n        new DefaultShippingStrategy(\n            store,\n            new ShippingAddressActionCreator(client),\n            new ShippingOptionActionCreator(client)\n        )\n    );\n\n    return registry;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/create-shipping-strategy-registry.ts","export { default as AmazonPayShippingStrategy, AmazonPayShippingInitializeOptions } from './amazon-pay-shipping-strategy';\nexport { default as DefaultShippingStrategy } from './default-shipping-strategy';\nexport { default as ShippingStrategy } from './shipping-strategy';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/strategies/index.ts","import { createAction, createErrorAction } from '@bigcommerce/data-store';\n\nimport { isAddressEqual, InternalAddress } from '../../address';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, NotInitializedError, StandardError } from '../../common/error/errors';\nimport { PaymentMethod, PaymentMethodActionCreator } from '../../payment';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport { RemoteCheckoutSynchronizationError } from '../../remote-checkout/errors';\nimport { AmazonPayAddressBook, AmazonPayOrderReference, AmazonPayScriptLoader, AmazonPayWidgetError, AmazonPayWindow } from '../../remote-checkout/methods/amazon-pay';\nimport ShippingAddressActionCreator from '../shipping-address-action-creator';\nimport ShippingOptionActionCreator from '../shipping-option-action-creator';\nimport { ShippingInitializeOptions, ShippingRequestOptions } from '../shipping-request-options';\nimport { ShippingStrategyActionType } from '../shipping-strategy-actions';\n\nimport ShippingStrategy from './shipping-strategy';\n\nexport default class AmazonPayShippingStrategy extends ShippingStrategy {\n    private _paymentMethod?: PaymentMethod;\n    private _window: AmazonPayWindow;\n\n    constructor(\n        store: CheckoutStore,\n        private _addressActionCreator: ShippingAddressActionCreator,\n        private _optionActionCreator: ShippingOptionActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _scriptLoader: AmazonPayScriptLoader\n    ) {\n        super(store);\n\n        this._window = window;\n    }\n\n    initialize(options: ShippingInitializeOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        const { amazon: amazonOptions, methodId } = options;\n\n        if (!amazonOptions || !methodId) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.amazon\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => new Promise((resolve, reject) => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                if (!this._paymentMethod) {\n                    throw new MissingDataError(`Unable to initialize because \"paymentMethod (${methodId})\" data is missing.`);\n                }\n\n                const onReady = () => {\n                    this._createAddressBook(amazonOptions)\n                        .then(resolve)\n                        .catch(reject);\n                };\n\n                this._scriptLoader.loadWidget(this._paymentMethod, onReady)\n                    .catch(reject);\n            }))\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        this._paymentMethod = undefined;\n\n        return super.deinitialize(options);\n    }\n\n    updateAddress(address: InternalAddress, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        return Promise.resolve(this._store.getState());\n    }\n\n    selectOption(addressId: string, optionId: string, options?: any): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._optionActionCreator.selectShippingOption(addressId, optionId, options)\n        );\n    }\n\n    private _createAddressBook(options: AmazonPayShippingInitializeOptions): Promise<AmazonPayAddressBook> {\n        return new Promise((resolve, reject) => {\n            const { container, onAddressSelect = () => {}, onError = () => {}, onReady = () => {} } = options;\n            const merchantId = this._paymentMethod && this._paymentMethod.config.merchantId;\n\n            if (!merchantId || !document.getElementById(container) || !this._window.OffAmazonPayments) {\n                return reject(new NotInitializedError('Unable to create AmazonPay AddressBook widget without valid merchant ID or container ID.'));\n            }\n\n            const widget = new this._window.OffAmazonPayments.Widgets.AddressBook({\n                design: {\n                    designMode: 'responsive',\n                },\n                scope: 'payments:billing_address payments:shipping_address payments:widget profile',\n                sellerId: merchantId,\n                onAddressSelect: orderReference => {\n                    this._synchronizeShippingAddress()\n                        .then(() => onAddressSelect(orderReference))\n                        .catch(onError);\n                },\n                onError: error => {\n                    reject(error);\n                    onError(error);\n                },\n                onOrderReferenceCreate: orderReference => {\n                    this._handleOrderReferenceCreate(orderReference);\n                },\n                onReady: () => {\n                    resolve();\n                    onReady();\n                },\n            });\n\n            widget.bind(container);\n\n            return widget;\n        });\n    }\n\n    private _synchronizeShippingAddress(): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const meta = state.remoteCheckout.getCheckoutMeta();\n        const methodId = this._paymentMethod && this._paymentMethod.id;\n        const referenceId = meta && meta.amazon && meta.amazon.referenceId;\n\n        if (!methodId || !referenceId) {\n            throw new NotInitializedError();\n        }\n\n        return this._store.dispatch(\n            createAction(ShippingStrategyActionType.UpdateAddressRequested, undefined, { methodId })\n        )\n            .then(() => this._store.dispatch(\n                this._remoteCheckoutActionCreator.initializeShipping(methodId, { referenceId })\n            ))\n            .then(state => {\n                const remoteCheckout = state.remoteCheckout.getCheckout();\n                const address = state.shippingAddress.getShippingAddress();\n\n                if (remoteCheckout && remoteCheckout.shippingAddress === false) {\n                    throw new RemoteCheckoutSynchronizationError();\n                }\n\n                if (!remoteCheckout || !remoteCheckout.shippingAddress || isAddressEqual(remoteCheckout.shippingAddress, address || {})) {\n                    return this._store.getState();\n                }\n\n                return this._store.dispatch(\n                    this._addressActionCreator.updateAddress(remoteCheckout.shippingAddress)\n                );\n            })\n            .then(() => this._store.dispatch(\n                createAction(ShippingStrategyActionType.UpdateAddressSucceeded, undefined, { methodId })\n            ))\n            .catch(error => this._store.dispatch(\n                createErrorAction(ShippingStrategyActionType.UpdateAddressFailed, error, { methodId })\n            ));\n    }\n\n    private _handleOrderReferenceCreate(orderReference: AmazonPayOrderReference): void {\n        if (!this._paymentMethod) {\n            throw new NotInitializedError();\n        }\n\n        this._store.dispatch(\n            this._remoteCheckoutActionCreator.setCheckoutMeta(this._paymentMethod.id, {\n                referenceId: orderReference.getAmazonOrderReferenceId(),\n            })\n        );\n    }\n}\n\nexport interface AmazonPayShippingInitializeOptions {\n    container: string;\n    onAddressSelect?(reference: AmazonPayOrderReference): void;\n    onError?(error: AmazonPayWidgetError | StandardError): void;\n    onReady?(): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/strategies/amazon-pay-shipping-strategy.ts","import { InternalAddress } from '../../address';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport ShippingAddressActionCreator from '../shipping-address-action-creator';\nimport ShippingOptionActionCreator from '../shipping-option-action-creator';\nimport { ShippingRequestOptions } from '../shipping-request-options';\n\nimport ShippingStrategy from './shipping-strategy';\n\nexport default class DefaultShippingStrategy extends ShippingStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _addressActionCreator: ShippingAddressActionCreator,\n        private _optionActionCreator: ShippingOptionActionCreator\n    ) {\n        super(store);\n    }\n\n    updateAddress(address: InternalAddress, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._addressActionCreator.updateAddress(address, options)\n        );\n    }\n\n    selectOption(addressId: string, optionId: string, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._optionActionCreator.selectShippingOption(addressId, optionId, options)\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/strategies/default-shipping-strategy.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\n\nimport Consignment from './consignment';\nimport ConsignmentState from './consignment-state';\n\nconst DEFAULT_STATE: ConsignmentState = {};\n\nexport default function shippingReducer(\n    state: ConsignmentState = DEFAULT_STATE,\n    action: CheckoutAction\n): ConsignmentState {\n    const reducer = combineReducers<ConsignmentState, CheckoutAction>({\n        data: dataReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: Consignment[] | undefined,\n    action: CheckoutAction\n): Consignment[] | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return action.payload ? action.payload.consignments : data;\n\n    default:\n        return data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/consignment-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { InternalAddress } from '../address';\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Response<T>\n */\nexport default class ShippingAddressRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    updateAddress(address: InternalAddress, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/shipping';\n\n        const params = {\n            includes: ['cart', 'quote', 'shippingOptions'].join(','),\n        };\n\n        return this._requestSender.post(url, { body: address, params, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-address-request-sender.ts","import { selector } from '../common/selector';\n\nimport { InternalAddress } from '../address';\nimport { QuoteState } from '../quote';\n\n@selector\nexport default class ShippingAddressSelector {\n    constructor(\n        private _quote: QuoteState\n    ) {}\n\n    getShippingAddress(): InternalAddress | undefined {\n        return this._quote.data && this._quote.data.shippingAddress;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-address-selector.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './shipping-country-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action<T>\n */\nexport default class ShippingCountryActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadCountries(options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_SHIPPING_COUNTRIES_REQUESTED));\n\n            this._checkoutClient.loadShippingCountries(options)\n                .then(response => {\n                    observer.next(createAction(actionTypes.LOAD_SHIPPING_COUNTRIES_SUCCEEDED, response.body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_SHIPPING_COUNTRIES_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\nimport { CountryResponseBody } from '../geography';\n\nexport default class ShippingCountryRequestSender {\n    constructor(\n        private _requestSender: RequestSender,\n        private _config: { locale?: string }\n    ) {}\n\n    loadCountries({ timeout }: RequestOptions = {}): Promise<Response<CountryResponseBody>> {\n        const url = '/internalapi/v1/shipping/countries';\n        const headers = {\n            'Accept-Language': this._config.locale,\n        };\n\n        return this._requestSender.get(url, { headers, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-request-sender.ts","import { selector } from '../common/selector';\nimport { Country } from '../geography';\n\nimport ShippingCountryState from './shipping-country-state';\n\n@selector\nexport default class ShippingCountrySelector {\n    constructor(\n        private _shippingCountries: ShippingCountryState\n    ) {}\n\n    getShippingCountries(): Country[] | undefined {\n        return this._shippingCountries.data;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._shippingCountries.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._shippingCountries.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { Country } from '../geography';\n\nimport * as actionTypes from './shipping-country-action-types';\nimport ShippingCountryState, { ShippingCountryErrorsState, ShippingCountryStatusesState } from './shipping-country-state';\n\nconst DEFAULT_STATE: ShippingCountryState = {\n    errors: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function shippingCountryReducer(state: ShippingCountryState = DEFAULT_STATE, action: Action): ShippingCountryState {\n    const reducer = combineReducers<ShippingCountryState>({\n        errors: errorsReducer,\n        data: dataReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: Country[] | undefined, action: Action): Country[] | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_SUCCEEDED:\n        return action.payload || [];\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: ShippingCountryErrorsState = DEFAULT_STATE.errors, action: Action): ShippingCountryErrorsState {\n    switch (action.type) {\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_REQUESTED:\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: ShippingCountryStatusesState = DEFAULT_STATE.statuses, action: Action): ShippingCountryStatusesState {\n    switch (action.type) {\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_SUCCEEDED:\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_FAILED:\n        return { ...statuses, isLoading: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class ShippingOptionRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadShippingOptions({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/shippingoptions';\n\n        const params = {\n            includes: ['cart', 'quote', 'shippingOptions'].join(','),\n        };\n\n        return this._requestSender.get(url, { params, timeout });\n    }\n\n    selectShippingOption(addressId: string, shippingOptionId: string, { timeout }: RequestOptions = {}): Promise<Response> {\n        const body = { addressId, shippingOptionId };\n        const url = '/internalapi/v1/checkout/shippingoptions';\n\n        const params = {\n            includes: ['cart', 'quote', 'shippingOptions'].join(','),\n        };\n\n        return this._requestSender.put(url, { body, params, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-option-request-sender.ts","import { find } from 'lodash';\n\nimport { selector } from '../common/selector';\nimport { QuoteState } from '../quote';\n\nimport InternalShippingOption, { InternalShippingOptionList } from './internal-shipping-option';\nimport ShippingOptionState from './shipping-option-state';\n\n@selector\nexport default class ShippingOptionSelector {\n    constructor(\n        private _shippingOptions: ShippingOptionState,\n        private _quote: QuoteState\n    ) {}\n\n    getShippingOptions(): InternalShippingOptionList | undefined {\n        return this._shippingOptions.data;\n    }\n\n    getSelectedShippingOption(): InternalShippingOption | undefined {\n        const { shippingAddress = null, shippingOption: optionId = null } = this._quote.data || {};\n        const shippingOptions = this.getShippingOptions();\n\n        if (!shippingAddress || !shippingOptions || !optionId) {\n            return;\n        }\n\n        return find(shippingOptions[shippingAddress.id], { id: optionId });\n    }\n\n    getLoadError(): Error | undefined {\n        return this._shippingOptions.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._shippingOptions.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-option-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { CheckoutActionType } from '../checkout';\nimport * as customerActionTypes from '../customer/customer-action-types';\nimport * as quoteActionTypes from '../quote/quote-action-types';\nimport * as shippingAddressActionTypes from '../shipping/shipping-address-action-types';\nimport * as shippingOptionActionTypes from '../shipping/shipping-option-action-types';\n\nimport mapToInternalShippingOptions from './map-to-internal-shipping-options';\n\n/**\n * @todo Convert this file into TypeScript properly\n * @param {ShippingOptionsState} state\n * @param {Action} action\n * @return {ShippingOptionsState}\n */\nexport default function shippingOptionReducer(state: any = {}, action: Action): any {\n    const reducer = combineReducers({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\n/**\n * @private\n * @param {?ShippingOptionList} data\n * @param {Action} action\n * @return {?ShippingOptionList}\n */\nfunction dataReducer(data: any, action: Action): any {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return { ...data, ...mapToInternalShippingOptions(action.payload.consignments, data) };\n\n    case customerActionTypes.SIGN_IN_CUSTOMER_SUCCEEDED:\n    case customerActionTypes.SIGN_OUT_CUSTOMER_SUCCEEDED:\n    case quoteActionTypes.LOAD_QUOTE_SUCCEEDED:\n    case shippingAddressActionTypes.UPDATE_SHIPPING_ADDRESS_SUCCEEDED:\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_SUCCEEDED:\n    case shippingOptionActionTypes.SELECT_SHIPPING_OPTION_SUCCEEDED:\n        return action.payload ? action.payload.shippingOptions : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction statusesReducer(statuses: any = {}, action: Action): any {\n    switch (action.type) {\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_FAILED:\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_SUCCEEDED:\n        return { ...statuses, isLoading: false };\n\n    default:\n        return statuses;\n    }\n}\n\nfunction errorsReducer(errors: any = {}, action: Action): any {\n    switch (action.type) {\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_REQUESTED:\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case shippingOptionActionTypes.LOAD_SHIPPING_OPTIONS_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-option-reducer.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalAddress } from '../address';\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { Registry } from '../common/registry';\n\nimport { ShippingInitializeOptions, ShippingRequestOptions } from './shipping-request-options';\nimport {\n    ShippingStrategyActionType,\n    ShippingStrategyDeinitializeAction,\n    ShippingStrategyInitializeAction,\n    ShippingStrategySelectOptionAction,\n    ShippingStrategyUpdateAddressAction,\n} from './shipping-strategy-actions';\nimport { ShippingStrategy } from './strategies';\n\nexport default class ShippingStrategyActionCreator {\n    constructor(\n        private _strategyRegistry: Registry<ShippingStrategy>\n    ) {}\n\n    updateAddress(address: InternalAddress, options?: ShippingRequestOptions): ThunkAction<ShippingStrategyUpdateAddressAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ShippingStrategyUpdateAddressAction>) => {\n            const methodId = options && options.methodId || store.getState().remoteCheckout.getProviderId();\n\n            observer.next(createAction(ShippingStrategyActionType.UpdateAddressRequested, undefined, { methodId }));\n\n            this._strategyRegistry.get(methodId)\n                .updateAddress(address, { ...options, methodId })\n                .then(() => {\n                    observer.next(createAction(ShippingStrategyActionType.UpdateAddressSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(ShippingStrategyActionType.UpdateAddressFailed, error, { methodId }));\n                });\n        });\n    }\n\n    selectOption(addressId: string, shippingOptionId: string, options?: ShippingRequestOptions): ThunkAction<ShippingStrategySelectOptionAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ShippingStrategySelectOptionAction>) => {\n            const methodId = options && options.methodId || store.getState().remoteCheckout.getProviderId();\n\n            observer.next(createAction(ShippingStrategyActionType.SelectOptionRequested, undefined, { methodId }));\n\n            this._strategyRegistry.get(methodId)\n                .selectOption(addressId, shippingOptionId, { ...options, methodId })\n                .then(() => {\n                    observer.next(createAction(ShippingStrategyActionType.SelectOptionSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(ShippingStrategyActionType.SelectOptionFailed, error, { methodId }));\n                });\n        });\n    }\n\n    initialize(options?: ShippingInitializeOptions): ThunkAction<ShippingStrategyInitializeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ShippingStrategyInitializeAction>) => {\n            const methodId = options && options.methodId || store.getState().remoteCheckout.getProviderId();\n            const mergedOptions = { ...options, methodId };\n\n            observer.next(createAction(ShippingStrategyActionType.InitializeRequested, undefined, { methodId }));\n\n            this._strategyRegistry.get(methodId)\n                .initialize(mergedOptions)\n                .then(() => {\n                    observer.next(createAction(ShippingStrategyActionType.InitializeSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(ShippingStrategyActionType.InitializeFailed, error, { methodId }));\n                });\n        });\n    }\n\n    deinitialize(options?: ShippingRequestOptions): ThunkAction<ShippingStrategyDeinitializeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ShippingStrategyDeinitializeAction>) => {\n            const methodId = options && options.methodId || store.getState().remoteCheckout.getProviderId();\n\n            observer.next(createAction(ShippingStrategyActionType.DeinitializeRequested, undefined, { methodId }));\n\n            this._strategyRegistry.get(methodId)\n                .deinitialize({ ...options, methodId })\n                .then(() => {\n                    observer.next(createAction(ShippingStrategyActionType.DeinitializeSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(ShippingStrategyActionType.DeinitializeFailed, error, { methodId }));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-action-creator.ts","import { selector } from '../common/selector';\n\nimport ShippingStrategyState from './shipping-strategy-state';\n\n@selector\nexport default class ShippingStrategySelector {\n    constructor(\n        private _shippingStrategies: ShippingStrategyState\n    ) {}\n\n    getUpdateAddressError(methodId?: string): Error | undefined {\n        if (methodId && this._shippingStrategies.errors.updateAddressMethodId !== methodId) {\n            return;\n        }\n\n        return this._shippingStrategies.errors.updateAddressError;\n    }\n\n    getSelectOptionError(methodId?: string): Error | undefined {\n        if (methodId && this._shippingStrategies.errors.selectOptionMethodId !== methodId) {\n            return;\n        }\n\n        return this._shippingStrategies.errors.selectOptionError;\n    }\n\n    getInitializeError(methodId?: string): Error | undefined {\n        if (methodId && this._shippingStrategies.errors.initializeMethodId !== methodId) {\n            return;\n        }\n\n        return this._shippingStrategies.errors.initializeError;\n    }\n\n    isUpdatingAddress(methodId?: string): boolean {\n        if (methodId && this._shippingStrategies.statuses.updateAddressMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._shippingStrategies.statuses.isUpdatingAddress;\n    }\n\n    isSelectingOption(methodId?: string): boolean {\n        if (methodId && this._shippingStrategies.statuses.selectOptionMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._shippingStrategies.statuses.isSelectingOption;\n    }\n\n    isInitializing(methodId?: string): boolean {\n        if (methodId && this._shippingStrategies.statuses.initializeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._shippingStrategies.statuses.isInitializing;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { ShippingStrategyAction, ShippingStrategyActionType } from './shipping-strategy-actions';\nimport ShippingStrategyState, { DEFAULT_STATE, ShippingStrategyErrorsState, ShippingStrategyStatusesState } from './shipping-strategy-state';\n\nexport default function shippingStrategyReducer(\n    state: ShippingStrategyState = DEFAULT_STATE,\n    action: ShippingStrategyAction\n): ShippingStrategyState {\n    const reducer = combineReducers<ShippingStrategyState, ShippingStrategyAction>({\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction errorsReducer(\n    errors: ShippingStrategyErrorsState = DEFAULT_STATE.errors,\n    action: ShippingStrategyAction\n): ShippingStrategyErrorsState {\n    switch (action.type) {\n    case ShippingStrategyActionType.InitializeRequested:\n    case ShippingStrategyActionType.InitializeSucceeded:\n        return {\n            ...errors,\n            initializeError: undefined,\n            initializeMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.InitializeFailed:\n        return {\n            ...errors,\n            initializeError: action.payload,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.DeinitializeRequested:\n    case ShippingStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...errors,\n            deinitializeError: undefined,\n            deinitializeMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.DeinitializeFailed:\n        return {\n            ...errors,\n            deinitializeError: action.payload,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.UpdateAddressRequested:\n    case ShippingStrategyActionType.UpdateAddressSucceeded:\n        return {\n            ...errors,\n            updateAddressError: undefined,\n            updateAddressMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.UpdateAddressFailed:\n        return {\n            ...errors,\n            updateAddressError: action.payload,\n            updateAddressMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.SelectOptionRequested:\n    case ShippingStrategyActionType.SelectOptionSucceeded:\n        return {\n            ...errors,\n            selectOptionError: undefined,\n            selectOptionMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.SelectOptionFailed:\n        return {\n            ...errors,\n            selectOptionError: action.payload,\n            selectOptionMethodId: action.meta && action.meta.methodId,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: ShippingStrategyStatusesState = DEFAULT_STATE.statuses,\n    action: ShippingStrategyAction\n): ShippingStrategyStatusesState {\n    switch (action.type) {\n    case ShippingStrategyActionType.InitializeRequested:\n        return {\n            ...statuses,\n            isInitializing: true,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.InitializeFailed:\n    case ShippingStrategyActionType.InitializeSucceeded:\n        return {\n            ...statuses,\n            isInitializing: false,\n            initializeMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.DeinitializeRequested:\n        return {\n            ...statuses,\n            isDeinitializing: true,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.DeinitializeFailed:\n    case ShippingStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...statuses,\n            isDeinitializing: false,\n            deinitializeMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.UpdateAddressRequested:\n        return {\n            ...statuses,\n            isUpdatingAddress: true,\n            updateAddressMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.UpdateAddressFailed:\n    case ShippingStrategyActionType.UpdateAddressSucceeded:\n        return {\n            ...statuses,\n            isUpdatingAddress: false,\n            updateAddressMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.SelectOptionRequested:\n        return {\n            ...statuses,\n            isSelectingOption: true,\n            selectOptionMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.SelectOptionFailed:\n    case ShippingStrategyActionType.SelectOptionSucceeded:\n        return {\n            ...statuses,\n            isSelectingOption: false,\n            selectOptionMethodId: undefined,\n        };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-reducer.ts","export default interface ShippingStrategyState {\n    errors: ShippingStrategyErrorsState;\n    statuses: ShippingStrategyStatusesState;\n}\n\nexport interface ShippingStrategyErrorsState {\n    deinitializeError?: Error;\n    deinitializeMethodId?: string;\n    initializeError?: Error;\n    initializeMethodId?: string;\n    updateAddressError?: Error;\n    updateAddressMethodId?: string;\n    selectOptionError?: Error;\n    selectOptionMethodId?: string;\n}\n\nexport interface ShippingStrategyStatusesState {\n    deinitializeMethodId?: string;\n    initializeMethodId?: string;\n    isDeinitializing?: boolean;\n    isInitializing?: boolean;\n    isUpdatingAddress?: boolean;\n    isSelectingOption?: boolean;\n    updateAddressMethodId?: string;\n    selectOptionMethodId?: string;\n}\n\nexport const DEFAULT_STATE: ShippingStrategyState = {\n    errors: {},\n    statuses: {},\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-state.ts","import { createRequestSender } from '@bigcommerce/request-sender';\n\nimport { BillingAddressActionCreator } from '../billing';\nimport { CartActionCreator } from '../cart';\nimport { getDefaultLogger } from '../common/log';\nimport { ConfigActionCreator } from '../config';\nimport { CouponActionCreator, GiftCertificateActionCreator } from '../coupon';\nimport { createCustomerStrategyRegistry, CustomerStrategyActionCreator } from '../customer';\nimport { CountryActionCreator } from '../geography';\nimport { OrderActionCreator } from '../order';\nimport {\n    createPaymentClient,\n    createPaymentStrategyRegistry,\n    PaymentMethodActionCreator,\n    PaymentStrategyActionCreator,\n} from '../payment';\nimport { InstrumentActionCreator, InstrumentRequestSender } from '../payment/instrument';\nimport { QuoteActionCreator } from '../quote';\nimport {\n    createShippingStrategyRegistry,\n    ShippingCountryActionCreator,\n    ShippingOptionActionCreator,\n    ShippingStrategyActionCreator,\n} from '../shipping';\n\nimport CheckoutService from './checkout-service';\nimport createCheckoutClient from './create-checkout-client';\nimport createCheckoutStore from './create-checkout-store';\n\nexport default function createCheckoutService(options: CheckoutServiceOptions = {}): CheckoutService {\n    if (document.location.protocol !== 'https:') {\n        getDefaultLogger().warn('The BigCommerce Checkout SDK should not be used on a non-HTTPS page');\n    }\n\n    const client = createCheckoutClient({ locale: options.locale });\n    const store = createCheckoutStore({}, { shouldWarnMutation: options.shouldWarnMutation });\n    const paymentClient = createPaymentClient(store);\n\n    const instrumentRequestSender = new InstrumentRequestSender(paymentClient, createRequestSender());\n\n    return new CheckoutService(\n        store,\n        new BillingAddressActionCreator(client),\n        new CartActionCreator(client),\n        new ConfigActionCreator(client),\n        new CountryActionCreator(client),\n        new CouponActionCreator(client),\n        new CustomerStrategyActionCreator(createCustomerStrategyRegistry(store, client)),\n        new GiftCertificateActionCreator(client),\n        new InstrumentActionCreator(instrumentRequestSender),\n        new OrderActionCreator(client),\n        new PaymentMethodActionCreator(client),\n        new PaymentStrategyActionCreator(createPaymentStrategyRegistry(store, client, paymentClient)),\n        new QuoteActionCreator(client),\n        new ShippingCountryActionCreator(client),\n        new ShippingOptionActionCreator(client),\n        new ShippingStrategyActionCreator(createShippingStrategyRegistry(store, client))\n    );\n}\n\nexport interface CheckoutServiceOptions {\n    locale?: string;\n    shouldWarnMutation?: boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-service.ts","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 231\n// module chunks = 0","import Logger from './logger';\n\nexport default class ConsoleLogger implements Logger {\n    constructor(\n        private _console: Console\n    ) {}\n\n    log(...messages: any[]): void {\n        this._logToConsole('log', ...messages);\n    }\n\n    info(...messages: any[]): void {\n        this._logToConsole('info', ...messages);\n    }\n\n    warn(...messages: any[]): void {\n        this._logToConsole('warn', ...messages);\n    }\n\n    error(...messages: any[]): void {\n        this._logToConsole('error', ...messages);\n    }\n\n    debug(...messages: any[]): void {\n        this._logToConsole('debug', ...messages);\n    }\n\n    private _logToConsole(type: keyof Console, ...messages: any[]): void {\n        if (!this._console || !this._console[type]) {\n            return;\n        }\n\n        this._console[type].call(this._console, ...messages);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/log/console-logger.ts","import Logger from './logger';\n\nexport default class NoopLogger implements Logger {\n    log(): void {}\n\n    info(): void {}\n\n    warn(): void {}\n\n    error(): void {}\n\n    debug(): void {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/log/noop-logger.ts","import { createAction, createErrorAction, Action, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalAddress } from '../../address';\nimport { InternalCheckoutSelectors, ReadableCheckoutStore } from '../../checkout';\nimport { addMinutes, isFuture } from '../../common/date-time';\nimport { MissingDataError } from '../../common/error/errors';\n\nimport Instrument, { SessionContext, VaultAccessToken } from './instrument';\nimport * as actionTypes from './instrument-action-types';\nimport InstrumentRequestSender from './instrument-request-sender';\n\nexport default class InstrumentActionCreator {\n    constructor(\n        private _instrumentRequestSender: InstrumentRequestSender\n    ) {}\n\n    loadInstruments(): ThunkAction<Action, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_INSTRUMENTS_REQUESTED));\n\n            const session = this._getSessionContext(store);\n            const token = this._getCurrentAccessToken(store);\n            const shippingAddress = this._getShippingAddress(store);\n\n            return this._getValidAccessToken(token)\n                .then(currentToken =>\n                    this._instrumentRequestSender.loadInstruments({\n                            ...session,\n                            authToken: currentToken.vaultAccessToken,\n                        },\n                        shippingAddress\n                    )\n                        .then(({ body }) => {\n                            observer.next(createAction(actionTypes.LOAD_INSTRUMENTS_SUCCEEDED, body, currentToken));\n                            observer.complete();\n                        })\n                )\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_INSTRUMENTS_FAILED, response));\n                });\n        });\n    }\n\n    vaultInstrument(instrument: Instrument): ThunkAction<Action, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.VAULT_INSTRUMENT_REQUESTED));\n\n            const session = this._getSessionContext(store);\n            const token = this._getCurrentAccessToken(store);\n\n            return this._getValidAccessToken(token)\n                .then(currentToken =>\n                    this._instrumentRequestSender.vaultInstrument({ ...session, authToken: currentToken.vaultAccessToken }, instrument)\n                        .then(({ body }) => {\n                            observer.next(createAction(actionTypes.VAULT_INSTRUMENT_SUCCEEDED, body, currentToken));\n                            observer.complete();\n                        })\n                )\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.VAULT_INSTRUMENT_FAILED, response));\n                });\n        });\n    }\n\n    deleteInstrument(instrumentId: string): ThunkAction<Action, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.DELETE_INSTRUMENT_REQUESTED, undefined, { instrumentId }));\n\n            const session = this._getSessionContext(store);\n            const token = this._getCurrentAccessToken(store);\n\n            return this._getValidAccessToken(token)\n                .then(currentToken =>\n                    this._instrumentRequestSender.deleteInstrument({ ...session, authToken: currentToken.vaultAccessToken }, instrumentId)\n                        .then(() => {\n                            observer.next(createAction(actionTypes.DELETE_INSTRUMENT_SUCCEEDED, undefined, {\n                                instrumentId,\n                                ...currentToken,\n                            }));\n                            observer.complete();\n                        })\n                )\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.DELETE_INSTRUMENT_FAILED, response, { instrumentId }));\n                });\n        });\n    }\n\n    private _isValidVaultAccessToken(token: VaultAccessToken): boolean {\n        if (!token || !token.vaultAccessToken) {\n            return false;\n        }\n\n        const expiryBuffer = 2;\n        const expiry = addMinutes(new Date(token.vaultAccessExpiry), expiryBuffer);\n\n        return isFuture(expiry);\n    }\n\n    private _getCurrentAccessToken(store: ReadableCheckoutStore): VaultAccessToken | undefined {\n        const { instruments } = store.getState();\n        const meta = instruments.getInstrumentsMeta();\n\n        if (!meta) {\n            return;\n        }\n\n        return {\n            vaultAccessToken: meta.vaultAccessToken,\n            vaultAccessExpiry: meta.vaultAccessExpiry,\n        };\n    }\n\n    private _getValidAccessToken(token?: VaultAccessToken): Promise<VaultAccessToken> {\n        return token && this._isValidVaultAccessToken(token)\n            ? Promise.resolve(token)\n            : this._instrumentRequestSender.getVaultAccessToken()\n                .then(({ body = {} }: any) => ({\n                    vaultAccessToken: body.data.token,\n                    vaultAccessExpiry: body.data.expires_at,\n                }));\n    }\n\n    private _getShippingAddress(store: ReadableCheckoutStore): InternalAddress | undefined {\n        const state = store.getState();\n\n        return state.shippingAddress.getShippingAddress();\n    }\n\n    private _getSessionContext(store: ReadableCheckoutStore): SessionContext {\n        const state = store.getState();\n        const config = state.config.getStoreConfig();\n        const customer = state.customer.getCustomer();\n\n        if (!config || !customer) {\n            throw new MissingDataError('Unable to proceed because \"config\" or \"customer\" data is missing.');\n        }\n\n        const { customerId } = customer;\n        const { storeId } = config.storeProfile;\n\n        return {\n            customerId,\n            storeId,\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-action-creator.ts","export { default as addMinutes } from './add-minutes';\nexport { default as isFuture } from './is-future';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/date-time/index.ts","export default function addMinutes(date: Date, amount: number): Date {\n    const newDate = new Date(date.getTime());\n\n    newDate.setMinutes(date.getMinutes() + amount);\n\n    return newDate;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/date-time/add-minutes.ts","export default function isFuture(date: Date): boolean {\n    return date.valueOf() > Date.now();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/date-time/is-future.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { InternalAddress } from '../../address';\nimport { RequestOptions } from '../../common/http-request';\n\nimport Instrument, { InstrumentRequestContext } from './instrument';\nimport { InstrumentsResponseBody, InstrumentResponseBody, VaultAccessTokenResponseBody } from './instrument-response-body';\n\nexport default class InstrumentRequestSender {\n    constructor(\n        private _client: any,\n        private _requestSender: RequestSender\n    ) {}\n\n    getVaultAccessToken({ timeout }: RequestOptions = {}): Promise<Response<VaultAccessTokenResponseBody>> {\n        const url = '/internalapi/v1/checkout/payments/vault-access-token';\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    loadInstruments(requestContext: InstrumentRequestContext, shippingAddress?: InternalAddress): Promise<Response<InstrumentsResponseBody>> {\n        return (shippingAddress) ?\n            this._loadInstrumentsWithAddress(requestContext, shippingAddress) :\n            this._loadInstruments(requestContext);\n    }\n\n    vaultInstrument(requestContext: InstrumentRequestContext, instrument: Instrument): Promise<Response<InstrumentResponseBody>> {\n        const payload = {\n            ...requestContext,\n            instrument,\n        };\n\n        return new Promise((resolve, reject) => {\n            this._client.postShopperInstrument(payload, (error: Error, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    deleteInstrument(requestContext: InstrumentRequestContext, instrumentId: string): Promise<Response> {\n        const payload = {\n            ...requestContext,\n            instrumentId,\n        };\n\n        return new Promise((resolve, reject) => {\n            this._client.deleteShopperInstrument(payload, (error: Error, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    private _loadInstruments(requestContext: InstrumentRequestContext): Promise<Response<InstrumentsResponseBody>> {\n        return new Promise((resolve, reject) => {\n            this._client.loadInstruments(requestContext, (error: Error, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    private _loadInstrumentsWithAddress(requestContext: InstrumentRequestContext, shippingAddress: InternalAddress): Promise<Response<InstrumentsResponseBody>> {\n        const payload = {\n            ...requestContext,\n            shippingAddress,\n        };\n\n        return new Promise((resolve, reject) => {\n            this._client.loadInstrumentsWithAddress(payload, (error: Error, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    private _transformResponse({ data: body, status, statusText }: any): Response {\n        return {\n            headers: {},\n            body,\n            status,\n            statusText,\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-request-sender.ts","import Instrument from './instrument';\nimport InstrumentState, { DEFAULT_STATE, InstrumentMeta } from './instrument-state';\n\nexport default class InstrumentSelector {\n    constructor(\n        private _instruments: InstrumentState = DEFAULT_STATE\n    ) {}\n\n    getInstruments(): Instrument[] | undefined {\n        return this._instruments.data;\n    }\n\n    getInstrumentsMeta(): InstrumentMeta | undefined {\n        return this._instruments.meta;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._instruments.errors && this._instruments.errors.loadError;\n    }\n\n    getVaultError(): Error | undefined {\n        return this._instruments.errors && this._instruments.errors.vaultError;\n    }\n\n    getDeleteError(instrumentId?: string): Error | undefined {\n        if (!this._instruments.errors || (instrumentId && this._instruments.errors.failedInstrument !== instrumentId)) {\n            return;\n        }\n\n        return this._instruments.errors.deleteError;\n    }\n\n    isLoading(): boolean {\n        return !!(this._instruments.statuses && this._instruments.statuses.isLoading);\n    }\n\n    isVaulting(): boolean {\n        return !!(this._instruments.statuses && this._instruments.statuses.isVaulting);\n    }\n\n    isDeleting(instrumentId?: string): boolean {\n        if (!this._instruments.statuses || (instrumentId && this._instruments.statuses.deletingInstrument !== instrumentId)) {\n            return false;\n        }\n\n        return !!this._instruments.statuses.isDeleting;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport * as actionTypes from './instrument-action-types';\n\nimport Instrument from './instrument';\nimport InstrumentState, { DEFAULT_STATE, InstrumentErrorState, InstrumentMeta, InstrumentStatusState } from './instrument-state';\n\nexport default function instrumentReducer(state: InstrumentState = DEFAULT_STATE, action: Action): InstrumentState {\n    const reducer = combineReducers<InstrumentState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        meta: metaReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: Instrument[] = DEFAULT_STATE.data, action: Action): Instrument[] {\n    switch (action.type) {\n    case actionTypes.LOAD_INSTRUMENTS_SUCCEEDED:\n        return action.payload.vaulted_instruments || [];\n\n    case actionTypes.VAULT_INSTRUMENT_SUCCEEDED:\n        return [...(data || []), action.payload.vaulted_instrument];\n\n    case actionTypes.DELETE_INSTRUMENT_SUCCEEDED:\n        return (data || []).filter((instrument: any) =>\n            instrument.bigpay_token !== action.meta.instrumentId\n        );\n\n    default:\n        return data;\n    }\n}\n\nfunction metaReducer(meta: InstrumentMeta | undefined, action: Action): InstrumentMeta | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_INSTRUMENTS_SUCCEEDED:\n    case actionTypes.VAULT_INSTRUMENT_SUCCEEDED:\n    case actionTypes.DELETE_INSTRUMENT_SUCCEEDED:\n        return { ...meta, ...action.meta };\n\n    default:\n        return meta;\n    }\n}\n\nfunction errorsReducer(errors: InstrumentErrorState = DEFAULT_STATE.errors, action: Action): InstrumentErrorState {\n    switch (action.type) {\n    case actionTypes.LOAD_INSTRUMENTS_REQUESTED:\n    case actionTypes.LOAD_INSTRUMENTS_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case actionTypes.VAULT_INSTRUMENT_REQUESTED:\n    case actionTypes.VAULT_INSTRUMENT_SUCCEEDED:\n        return { ...errors, vaultError: undefined };\n\n    case actionTypes.DELETE_INSTRUMENT_REQUESTED:\n    case actionTypes.DELETE_INSTRUMENT_SUCCEEDED:\n        return {\n            ...errors,\n            deleteError: undefined,\n            failedInstrument: undefined,\n        };\n\n    case actionTypes.LOAD_INSTRUMENTS_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    case actionTypes.VAULT_INSTRUMENT_FAILED:\n        return { ...errors, vaultError: action.payload };\n\n    case actionTypes.DELETE_INSTRUMENT_FAILED:\n        return {\n            ...errors,\n            deleteError: action.payload,\n            failedInstrument: action.meta.instrumentId,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: InstrumentStatusState = DEFAULT_STATE.statuses, action: Action): InstrumentStatusState {\n    switch (action.type) {\n    case actionTypes.LOAD_INSTRUMENTS_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case actionTypes.VAULT_INSTRUMENT_REQUESTED:\n        return { ...statuses, isVaulting: true };\n\n    case actionTypes.DELETE_INSTRUMENT_REQUESTED:\n        return {\n            ...statuses,\n            isDeleting: true,\n            deletingInstrument: action.meta.instrumentId,\n        };\n\n    case actionTypes.LOAD_INSTRUMENTS_SUCCEEDED:\n    case actionTypes.LOAD_INSTRUMENTS_FAILED:\n        return { ...statuses, isLoading: false };\n\n    case actionTypes.VAULT_INSTRUMENT_SUCCEEDED:\n    case actionTypes.VAULT_INSTRUMENT_FAILED:\n        return { ...statuses, isVaulting: false };\n\n    case actionTypes.DELETE_INSTRUMENT_SUCCEEDED:\n    case actionTypes.DELETE_INSTRUMENT_FAILED:\n        return {\n            ...statuses,\n            isDeleting: false,\n            deletingInstrument: undefined,\n        };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-reducer.ts","export { default as createRequestErrorFactory } from './create-request-error-factory';\nexport { default as RequestErrorFactory } from './request-error-factory';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/index.ts","import { PaymentMethodInvalidError } from '../../payment/errors';\n\nimport { UnrecoverableError } from './errors';\nimport RequestErrorFactory from './request-error-factory';\n\nexport default function createRequestErrorFactory(): RequestErrorFactory {\n    const factory = new RequestErrorFactory();\n\n    const unrecoverableErrorTypes = [\n        'catalog_only',\n        'empty_cart',\n        'invalid_order_id',\n        'invalid_order_token',\n        'missing_order_token',\n        'missing_provider_token',\n        'missing_shipping_method',\n        'order_completion_error',\n        'order_could_not_be_finalized_error',\n        'order_create_failed',\n        'provider_fatal_error',\n        'provider_setup_error',\n        'stock_too_low',\n    ];\n\n    unrecoverableErrorTypes.forEach(type => {\n        factory.register(type, (response, message) => new UnrecoverableError(response, message));\n    });\n\n    factory.register('invalid_payment_provider', response => new PaymentMethodInvalidError(response));\n    factory.register('payment_config_not_found', response => new PaymentMethodInvalidError(response));\n\n    return factory;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/create-request-error-factory.ts","import { Action } from '@bigcommerce/data-store';\nimport { from } from 'rxjs/observable/from';\nimport { catchError } from 'rxjs/operators';\nimport { Observable, Subscribable } from 'rxjs/Observable';\n\nimport { RequestErrorFactory } from '../common/error';\n\nexport default function createActionTransformer(\n    requestErrorFactory: RequestErrorFactory\n): (action: Subscribable<Action>) => Observable<Action> {\n    return action$ => from(action$).pipe(catchError<Action, never>(action => {\n        if (action instanceof Error || action.payload instanceof Error) {\n            throw action;\n        }\n\n        if (isResponse(action.payload)) {\n            throw { ...action, payload: requestErrorFactory.createError(action.payload) };\n        }\n\n        throw action;\n    }));\n}\n\nfunction isResponse(object: any) {\n    if (!object || typeof object !== 'object') {\n        return false;\n    }\n\n    return ['body', 'headers', 'status', 'statusText'].every(key =>\n        object.hasOwnProperty(key)\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-action-transformer.ts","module.exports = require(\"rxjs/observable/from\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/observable/from\"\n// module id = 244\n// module chunks = 0","module.exports = require(\"rxjs/operators\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/operators\"\n// module id = 245\n// module chunks = 0","import { combineReducers, Action, Reducer } from '@bigcommerce/data-store';\n\nimport { cartReducer } from '../cart';\nimport { configReducer } from '../config';\nimport { couponReducer, giftCertificateReducer } from '../coupon';\nimport { customerReducer, customerStrategyReducer } from '../customer';\nimport { countryReducer } from '../geography';\nimport { orderReducer } from '../order';\nimport { paymentMethodReducer, paymentReducer, paymentStrategyReducer } from '../payment';\nimport { instrumentReducer } from '../payment/instrument';\nimport { quoteReducer } from '../quote';\nimport { remoteCheckoutReducer } from '../remote-checkout';\nimport { shippingCountryReducer, shippingOptionReducer, shippingStrategyReducer } from '../shipping';\n\nimport CheckoutStoreState from './checkout-store-state';\n\nexport default function createCheckoutStoreReducer(): Reducer<CheckoutStoreState, Action> {\n    return combineReducers({\n        cart: cartReducer,\n        config: configReducer,\n        countries: countryReducer,\n        coupons: couponReducer,\n        customer: customerReducer,\n        customerStrategies: customerStrategyReducer,\n        giftCertificates: giftCertificateReducer,\n        instruments: instrumentReducer,\n        order: orderReducer,\n        payment: paymentReducer,\n        paymentMethods: paymentMethodReducer,\n        paymentStrategies: paymentStrategyReducer,\n        quote: quoteReducer,\n        remoteCheckout: remoteCheckoutReducer,\n        shippingCountries: shippingCountryReducer,\n        shippingOptions: shippingOptionReducer,\n        shippingStrategies: shippingStrategyReducer,\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-store-reducer.ts","import { BillingAddressSelector } from '../billing';\nimport { CartSelector } from '../cart';\nimport { createFreezeProxies } from '../common/utility';\nimport { ConfigSelector } from '../config';\nimport { CouponSelector, GiftCertificateSelector } from '../coupon';\nimport { CustomerSelector, CustomerStrategySelector } from '../customer';\nimport { FormSelector } from '../form';\nimport { CountrySelector } from '../geography';\nimport { OrderSelector } from '../order';\nimport { PaymentMethodSelector, PaymentStrategySelector } from '../payment';\nimport { InstrumentSelector } from '../payment/instrument';\nimport { QuoteSelector } from '../quote';\nimport { RemoteCheckoutSelector } from '../remote-checkout';\nimport { ShippingAddressSelector, ShippingCountrySelector, ShippingOptionSelector, ShippingStrategySelector } from '../shipping';\n\nimport { CheckoutStoreOptions } from './checkout-store';\nimport CheckoutStoreState from './checkout-store-state';\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\nexport default function createInternalCheckoutSelectors(state: CheckoutStoreState, options: CheckoutStoreOptions = {}): InternalCheckoutSelectors {\n    const billingAddress = new BillingAddressSelector(state.quote);\n    const cart = new CartSelector(state.cart);\n    const config = new ConfigSelector(state.config);\n    const countries = new CountrySelector(state.countries);\n    const coupons = new CouponSelector(state.coupons);\n    const customer = new CustomerSelector(state.customer);\n    const customerStrategies = new CustomerStrategySelector(state.customerStrategies);\n    const form = new FormSelector(state.config);\n    const giftCertificates = new GiftCertificateSelector(state.giftCertificates);\n    const instruments = new InstrumentSelector(state.instruments);\n    const order = new OrderSelector(state.order, state.customer, state.cart);\n    const paymentMethods = new PaymentMethodSelector(state.paymentMethods, state.order);\n    const paymentStrategies = new PaymentStrategySelector(state.paymentStrategies);\n    const quote = new QuoteSelector(state.quote);\n    const remoteCheckout = new RemoteCheckoutSelector(state.remoteCheckout, state.customer);\n    const shippingAddress = new ShippingAddressSelector(state.quote);\n    const shippingCountries = new ShippingCountrySelector(state.shippingCountries);\n    const shippingOptions = new ShippingOptionSelector(state.shippingOptions, state.quote);\n    const shippingStrategies = new ShippingStrategySelector(state.shippingStrategies);\n\n    const selectors = {\n        billingAddress,\n        cart,\n        config,\n        countries,\n        coupons,\n        customer,\n        customerStrategies,\n        form,\n        giftCertificates,\n        instruments,\n        order,\n        paymentMethods,\n        paymentStrategies,\n        quote,\n        remoteCheckout,\n        shippingAddress,\n        shippingCountries,\n        shippingOptions,\n        shippingStrategies,\n    };\n\n    return options.shouldWarnMutation ? createFreezeProxies(selectors) : selectors;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-internal-checkout-selectors.ts","export { default as FormSelector } from './form-selector';\nexport { default as FormField } from './form-field';\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.ts","import { find } from 'lodash';\n\nimport { selector } from '../common/selector';\nimport { ConfigState } from '../config';\nimport { Country } from '../geography';\n\nimport FormField from './form-field';\n\n@selector\nexport default class FormSelector {\n    constructor(\n        private _config: ConfigState\n    ) {}\n\n    getShippingAddressFields(countries: Country[] = [], countryCode: string): FormField[] {\n        const selectedCountry = find(countries, { code: countryCode });\n        const fields = this._config.data ? this._config.data.storeConfig.formFields.shippingAddressFields : [];\n\n        return fields.map((field: any) => this._processField(field, countries, selectedCountry));\n    }\n\n    getBillingAddressFields(countries: Country[] = [], countryCode: string): FormField[] {\n        const selectedCountry = find(countries, { code: countryCode });\n        const fields = this._config.data ? this._config.data.storeConfig.formFields.billingAddressFields : [];\n\n        return fields.map((field: any) => this._processField(field, countries, selectedCountry));\n    }\n\n    private _processField(field: FormField, countries: Country[], selectedCountry?: Country): FormField {\n        if (field.name === 'countryCode') {\n            return this._processCountry(field, countries, selectedCountry);\n        }\n\n        if (field.name === 'province') {\n            return this._processProvince(field, selectedCountry);\n        }\n\n        if (field.name === 'postCode') {\n            return this._processsPostCode(field, selectedCountry);\n        }\n\n        return field;\n    }\n\n    private _processCountry(field: FormField, countries: Country[] = [], country?: Country): FormField {\n        if (!countries.length) {\n            return field;\n        }\n\n        const { code = '' } = country || {};\n        const items = countries.map(({ code, name }: any) => ({\n            value: code,\n            label: name,\n        }));\n\n        return {\n            ...field,\n            options: { items },\n            default: code,\n            type: 'array',\n            fieldType: 'dropdown',\n            itemtype: 'string',\n        };\n    }\n\n    private _processProvince(field: FormField, country?: Country): FormField {\n        const { subdivisions = [] } = country || {};\n\n        if (!subdivisions.length) {\n            return {\n                ...field,\n                required: false,\n            };\n        }\n\n        const items = subdivisions.map(({ code, name }: any) => ({\n            value: code,\n            label: name,\n        }));\n\n        return {\n            ...field,\n            name: 'provinceCode',\n            options: { items },\n            required: true,\n            type: 'array',\n            fieldType: 'dropdown',\n            itemtype: 'string',\n        };\n    }\n\n    private _processsPostCode(field: FormField, country?: Country): FormField {\n        const { hasPostalCodes = [] } = country || {};\n\n        if (hasPostalCodes === undefined) {\n            return field;\n        }\n\n        return { ...field, required: Boolean(hasPostalCodes) };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/form-selector.ts","export { default as createLanguageService } from './create-language-service';\nexport { default as LanguageService } from './language-service';\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale/index.ts","import { getDefaultLogger } from '../common/log';\n\nimport LanguageConfig from './language-config';\nimport LanguageService from './language-service';\n\nexport default function createLanguageService(config: Partial<LanguageConfig> = {}): LanguageService {\n    return new LanguageService(\n        config,\n        getDefaultLogger()\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale/create-language-service.ts","module.exports = require(\"messageformat\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"messageformat\"\n// module id = 252\n// module chunks = 0"],"sourceRoot":""}