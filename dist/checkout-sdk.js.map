{"version":3,"sources":["webpack:///webpack/bootstrap e97b43df829051444c42","webpack:///external \"tslib\"","webpack:///./src/common/error/errors/index.ts","webpack:///external \"@bigcommerce/data-store\"","webpack:///./src/common/selector/index.ts","webpack:///external \"lodash\"","webpack:///external \"rxjs/Observable\"","webpack:///./src/payment/strategies/payment-strategy.ts","webpack:///./src/checkout/index.ts","webpack:///./src/common/utility/index.ts","webpack:///./src/cart/index.ts","webpack:///./src/order/index.ts","webpack:///./src/common/http-request/index.ts","webpack:///./src/payment/errors/index.ts","webpack:///./src/payment/index.ts","webpack:///./src/customer/index.ts","webpack:///./src/address/index.ts","webpack:///./src/coupon/index.ts","webpack:///./src/shipping/index.ts","webpack:///./src/common/error/errors/standard-error.ts","webpack:///external \"@bigcommerce/request-sender\"","webpack:///./src/payment/payment-status-types.ts","webpack:///./src/billing/index.ts","webpack:///./src/billing/billing-address-actions.ts","webpack:///./src/coupon/coupon-actions.ts","webpack:///./src/shipping/consignment-actions.ts","webpack:///./src/remote-checkout/index.ts","webpack:///./src/customer/strategies/customer-strategy.ts","webpack:///./src/coupon/gift-certificate-actions.ts","webpack:///external \"rxjs/observable/concat\"","webpack:///./src/config/index.ts","webpack:///./src/geography/index.ts","webpack:///./src/checkout/checkout-actions.ts","webpack:///./src/common/error/errors/request-error.ts","webpack:///./src/checkout/checkout-request-sender.ts","webpack:///./src/order/order-actions.ts","webpack:///./src/payment/payment-method-types.ts","webpack:///external \"@bigcommerce/script-loader\"","webpack:///./src/remote-checkout/methods/amazon-pay/index.ts","webpack:///./src/common/registry/index.ts","webpack:///./src/payment/strategies/braintree/index.ts","webpack:///./src/payment/is-vaulted-instrument.ts","webpack:///./src/shipping/shipping-strategy-actions.ts","webpack:///./src/shipping/strategies/shipping-strategy.ts","webpack:///./src/payment/instrument/index.ts","webpack:///./src/checkout/checkout-default-includes.ts","webpack:///./src/checkout/checkout-action-creator.ts","webpack:///external \"rxjs/observable/defer\"","webpack:///./src/common/utility/is-private.ts","webpack:///./src/common/utility/omit-deep.ts","webpack:///./src/checkout/checkout-client.ts","webpack:///./src/checkout/checkout-selector.ts","webpack:///./src/common/selector/selector-decorator.ts","webpack:///./src/checkout/checkout-service.ts","webpack:///./src/common/error/index.ts","webpack:///./src/common/error/request-error-factory.ts","webpack:///./src/cart/map-to-internal-cart.ts","webpack:///external \"@bigcommerce/form-poster\"","webpack:///./src/remote-checkout/remote-checkout-action-types.ts","webpack:///./src/payment/payment-action-creator.ts","webpack:///./src/order/errors/index.ts","webpack:///./src/payment/strategies/braintree/braintree-payment-processor.ts","webpack:///./src/payment/strategies/braintree/braintree-visacheckout-payment-processor.ts","webpack:///./src/payment/strategies/braintree/braintree-script-loader.ts","webpack:///./src/payment/strategies/braintree/braintree-sdk-creator.ts","webpack:///./src/customer/customer-action-creator.ts","webpack:///./src/customer/customer-actions.ts","webpack:///./src/customer/customer-strategy-actions.ts","webpack:///./src/shipping/consignment-action-creator.ts","webpack:///./src/remote-checkout/errors/index.ts","webpack:///./src/shipping/shipping-country-action-types.ts","webpack:///./src/shipping/map-to-internal-shipping-option.ts","webpack:///./src/payment/payment-actions.ts","webpack:///./src/payment/payment-method-action-creator.ts","webpack:///./src/payment/payment-method-action-types.ts","webpack:///./src/payment/payment-request-sender.ts","webpack:///./src/payment/payment-strategy-registry.ts","webpack:///./src/payment/strategies/credit-card-payment-strategy.ts","webpack:///./src/payment/strategies/square/index.ts","webpack:///external \"rxjs/observable/from\"","webpack:///./src/payment/payment-strategy-actions.ts","webpack:///./src/payment/payment-strategy-state.ts","webpack:///./src/cart/map-to-internal-line-items.ts","webpack:///./src/cart/map-gift-certificate-to-internal-line-item.ts","webpack:///./src/cart/map-to-internal-line-item.ts","webpack:///./src/checkout/checkout-validator.ts","webpack:///./src/checkout/create-checkout-client.ts","webpack:///./src/config/config-actions.ts","webpack:///./src/geography/country-action-types.ts","webpack:///./src/payment/instrument/instrument-action-types.ts","webpack:///./src/checkout/create-checkout-store.ts","webpack:///./src/checkout/create-internal-checkout-selectors.ts","webpack:///./src/quote/index.ts","webpack:///./src/common/log/index.ts","webpack:///./src/common/error/errors/invalid-argument-error.ts","webpack:///./src/common/utility/bind-decorator.ts","webpack:///./src/common/utility/create-freeze-proxy.ts","webpack:///./src/common/utility/cancellable-promise.ts","webpack:///./src/common/utility/get-environment.ts","webpack:///./src/common/utility/is-equal.ts","webpack:///./src/common/utility/merge-or-push.ts","webpack:///./src/common/utility/omit-private.ts","webpack:///./src/common/utility/set-prototype-of.ts","webpack:///./src/common/utility/to-single-line.ts","webpack:///./src/common/error/errors/missing-data-error.ts","webpack:///./src/common/error/errors/not-implemented-error.ts","webpack:///./src/common/error/errors/not-initialized-error.ts","webpack:///./src/common/error/errors/timeout-error.ts","webpack:///./src/common/error/errors/unrecoverable-error.ts","webpack:///./src/common/error/errors/unsupported-browser-error.ts","webpack:///./src/common/http-request/content-type.ts","webpack:///./src/common/http-request/to-form-url-encoded.ts","webpack:///./src/common/selector/cache-key-resolver.ts","webpack:///./src/checkout/create-checkout-selectors.ts","webpack:///./src/checkout/create-checkout-service-error-transformer.ts","webpack:///./src/common/error/create-request-error-factory.ts","webpack:///./src/payment/errors/payment-argument-invalid-error.ts","webpack:///./src/payment/errors/payment-method-invalid-error.ts","webpack:///./src/payment/errors/payment-method-cancelled-error.ts","webpack:///./src/common/error/error-message-transformer.ts","webpack:///./src/checkout/checkout-store-error-selector.ts","webpack:///./src/checkout/checkout-store-selector.ts","webpack:///./src/address/is-address-equal.ts","webpack:///./src/address/map-from-internal-address.ts","webpack:///./src/address/map-to-internal-address.ts","webpack:///./src/cart/amount-transformer.ts","webpack:///./src/cart/cart-comparator.ts","webpack:///./src/cart/cart-reducer.ts","webpack:///./src/cart/cart-request-sender.ts","webpack:///./src/cart/cart-selector.ts","webpack:///./src/coupon/coupon-action-creator.ts","webpack:///./src/coupon/coupon-request-sender.ts","webpack:///./src/coupon/coupon-selector.ts","webpack:///./src/coupon/coupon-reducer.ts","webpack:///./src/order/order-action-creator.ts","webpack:///./src/order/order-reducer.ts","webpack:///./src/order/order-request-sender.ts","webpack:///./src/order/order-selector.ts","webpack:///./src/order/map-to-internal-order.ts","webpack:///./src/payment/create-payment-client.ts","webpack:///external \"@bigcommerce/bigpay-client\"","webpack:///./src/payment/create-payment-strategy-registry.ts","webpack:///./src/billing/billing-address-selector.ts","webpack:///./src/billing/billing-address-action-creator.ts","webpack:///./src/billing/billing-address-request-sender.ts","webpack:///./src/billing/billing-address-reducer.ts","webpack:///./src/remote-checkout/remote-checkout-action-creator.ts","webpack:///./src/remote-checkout/remote-checkout-request-sender.ts","webpack:///./src/remote-checkout/remote-checkout-selector.ts","webpack:///./src/remote-checkout/remote-checkout-reducer.ts","webpack:///./src/remote-checkout/methods/afterpay/index.ts","webpack:///./src/remote-checkout/methods/afterpay/afterpay-script-loader.ts","webpack:///./src/remote-checkout/methods/amazon-pay/amazon-pay-script-loader.ts","webpack:///./src/remote-checkout/methods/klarna/index.ts","webpack:///./src/remote-checkout/methods/klarna/klarna-script-loader.ts","webpack:///./src/remote-checkout/methods/wepay/index.ts","webpack:///./src/remote-checkout/methods/wepay/wepay-risk-client.ts","webpack:///./src/customer/create-customer-strategy-registry.ts","webpack:///./src/common/registry/registry.ts","webpack:///./src/payment/strategies/braintree/braintree-credit-card-payment-strategy.ts","webpack:///./src/payment/is-credit-card-like.ts","webpack:///./src/order/errors/order-finalization-not-required-error.ts","webpack:///./src/payment/strategies/braintree/braintree-paypal-payment-strategy.ts","webpack:///./src/payment/strategies/braintree/create-braintree-payment-processor.ts","webpack:///./src/payment/strategies/braintree/create-braintree-visacheckout-payment-processor.ts","webpack:///./src/payment/strategies/braintree/visacheckout-script-loader.ts","webpack:///./src/payment/strategies/braintree/braintree-visacheckout-payment-strategy.ts","webpack:///./src/payment/strategies/chasepay/index.ts","webpack:///./src/payment/strategies/chasepay/chasepay-script-loader.ts","webpack:///./src/customer/strategies/index.ts","webpack:///./src/customer/strategies/amazon-pay-customer-strategy.ts","webpack:///./src/customer/strategies/default-customer-strategy.ts","webpack:///./src/customer/strategies/braintree-visacheckout-customer-strategy.ts","webpack:///./src/customer/strategies/chasepay-customer-strategy.ts","webpack:///./src/customer/customer-reducer.ts","webpack:///./src/customer/customer-request-sender.ts","webpack:///./src/customer/customer-selector.ts","webpack:///./src/customer/customer-strategy-action-creator.ts","webpack:///./src/customer/customer-strategy-selector.ts","webpack:///./src/customer/customer-strategy-reducer.ts","webpack:///./src/customer/customer-strategy-state.ts","webpack:///./src/customer/map-to-internal-customer.ts","webpack:///./src/shipping/create-shipping-strategy-registry.ts","webpack:///./src/shipping/strategies/index.ts","webpack:///./src/shipping/strategies/amazon-pay-shipping-strategy.ts","webpack:///./src/remote-checkout/errors/remote-checkout-synchronization-error.ts","webpack:///./src/shipping/strategies/default-shipping-strategy.ts","webpack:///./src/shipping/consignment-selector.ts","webpack:///./src/shipping/consignment-reducer.ts","webpack:///./src/shipping/consignment-request-sender.ts","webpack:///./src/shipping/shipping-address-selector.ts","webpack:///./src/shipping/shipping-country-action-creator.ts","webpack:///./src/shipping/shipping-country-request-sender.ts","webpack:///./src/shipping/shipping-country-selector.ts","webpack:///./src/shipping/shipping-country-reducer.ts","webpack:///./src/shipping/shipping-option-selector.ts","webpack:///./src/shipping/shipping-strategy-action-creator.ts","webpack:///./src/shipping/shipping-strategy-selector.ts","webpack:///./src/shipping/shipping-strategy-reducer.ts","webpack:///./src/shipping/shipping-strategy-state.ts","webpack:///./src/shipping/map-to-internal-shipping-options.ts","webpack:///./src/payment/strategies/index.ts","webpack:///./src/payment/strategies/afterpay-payment-strategy.ts","webpack:///./src/payment/strategies/amazon-pay-payment-strategy.ts","webpack:///./src/payment/strategies/klarna-payment-strategy.ts","webpack:///./src/payment/strategies/legacy-payment-strategy.ts","webpack:///./src/payment/strategies/no-payment-data-required-strategy.ts","webpack:///./src/payment/strategies/offline-payment-strategy.ts","webpack:///./src/payment/strategies/offsite-payment-strategy.ts","webpack:///./src/payment/strategies/paypal-express-payment-strategy.ts","webpack:///./src/payment/strategies/paypal-pro-payment-strategy.ts","webpack:///./src/payment/strategies/sage-pay-payment-strategy.ts","webpack:///./src/payment/strategies/wepay-payment-strategy.ts","webpack:///./src/payment/strategies/square/square-payment-strategy.ts","webpack:///./src/payment/strategies/square/square-script-loader.ts","webpack:///./src/payment/payment-method-reducer.ts","webpack:///./src/payment/payment-method-request-sender.ts","webpack:///./src/payment/payment-method-selector.ts","webpack:///./src/payment/payment-reducer.ts","webpack:///./src/payment/payment-selector.ts","webpack:///./src/payment/payment-strategy-action-creator.ts","webpack:///external \"rxjs/observable/empty\"","webpack:///./src/payment/payment-strategy-reducer.ts","webpack:///./src/payment/payment-strategy-selector.ts","webpack:///./src/coupon/gift-certificate-action-creator.ts","webpack:///./src/coupon/gift-certificate-request-sender.ts","webpack:///./src/coupon/gift-certificate-selector.ts","webpack:///./src/coupon/gift-certificate-reducer.ts","webpack:///./src/coupon/map-to-internal-coupon.ts","webpack:///./src/coupon/map-to-internal-gift-certificate.ts","webpack:///./src/promotion/index.ts","webpack:///./src/promotion/map-to-discount-notifications.ts","webpack:///./src/quote/map-to-internal-quote.ts","webpack:///./src/checkout/checkout-store-status-selector.ts","webpack:///./src/cart/errors/index.ts","webpack:///./src/cart/errors/cart-changed-error.ts","webpack:///./src/config/config-action-creator.ts","webpack:///./src/config/config-selector.ts","webpack:///./src/config/config-reducer.ts","webpack:///./src/config/config-request-sender.ts","webpack:///./src/geography/country-action-creator.ts","webpack:///./src/geography/country-request-sender.ts","webpack:///./src/geography/country-selector.ts","webpack:///./src/geography/country-reducer.ts","webpack:///./src/checkout/create-checkout-service.ts","webpack:///./src/common/log/console-logger.ts","webpack:///./src/common/log/noop-logger.ts","webpack:///./src/payment/instrument/instrument-action-creator.ts","webpack:///./src/common/date-time/index.ts","webpack:///./src/common/date-time/add-minutes.ts","webpack:///./src/common/date-time/is-future.ts","webpack:///./src/payment/instrument/instrument-request-sender.ts","webpack:///./src/payment/instrument/instrument-selector.ts","webpack:///./src/payment/instrument/instrument-reducer.ts","webpack:///./src/checkout/create-action-transformer.ts","webpack:///external \"rxjs/operators\"","webpack:///./src/checkout/create-checkout-store-reducer.ts","webpack:///./src/checkout/checkout-reducer.ts","webpack:///./src/form/index.ts","webpack:///./src/form/form-selector.ts","webpack:///./src/locale/language-service.ts","webpack:///./src/index.ts","webpack:///./src/locale/index.ts","webpack:///./src/locale/create-language-service.ts","webpack:///external \"messageformat\""],"names":[],"mappings":"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","file":"checkout-sdk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 260);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e97b43df829051444c42","module.exports = require(\"tslib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tslib\"\n// module id = 0\n// module chunks = 0 1","export { default as InvalidArgumentError } from './invalid-argument-error';\nexport { default as MissingDataError, MissingDataErrorType } from './missing-data-error';\nexport { default as NotImplementedError } from './not-implemented-error';\nexport { default as NotInitializedError, NotInitializedErrorType } from './not-initialized-error';\nexport { default as RequestError } from './request-error';\nexport { default as StandardError } from './standard-error';\nexport { default as TimeoutError } from './timeout-error';\nexport { default as UnrecoverableError } from './unrecoverable-error';\nexport { default as UnsupportedBrowserError } from './unsupported-browser-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/index.ts","module.exports = require(\"@bigcommerce/data-store\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/data-store\"\n// module id = 2\n// module chunks = 0 1","export { default as selectorDecorator } from './selector-decorator';\nexport { default as selector } from './selector-decorator';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/selector/index.ts","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 4\n// module chunks = 0 1","module.exports = require(\"rxjs/Observable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Observable\"\n// module id = 5\n// module chunks = 0 1","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderRequestBody } from '../../order';\nimport { OrderFinalizationNotRequiredError } from '../../order/errors';\n\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nexport default abstract class PaymentStrategy {\n    protected _isInitialized = false;\n\n    constructor(\n        protected _store: CheckoutStore\n    ) {}\n\n    abstract execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return Promise.reject(new OrderFinalizationNotRequiredError());\n    }\n\n    initialize(options?: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = true;\n\n        return Promise.resolve(this._store.getState());\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = false;\n\n        return Promise.resolve(this._store.getState());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/payment-strategy.ts","export * from './checkout-actions';\n\nexport { default as Checkout, CheckoutPayment } from './checkout';\nexport { default as CheckoutDefaultIncludes } from './checkout-default-includes';\nexport { default as CheckoutActionCreator } from './checkout-action-creator';\nexport { default as CheckoutClient } from './checkout-client';\nexport { default as CheckoutParams } from './checkout-params';\nexport { default as CheckoutRequestSender } from './checkout-request-sender';\nexport { default as CheckoutSelector } from './checkout-selector';\nexport { default as CheckoutSelectors } from './checkout-selectors';\nexport { default as CheckoutService } from './checkout-service';\nexport { default as CheckoutState } from './checkout-state';\nexport { default as CheckoutStoreErrorSelector } from './checkout-store-error-selector';\nexport { default as CheckoutStoreSelector } from './checkout-store-selector';\nexport { default as CheckoutStoreState } from './checkout-store-state';\nexport { default as CheckoutStoreStatusSelector } from './checkout-store-status-selector';\nexport { default as CheckoutStore, ReadableCheckoutStore } from './checkout-store';\nexport { default as CheckoutValidator } from './checkout-validator';\nexport { default as InternalCheckoutSelectors } from './internal-checkout-selectors';\n\nexport { default as createCheckoutClient } from './create-checkout-client';\nexport { default as createCheckoutService } from './create-checkout-service';\nexport { default as createCheckoutStore } from './create-checkout-store';\nexport { default as createInternalCheckoutSelectors } from './create-internal-checkout-selectors';\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/index.ts","export { default as bindDecorator } from './bind-decorator';\nexport { default as createFreezeProxy, createFreezeProxies } from './create-freeze-proxy';\nexport { default as CancellablePromise } from './cancellable-promise';\nexport { default as getEnvironment } from './get-environment';\nexport { default as isEqual } from './is-equal';\nexport { default as isPrivate } from './is-private';\nexport { default as mergeOrPush } from './merge-or-push';\nexport { default as omitDeep } from './omit-deep';\nexport { default as omitPrivate } from './omit-private';\nexport { default as setPrototypeOf } from './set-prototype-of';\nexport { default as toSingleLine } from './to-single-line';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/index.ts","export { default as AmountTransformer } from './amount-transformer';\nexport { default as Cart } from './cart';\nexport { default as InternalCart } from './internal-cart';\nexport { default as InternalLineItem } from './internal-line-item';\nexport { DigitalItem, GiftCertificateItem, LineItem, PhysicalItem } from './line-item';\nexport { default as LineItemMap } from './line-item-map';\n\nexport { default as CartComparator } from './cart-comparator';\nexport { default as cartReducer } from './cart-reducer';\nexport { default as CartRequestSender } from './cart-request-sender';\nexport { default as CartSelector } from './cart-selector';\nexport { default as CartState } from './cart-state';\n\nexport { default as map } from './map-to-internal-cart';\nexport { default as mapGiftCertificateToInternalLineItem } from './map-gift-certificate-to-internal-line-item';\nexport { default as mapToInternalCart } from './map-to-internal-cart';\nexport { default as mapToInternalLineItem } from './map-to-internal-line-item';\nexport { default as mapToInternalLineItems } from './map-to-internal-line-items';\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/index.ts","export * from './internal-order-responses';\nexport * from './order-actions';\n\nexport { default as Order, GatewayOrderPayment } from './order';\nexport { default as InternalOrder, InternalIncompleteOrder, InternalOrderPayment } from './internal-order';\nexport { default as InternalOrderRequestBody } from './internal-order-request-body';\n\nexport { default as OrderActionCreator } from './order-action-creator';\nexport { default as orderReducer } from './order-reducer';\nexport { default as OrderRequestBody, OrderPaymentRequestBody } from './order-request-body';\nexport { default as OrderRequestSender } from './order-request-sender';\nexport { default as OrderSelector } from './order-selector';\nexport { default as OrderState } from './order-state';\n\nexport { default as mapToInternalOrder } from './map-to-internal-order';\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/index.ts","export { default as InternalResponseBody } from './internal-response-body';\nexport { default as ContentType } from './content-type';\nexport { default as RequestOptions } from './request-options';\nexport { default as toFormUrlEncoded } from './to-form-url-encoded';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/http-request/index.ts","export { default as PaymentArgumentInvalidError } from './payment-argument-invalid-error';\nexport { default as PaymentMethodInvalidError } from './payment-method-invalid-error';\nexport { default as PaymentMethodCancelledError } from './payment-method-cancelled-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/errors/index.ts","export * from './payment-request-options';\nexport * from './payment-method-responses';\nexport * from './payment-method-types';\nexport * from './payment-status-types';\n\nexport { default as createPaymentClient } from './create-payment-client';\nexport { default as createPaymentStrategyRegistry } from './create-payment-strategy-registry';\nexport { default as PaymentActionCreator } from './payment-action-creator';\nexport { default as Payment, CreditCardInstrument, VaultedInstrument, PaymentInstrument } from './payment';\nexport { default as PaymentMethod } from './payment-method';\nexport { default as PaymentMethodsMeta } from './payment-method-meta';\nexport { default as PaymentMethodConfig } from './payment-method-config';\nexport { default as PaymentMethodActionCreator } from './payment-method-action-creator';\nexport { default as paymentMethodReducer } from './payment-method-reducer';\nexport { default as PaymentMethodRequestSender } from './payment-method-request-sender';\nexport { default as PaymentMethodSelector } from './payment-method-selector';\nexport { default as PaymentMethodState } from './payment-method-state';\nexport { default as paymentReducer } from './payment-reducer';\nexport { default as PaymentRequestSender } from './payment-request-sender';\nexport { default as PaymentSelector } from './payment-selector';\nexport { default as PaymentState } from './payment-state';\nexport { default as PaymentStrategyActionCreator } from './payment-strategy-action-creator';\nexport { default as paymentStrategyReducer } from './payment-strategy-reducer';\nexport { default as PaymentStrategyRegistry } from './payment-strategy-registry';\nexport { default as PaymentStrategySelector } from './payment-strategy-selector';\nexport { default as PaymentStrategyState } from './payment-strategy-state';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/index.ts","export * from './customer-request-options';\n\nexport { default as InternalCustomer } from './internal-customer';\nexport { default as Customer } from './customer';\n\nexport { default as createCustomerStrategyRegistry } from './create-customer-strategy-registry';\nexport { CustomerAction, CustomerActionType } from './customer-actions';\nexport { default as customerReducer } from './customer-reducer';\nexport { default as CustomerActionCreator } from './customer-action-creator';\nexport { default as CustomerCredentials } from './customer-credentials';\nexport { default as CustomerRequestSender } from './customer-request-sender';\nexport { default as CustomerSelector } from './customer-selector';\nexport { default as CustomerState } from './customer-state';\nexport { default as CustomerStrategyActionCreator } from './customer-strategy-action-creator';\nexport { default as CustomerStrategySelector } from './customer-strategy-selector';\nexport { default as CustomerStrategyState } from './customer-strategy-state';\nexport { default as customerStrategyReducer } from './customer-strategy-reducer';\nexport { default as GuestCredentials } from './guest-credentials';\n\nexport { default as mapToInternalCustomer } from './map-to-internal-customer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/index.ts","export { default as Address, AddressRequestBody } from './address';\nexport { default as InternalAddress } from './internal-address';\nexport { default as isAddressEqual } from './is-address-equal';\n\nexport { default as mapFromInternalAddress } from './map-from-internal-address';\nexport { default as mapToInternalAddress } from './map-to-internal-address';\n\n\n\n// WEBPACK FOOTER //\n// ./src/address/index.ts","export * from './coupon-actions';\nexport * from './gift-certificate-actions';\n\nexport { default as Coupon } from './coupon';\nexport { default as CouponState } from './coupon-state';\nexport { default as InternalCoupon } from './internal-coupon';\nexport { default as CouponActionCreator } from './coupon-action-creator';\nexport { default as CouponRequestSender } from './coupon-request-sender';\nexport { default as CouponSelector } from './coupon-selector';\nexport { default as couponReducer } from './coupon-reducer';\n\nexport { default as GiftCertificate } from './gift-certificate';\nexport { default as GiftCertificateState } from './gift-certificate-state';\nexport { default as InternalGiftCertificate } from './internal-gift-certificate';\nexport { default as GiftCertificateActionCreator } from './gift-certificate-action-creator';\nexport { default as GiftCertificateRequestSender } from './gift-certificate-request-sender';\nexport { default as GiftCertificateSelector } from './gift-certificate-selector';\nexport { default as giftCertificateReducer } from './gift-certificate-reducer';\n\nexport { default as mapToInternalCoupon } from './map-to-internal-coupon';\nexport { default as mapToInternalGiftCertificate } from './map-to-internal-gift-certificate';\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/index.ts","export * from './consignment-actions';\nexport * from './shipping-request-options';\n\nexport { default as createShippingStrategyRegistry } from './create-shipping-strategy-registry';\n\nexport { default as Consignment, ConsignmentsRequestBody, ConsignmentRequestBody } from './consignment';\nexport { default as ConsignmentSelector } from './consignment-selector';\nexport { default as ConsignmentState } from './consignment-state';\nexport { default as consignmentReducer } from './consignment-reducer';\nexport { default as ConsignmentActionCreator } from './consignment-action-creator';\nexport { default as ConsignmentRequestSender } from './consignment-request-sender';\n\nexport { default as ShippingAddressSelector } from './shipping-address-selector';\n\nexport { default as ShippingCountryActionCreator } from './shipping-country-action-creator';\nexport { default as ShippingCountryRequestSender } from './shipping-country-request-sender';\nexport { default as ShippingCountrySelector } from './shipping-country-selector';\nexport { default as ShippingCountryState } from './shipping-country-state';\nexport { default as shippingCountryReducer } from './shipping-country-reducer';\n\nexport { default as ShippingOption } from './shipping-option';\nexport { default as ShippingOptionState } from './shipping-option-state';\nexport { default as InternalShippingOption, InternalShippingOptionList } from './internal-shipping-option';\nexport { default as ShippingOptionSelector } from './shipping-option-selector';\n\nexport { default as ShippingStrategyActionCreator } from './shipping-strategy-action-creator';\nexport { default as ShippingStrategySelector } from './shipping-strategy-selector';\nexport { default as ShippingStrategyState } from './shipping-strategy-state';\nexport { default as shippingStrategyReducer } from './shipping-strategy-reducer';\n\nexport { default as mapToInternalShippingOption } from './map-to-internal-shipping-option';\nexport { default as mapToInternalShippingOptions } from './map-to-internal-shipping-options';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/index.ts","import { setPrototypeOf } from '../../utility';\n\nexport default class StandardError extends Error {\n    type = 'standard';\n\n    constructor(message?: string) {\n        super(message || 'An unexpected error has occurred.');\n\n        setPrototypeOf(this, new.target.prototype);\n\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, new.target);\n        } else {\n            this.stack = (new Error(this.message)).stack;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/standard-error.ts","module.exports = require(\"@bigcommerce/request-sender\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/request-sender\"\n// module id = 19\n// module chunks = 0 1","export const ACKNOWLEDGE = 'ACKNOWLEDGE';\nexport const FINALIZE = 'FINALIZE';\nexport const INITIALIZE = 'INITIALIZE';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-status-types.ts","export * from './billing-address-actions';\n\nexport { default as BillingAddressSelector } from './billing-address-selector';\nexport { default as BillingAddressActionCreator } from './billing-address-action-creator';\nexport { default as BillingAddressState } from './billing-address-state';\nexport { default as BillingAddressRequestSender } from './billing-address-request-sender';\nexport { default as billingAddressReducer } from './billing-address-reducer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/index.ts","import { Action } from '@bigcommerce/data-store';\n\nimport { Checkout } from '../checkout';\n\nexport enum BillingAddressActionType {\n    UpdateBillingAddressRequested = 'UPDATE_BILLING_ADDRESS_REQUESTED',\n    UpdateBillingAddressSucceeded = 'UPDATE_BILLING_ADDRESS_SUCCEEDED',\n    UpdateBillingAddressFailed = 'UPDATE_BILLING_ADDRESS_FAILED',\n}\n\nexport type BillingAddressAction =\n    UpdateBillingAddressAction;\n\nexport type UpdateBillingAddressAction =\n    UpdateBillingAddressRequested |\n    UpdateBillingAddressSucceeded |\n    UpdateBillingAddressFailed;\n\nexport interface UpdateBillingAddressRequested extends Action {\n    type: BillingAddressActionType.UpdateBillingAddressRequested;\n}\n\nexport interface UpdateBillingAddressSucceeded extends Action<Checkout> {\n    type: BillingAddressActionType.UpdateBillingAddressSucceeded;\n}\n\nexport interface UpdateBillingAddressFailed extends Action<Error> {\n    type: BillingAddressActionType.UpdateBillingAddressFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-actions.ts","import { Action } from '@bigcommerce/data-store';\n\nimport { Checkout } from '../checkout';\n\nexport enum CouponActionType {\n    ApplyCouponRequested = 'APPLY_COUPON_REQUESTED',\n    ApplyCouponSucceeded = 'APPLY_COUPON_SUCCEEDED',\n    ApplyCouponFailed = 'APPLY_COUPON_FAILED',\n\n    RemoveCouponRequested = 'REMOVE_COUPON_REQUESTED',\n    RemoveCouponSucceeded = 'REMOVE_COUPON_SUCCEEDED',\n    RemoveCouponFailed = 'REMOVE_COUPON_FAILED',\n}\n\nexport type CouponAction =\n    ApplyCouponAction |\n    RemoveCouponAction;\n\nexport type ApplyCouponAction =\n    ApplyCouponRequestedAction |\n    ApplyCouponSucceededAction |\n    ApplyCouponFailedAction;\n\nexport type RemoveCouponAction =\n    RemoveCouponRequestedAction |\n    RemoveCouponSucceededAction |\n    RemoveCouponFailedAction;\n\nexport interface ApplyCouponRequestedAction extends Action {\n    type: CouponActionType.ApplyCouponRequested;\n}\n\nexport interface ApplyCouponSucceededAction extends Action<Checkout> {\n    type: CouponActionType.ApplyCouponSucceeded;\n}\n\nexport interface ApplyCouponFailedAction extends Action<Error> {\n    type: CouponActionType.ApplyCouponFailed;\n}\n\nexport interface RemoveCouponRequestedAction extends Action {\n    type: CouponActionType.RemoveCouponRequested;\n}\n\nexport interface RemoveCouponSucceededAction extends Action<Checkout> {\n    type: CouponActionType.RemoveCouponSucceeded;\n}\n\nexport interface RemoveCouponFailedAction extends Action<Error> {\n    type: CouponActionType.RemoveCouponFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-actions.ts","import { Action } from '@bigcommerce/data-store';\n\nimport { Checkout } from '../checkout';\n\nexport enum ConsignmentActionType {\n    CreateConsignmentsRequested = 'CREATE_CONSIGNMENTS_REQUESTED',\n    CreateConsignmentsSucceeded = 'CREATE_CONSIGNMENTS_SUCCEEDED',\n    CreateConsignmentsFailed = 'CREATE_CONSIGNMENTS_FAILED',\n\n    UpdateConsignmentRequested = 'UPDATE_CONSIGNMENT_REQUESTED',\n    UpdateConsignmentSucceeded = 'UPDATE_CONSIGNMENT_SUCCEEDED',\n    UpdateConsignmentFailed = 'UPDATE_CONSIGNMENT_FAILED',\n}\n\nexport type ConsignmentAction =\n    CreateConsignmentsAction |\n    UpdateConsignmentAction;\n\nexport type CreateConsignmentsAction =\n    CreateConsignmentsRequestedAction |\n    CreateConsignmentsSucceededAction |\n    CreateConsignmentsFailedAction;\n\nexport type UpdateConsignmentAction =\n    UpdateConsignmentRequestedAction |\n    UpdateConsignmentSucceededAction |\n    UpdateConsignmentFailedAction;\n\nexport interface CreateConsignmentsRequestedAction extends Action {\n    type: ConsignmentActionType.CreateConsignmentsRequested;\n}\n\nexport interface CreateConsignmentsSucceededAction extends Action<Checkout> {\n    type: ConsignmentActionType.CreateConsignmentsSucceeded;\n}\n\nexport interface CreateConsignmentsFailedAction extends Action<Error> {\n    type: ConsignmentActionType.CreateConsignmentsFailed;\n}\n\nexport interface UpdateConsignmentRequestedAction extends Action {\n    type: ConsignmentActionType.UpdateConsignmentRequested;\n}\n\nexport interface UpdateConsignmentSucceededAction extends Action<Checkout> {\n    type: ConsignmentActionType.UpdateConsignmentSucceeded;\n}\n\nexport interface UpdateConsignmentFailedAction extends Action<Error> {\n    type: ConsignmentActionType.UpdateConsignmentFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/consignment-actions.ts","export { default as RemoteCheckoutActionCreator } from './remote-checkout-action-creator';\nexport { default as RemoteCheckoutRequestSender } from './remote-checkout-request-sender';\nexport { default as RemoteCheckoutSelector } from './remote-checkout-selector';\nexport { default as RemoteCheckoutState, RemoteCheckoutStateData } from './remote-checkout-state';\nexport { default as remoteCheckoutReducer } from './remote-checkout-reducer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/index.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport CustomerCredentials from '../customer-credentials';\n\nimport { CustomerInitializeOptions, CustomerRequestOptions } from '../customer-request-options';\n\nexport default abstract class CustomerStrategy {\n    protected _isInitialized = false;\n\n    constructor(\n        protected _store: CheckoutStore\n    ) {}\n\n    abstract signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    abstract signOut(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    initialize(options?: CustomerInitializeOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = true;\n\n        return Promise.resolve(this._store.getState());\n    }\n\n    deinitialize(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = false;\n\n        return Promise.resolve(this._store.getState());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/customer-strategy.ts","import { Action } from '@bigcommerce/data-store';\n\nimport { Checkout } from '../checkout';\n\nexport enum GiftCertificateActionType {\n    ApplyGiftCertificateRequested = 'APPLY_GIFT_CERTIFICATE_REQUESTED',\n    ApplyGiftCertificateSucceeded = 'APPLY_GIFT_CERTIFICATE_SUCCEEDED',\n    ApplyGiftCertificateFailed = 'APPLY_GIFT_CERTIFICATE_FAILED',\n\n    RemoveGiftCertificateRequested = 'REMOVE_GIFT_CERTIFICATE_REQUESTED',\n    RemoveGiftCertificateSucceeded = 'REMOVE_GIFT_CERTIFICATE_SUCCEEDED',\n    RemoveGiftCertificateFailed = 'REMOVE_GIFT_CERTIFICATE_FAILED',\n}\n\nexport type GiftCertificateAction =\n    ApplyGiftCertificateAction |\n    RemoveGiftCertificateAction;\n\nexport type ApplyGiftCertificateAction =\n    ApplyGiftCertificateRequestedAction |\n    ApplyGiftCertificateSucceededAction |\n    ApplyGiftCertificateFailedAction;\n\nexport type RemoveGiftCertificateAction =\n    RemoveGiftCertificateRequestedAction |\n    RemoveGiftCertificateSucceededAction |\n    RemoveGiftCertificateFailedAction;\n\nexport interface ApplyGiftCertificateRequestedAction extends Action {\n    type: GiftCertificateActionType.ApplyGiftCertificateRequested;\n}\n\nexport interface ApplyGiftCertificateSucceededAction extends Action<Checkout> {\n    type: GiftCertificateActionType.ApplyGiftCertificateSucceeded;\n}\n\nexport interface ApplyGiftCertificateFailedAction extends Action<Error> {\n    type: GiftCertificateActionType.ApplyGiftCertificateFailed;\n}\n\nexport interface RemoveGiftCertificateRequestedAction extends Action {\n    type: GiftCertificateActionType.RemoveGiftCertificateRequested;\n}\n\nexport interface RemoveGiftCertificateSucceededAction extends Action<Checkout> {\n    type: GiftCertificateActionType.RemoveGiftCertificateSucceeded;\n}\n\nexport interface RemoveGiftCertificateFailedAction extends Action<Error> {\n    type: GiftCertificateActionType.RemoveGiftCertificateFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-actions.ts","module.exports = require(\"rxjs/observable/concat\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/observable/concat\"\n// module id = 28\n// module chunks = 0 1","export { default as Config } from './config';\nexport { default as ConfigActionCreator } from './config-action-creator';\nexport { default as ConfigSelector } from './config-selector';\nexport { default as configReducer } from './config-reducer';\nexport { default as ConfigRequestSender } from './config-request-sender';\nexport { default as ConfigState } from './config-state';\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/index.ts","export * from './country-responses';\n\nexport { default as CountryActionCreator } from './country-action-creator';\nexport { default as CountryRequestSender } from './country-request-sender';\nexport { default as Country } from './country';\nexport { default as CountrySelector } from './country-selector';\nexport { default as CountryState } from './country-state';\nexport { default as countryReducer } from './country-reducer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/index.ts","import { Action } from '@bigcommerce/data-store';\n\nimport Checkout from './checkout';\n\nexport enum CheckoutActionType {\n    LoadCheckoutRequested = 'LOAD_CHECKOUT_REQUESTED',\n    LoadCheckoutSucceeded = 'LOAD_CHECKOUT_SUCCEEDED',\n    LoadCheckoutFailed = 'LOAD_CHECKOUT_FAILED',\n}\n\nexport type CheckoutAction = LoadCheckoutAction;\n\nexport type LoadCheckoutAction =\n    LoadCheckoutRequestedAction |\n    LoadCheckoutSucceededAction |\n    LoadCheckoutFailedAction;\n\nexport interface LoadCheckoutRequestedAction extends Action {\n    type: CheckoutActionType.LoadCheckoutRequested;\n}\n\nexport interface LoadCheckoutSucceededAction extends Action<Checkout> {\n    type: CheckoutActionType.LoadCheckoutSucceeded;\n}\n\nexport interface LoadCheckoutFailedAction extends Action<Error> {\n    type: CheckoutActionType.LoadCheckoutFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-actions.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport StandardError from './standard-error';\n\nconst DEFAULT_RESPONSE = {\n    body: {},\n    headers: {},\n    status: 0,\n    statusText: '',\n};\n\nexport default class RequestError extends StandardError {\n    body: any;\n    headers: { [key: string]: any; };\n    status: number;\n    statusText: string;\n\n    constructor({ body = {}, headers, status, statusText }: Response = DEFAULT_RESPONSE, message?: string) {\n        super(joinErrors(body.errors) || body.detail || body.title || message || 'An unexpected error has occurred.');\n\n        this.type = 'request';\n        this.body = body;\n        this.headers = headers;\n        this.status = status;\n        this.statusText = statusText;\n    }\n}\n\nfunction joinErrors(errors: Array<string | { code: string, message: string }>): string | undefined {\n    if (!Array.isArray(errors)) {\n        return;\n    }\n\n    return errors.reduce((result: string[], error) => {\n        if (typeof error === 'string') {\n            return [...result, error];\n        }\n\n        if (error && error.message) {\n            return [...result, error.message];\n        }\n\n        return result;\n    }, []).join(' ');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/request-error.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { ContentType, RequestOptions } from '../common/http-request';\n\nimport Checkout from './checkout';\nimport CheckoutDefaultIncludes from './checkout-default-includes';\nimport CheckoutParams from './checkout-params';\n\nexport default class CheckoutRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadCheckout(id: string, { params, timeout }: RequestOptions<CheckoutParams> = {}): Promise<Response<Checkout>> {\n        const url = `/api/storefront/checkout/${id}`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.get(url, {\n            params: {\n                include: CheckoutDefaultIncludes.concat(params && params.include || []).join(','),\n            },\n            headers,\n            timeout,\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-request-sender.ts","import { Action } from '@bigcommerce/data-store';\n\nimport { InternalOrderResponseData } from './internal-order-responses';\nimport Order from './order';\n\nexport enum OrderActionType {\n    LoadOrderRequested = 'LOAD_ORDER_REQUESTED',\n    LoadOrderSucceeded = 'LOAD_ORDER_SUCCEEDED',\n    LoadOrderFailed = 'LOAD_ORDER_FAILED',\n\n    SubmitOrderRequested = 'SUBMIT_ORDER_REQUESTED',\n    SubmitOrderSucceeded = 'SUBMIT_ORDER_SUCCEEDED',\n    SubmitOrderFailed = 'SUBMIT_ORDER_FAILED',\n\n    FinalizeOrderRequested = 'FINALIZE_ORDER_REQUESTED',\n    FinalizeOrderSucceeded = 'FINALIZE_ORDER_SUCCEEDED',\n    FinalizeOrderFailed = 'FINALIZE_ORDER_FAILED',\n}\n\nexport type OrderAction = LoadOrderAction |\n    SubmitOrderAction |\n    FinalizeOrderAction;\n\nexport type LoadOrderAction =\n    LoadOrderRequestedAction |\n    LoadOrderSucceededAction |\n    LoadOrderFailedAction;\n\nexport type SubmitOrderAction =\n    SubmitOrderRequestedAction |\n    SubmitOrderSucceededAction |\n    SubmitOrderFailedAction;\n\nexport type FinalizeOrderAction =\n    FinalizeOrderRequestedAction |\n    FinalizeOrderSucceededAction |\n    FinalizeOrderFailedAction;\n\nexport interface LoadOrderRequestedAction extends Action {\n    type: OrderActionType.LoadOrderRequested;\n}\n\nexport interface LoadOrderSucceededAction extends Action<Order> {\n    type: OrderActionType.LoadOrderSucceeded;\n}\n\nexport interface LoadOrderFailedAction extends Action<Error> {\n    type: OrderActionType.LoadOrderFailed;\n}\n\nexport interface SubmitOrderRequestedAction extends Action {\n    type: OrderActionType.SubmitOrderRequested;\n}\n\nexport interface SubmitOrderSucceededAction extends Action<InternalOrderResponseData> {\n    type: OrderActionType.SubmitOrderSucceeded;\n}\n\nexport interface SubmitOrderFailedAction extends Action<Error> {\n    type: OrderActionType.SubmitOrderFailed;\n}\n\nexport interface FinalizeOrderRequestedAction extends Action {\n    type: OrderActionType.FinalizeOrderRequested;\n}\n\nexport interface FinalizeOrderSucceededAction extends Action<InternalOrderResponseData> {\n    type: OrderActionType.FinalizeOrderSucceeded;\n}\n\nexport interface FinalizeOrderFailedAction extends Action<Error> {\n    type: OrderActionType.FinalizeOrderFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-actions.ts","export const HOSTED = 'PAYMENT_TYPE_HOSTED';\nexport const OFFLINE = 'PAYMENT_TYPE_OFFLINE';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-types.ts","module.exports = require(\"@bigcommerce/script-loader\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/script-loader\"\n// module id = 36\n// module chunks = 0 1","export { default as AmazonPayRemoteCheckout } from './amazon-pay-remote-checkout';\nexport { default as AmazonPayScriptLoader } from './amazon-pay-script-loader';\n\nexport { default as AmazonPayAddressBook, AmazonPayAddressBookOptions } from './amazon-pay-address-book';\nexport { default as AmazonPayLoginButton, AmazonPayLoginButtonOptions } from './amazon-pay-login-button';\nexport { default as AmazonPayWallet, AmazonPayWalletOptions } from './amazon-pay-wallet';\nexport { default as AmazonPayLogin, AmazonPayLoginOptions } from './amazon-pay-login';\nexport { default as AmazonPayOrderReference } from './amazon-pay-order-reference';\nexport { default as AmazonPayWidgetError } from './amazon-pay-widget-error';\nexport { default as AmazonPayWindow } from './amazon-pay-window';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/amazon-pay/index.ts","export { default as Registry, Factory } from './registry';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/registry/index.ts","export { BraintreePaymentInitializeOptions } from './braintree-payment-options';\nexport { default as BraintreeCreditCardPaymentStrategy } from './braintree-credit-card-payment-strategy';\nexport { default as BraintreePaymentProcessor } from './braintree-payment-processor';\nexport { default as BraintreePaypalPaymentStrategy } from './braintree-paypal-payment-strategy';\nexport { default as BraintreeVisaCheckoutPaymentProcessor } from './braintree-visacheckout-payment-processor';\nexport { default as createBraintreePaymentProcessor } from './create-braintree-payment-processor';\nexport { default as createBraintreeVisaCheckoutPaymentProcessor } from './create-braintree-visacheckout-payment-processor';\nexport { default as VisaCheckoutScriptLoader } from './visacheckout-script-loader';\nexport { default as BraintreeVisaCheckoutPaymentStrategy, BraintreeVisaCheckoutPaymentInitializeOptions } from './braintree-visacheckout-payment-strategy';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/index.ts","import { PaymentInstrument, VaultedInstrument } from './payment';\n\nexport default function isVaultedInstrument(instrument: PaymentInstrument): instrument is VaultedInstrument {\n    return Boolean((instrument as VaultedInstrument).instrumentId);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/is-vaulted-instrument.ts","import { Action } from '@bigcommerce/data-store';\n\nexport enum ShippingStrategyActionType {\n    UpdateAddressFailed = 'SHIPPING_STRATEGY_UPDATE_ADDRESS_FAILED',\n    UpdateAddressRequested = 'SHIPPING_STRATEGY_UPDATE_ADDRESS_REQUESTED',\n    UpdateAddressSucceeded = 'SHIPPING_STRATEGY_UPDATE_ADDRESS_SUCCEEDED',\n    SelectOptionFailed = 'SHIPPING_STRATEGY_SELECT_OPTION_FAILED',\n    SelectOptionRequested = 'SHIPPING_STRATEGY_SELECT_OPTION_REQUESTED',\n    SelectOptionSucceeded = 'SHIPPING_STRATEGY_SELECT_OPTION_SUCCEEDED',\n    InitializeFailed = 'SHIPPING_STRATEGY_INITIALIZE_FAILED',\n    InitializeRequested = 'SHIPPING_STRATEGY_INITIALIZE_REQUESTED',\n    InitializeSucceeded = 'SHIPPING_STRATEGY_INITIALIZE_SUCCEEDED',\n    DeinitializeFailed = 'SHIPPING_STRATEGY_DEINITIALIZE_FAILED',\n    DeinitializeRequested = 'SHIPPING_STRATEGY_DEINITIALIZE_REQUESTED',\n    DeinitializeSucceeded = 'SHIPPING_STRATEGY_DEINITIALIZE_SUCCEEDED',\n}\n\nexport type ShippingStrategyAction =\n    ShippingStrategyUpdateAddressAction |\n    ShippingStrategySelectOptionAction |\n    ShippingStrategyInitializeAction |\n    ShippingStrategyDeinitializeAction;\n\nexport type ShippingStrategyUpdateAddressAction =\n    UpdateAddressRequestedAction |\n    UpdateAddressSucceededAction |\n    UpdateAddressFailedAction;\n\nexport type ShippingStrategySelectOptionAction =\n    SelectOptionRequestedAction |\n    SelectOptionSucceededAction |\n    SelectOptionFailedAction;\n\nexport type ShippingStrategyInitializeAction =\n    InitializeRequestedAction |\n    InitializeSucceededAction |\n    InitializeFailedAction;\n\nexport type ShippingStrategyDeinitializeAction =\n    DeinitializeRequestedAction |\n    DeinitializeSucceededAction |\n    DeinitializeFailedAction;\n\nexport interface UpdateAddressRequestedAction extends Action {\n    type: ShippingStrategyActionType.UpdateAddressRequested;\n}\n\nexport interface UpdateAddressSucceededAction extends Action {\n    type: ShippingStrategyActionType.UpdateAddressSucceeded;\n}\n\nexport interface UpdateAddressFailedAction extends Action<Error> {\n    type: ShippingStrategyActionType.UpdateAddressFailed;\n}\n\nexport interface SelectOptionRequestedAction extends Action {\n    type: ShippingStrategyActionType.SelectOptionRequested;\n}\n\nexport interface SelectOptionSucceededAction extends Action {\n    type: ShippingStrategyActionType.SelectOptionSucceeded;\n}\n\nexport interface SelectOptionFailedAction extends Action<Error> {\n    type: ShippingStrategyActionType.SelectOptionFailed;\n}\n\nexport interface InitializeRequestedAction extends Action {\n    type: ShippingStrategyActionType.InitializeRequested;\n}\n\nexport interface InitializeSucceededAction extends Action {\n    type: ShippingStrategyActionType.InitializeSucceeded;\n}\n\nexport interface InitializeFailedAction extends Action<Error> {\n    type: ShippingStrategyActionType.InitializeFailed;\n}\n\nexport interface DeinitializeRequestedAction extends Action {\n    type: ShippingStrategyActionType.DeinitializeRequested;\n}\n\nexport interface DeinitializeSucceededAction extends Action {\n    type: ShippingStrategyActionType.DeinitializeSucceeded;\n}\n\nexport interface DeinitializeFailedAction extends Action<Error> {\n    type: ShippingStrategyActionType.DeinitializeFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-actions.ts","import { Address } from '../../address';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\n\nimport { ShippingRequestOptions } from '../shipping-request-options';\n\nexport default abstract class ShippingStrategy {\n    protected _isInitialized = false;\n\n    constructor(\n        protected _store: CheckoutStore\n    ) {}\n\n    abstract updateAddress(address: Address, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    abstract selectOption(optionId: string, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors>;\n\n    initialize(options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = true;\n\n        return Promise.resolve(this._store.getState());\n    }\n\n    deinitialize(options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        this._isInitialized = false;\n\n        return Promise.resolve(this._store.getState());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/strategies/shipping-strategy.ts","export { default as Instrument } from './instrument';\nexport { default as InstrumentActionCreator } from './instrument-action-creator';\nexport { default as InstrumentRequestSender } from './instrument-request-sender';\nexport { default as InstrumentSelector } from './instrument-selector';\nexport { default as InstrumentState } from './instrument-state';\nexport { default as instrumentReducer } from './instrument-reducer';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/index.ts","const DEFAULT_INCLUDES = [\n    'cart.lineItems.physicalItems.options',\n    'cart.lineItems.digitalItems.options',\n    'customer',\n    'payments',\n    'promotions.banners',\n];\n\nexport default DEFAULT_INCLUDES;\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-default-includes.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { defer } from 'rxjs/observable/defer';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\n\nimport { CheckoutAction, CheckoutActionType } from './checkout-actions';\nimport CheckoutRequestSender from './checkout-request-sender';\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\nexport default class CheckoutActionCreator {\n    constructor(\n        private _checkoutRequestSender: CheckoutRequestSender\n    ) {}\n\n    loadCheckout(id: string, options?: RequestOptions): Observable<CheckoutAction> {\n        return Observable.create((observer: Observer<CheckoutAction>) => {\n            observer.next(createAction(CheckoutActionType.LoadCheckoutRequested));\n\n            this._checkoutRequestSender.loadCheckout(id, options)\n                .then(({ body }) => {\n                    observer.next(createAction(CheckoutActionType.LoadCheckoutSucceeded, body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(CheckoutActionType.LoadCheckoutFailed, response));\n                });\n        });\n    }\n\n    loadCurrentCheckout(options?: RequestOptions): ThunkAction<CheckoutAction, InternalCheckoutSelectors> {\n        return store => defer(() => {\n            const state = store.getState();\n            const checkout = state.checkout.getCheckout();\n\n            if (!checkout) {\n                throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n            }\n\n            return this.loadCheckout(checkout.id, options);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-action-creator.ts","module.exports = require(\"rxjs/observable/defer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/observable/defer\"\n// module id = 46\n// module chunks = 0 1","export default function isPrivate(key: string): boolean {\n    return `${key}`.indexOf('$$') === 0 || `${key}`.indexOf('_') === 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/is-private.ts","import { omitBy, transform } from 'lodash';\n\nexport default function omitDeep(object: any, predicate: (value: any, key: string) => boolean): any {\n    if (Array.isArray(object)) {\n        return object.map(value => omitDeep(value, predicate));\n    }\n\n    if (typeof object === 'object') {\n        return transform(omitBy(object, predicate), (result, value, key) => {\n            result[key] = omitDeep(value, predicate);\n        }, {});\n    }\n\n    return object;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/omit-deep.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport { AddressRequestBody } from '../address';\nimport { BillingAddressRequestSender } from '../billing';\nimport { RequestOptions } from '../common/http-request';\nimport { Config, ConfigRequestSender } from '../config';\nimport { CustomerCredentials, CustomerRequestSender } from '../customer';\nimport { CountryRequestSender, CountryResponseBody } from '../geography';\nimport { InternalOrderRequestBody, InternalOrderResponseBody, Order, OrderRequestSender } from '../order';\nimport { PaymentMethodsResponseBody, PaymentMethodRequestSender, PaymentMethodResponseBody } from '../payment';\nimport { ConsignmentsRequestBody, ConsignmentRequestBody, ConsignmentRequestSender, ShippingCountryRequestSender } from '../shipping';\n\nimport Checkout from './checkout';\n\n/**\n * @deprecated Use request senders directly\n */\nexport default class CheckoutClient {\n    /**\n     * @internal\n     */\n    constructor(\n        private _billingAddressRequestSender: BillingAddressRequestSender,\n        private _configRequestSender: ConfigRequestSender,\n        private _consignmentRequestSender: ConsignmentRequestSender,\n        private _countryRequestSender: CountryRequestSender,\n        private _customerRequestSender: CustomerRequestSender,\n        private _orderRequestSender: OrderRequestSender,\n        private _paymentMethodRequestSender: PaymentMethodRequestSender,\n        private _shippingCountryRequestSender: ShippingCountryRequestSender\n    ) {}\n\n    loadOrder(orderId: number, options?: RequestOptions): Promise<Response<Order>> {\n        return this._orderRequestSender.loadOrder(orderId, options);\n    }\n\n    submitOrder(body: InternalOrderRequestBody, options?: RequestOptions): Promise<Response<InternalOrderResponseBody>> {\n        return this._orderRequestSender.submitOrder(body, options);\n    }\n\n    finalizeOrder(orderId: number, options?: RequestOptions): Promise<Response<InternalOrderResponseBody>> {\n        return this._orderRequestSender.finalizeOrder(orderId, options);\n    }\n\n    loadPaymentMethods(options?: RequestOptions): Promise<Response<PaymentMethodsResponseBody>> {\n        return this._paymentMethodRequestSender.loadPaymentMethods(options);\n    }\n\n    loadPaymentMethod(methodId: string, options?: RequestOptions): Promise<Response<PaymentMethodResponseBody>> {\n        return this._paymentMethodRequestSender.loadPaymentMethod(methodId, options);\n    }\n\n    loadCountries(options?: RequestOptions): Promise<Response<CountryResponseBody>> {\n        return this._countryRequestSender.loadCountries(options);\n    }\n\n    loadShippingCountries(options?: RequestOptions): Promise<Response<CountryResponseBody>> {\n        return this._shippingCountryRequestSender.loadCountries(options);\n    }\n\n    createBillingAddress(checkoutId: string, address: Partial<AddressRequestBody>, options?: RequestOptions): Promise<Response<Checkout>> {\n        return this._billingAddressRequestSender.createAddress(checkoutId, address, options);\n    }\n\n    updateBillingAddress(checkoutId: string, address: Partial<AddressRequestBody>, options?: RequestOptions): Promise<Response> {\n        return this._billingAddressRequestSender.updateAddress(checkoutId, address, options);\n    }\n\n    createConsignments(checkoutId: string, consignments: ConsignmentsRequestBody, options?: RequestOptions): Promise<Response> {\n        return this._consignmentRequestSender.createConsignments(checkoutId, consignments, options);\n    }\n\n    updateConsignment(checkoutId: string, consignment: ConsignmentRequestBody, options?: RequestOptions): Promise<Response> {\n        return this._consignmentRequestSender.updateConsignment(checkoutId, consignment, options);\n    }\n\n    signInCustomer(credentials: CustomerCredentials, options?: RequestOptions): Promise<Response> {\n        return this._customerRequestSender.signInCustomer(credentials, options);\n    }\n\n    signOutCustomer(options?: RequestOptions): Promise<Response> {\n        return this._customerRequestSender.signOutCustomer(options);\n    }\n\n    loadConfig(options?: RequestOptions): Promise<Response<Config>> {\n        return this._configRequestSender.loadConfig(options);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-client.ts","import { BillingAddressSelector } from '../billing';\nimport { CartSelector } from '../cart';\nimport { selector } from '../common/selector';\nimport { CouponSelector, GiftCertificateSelector } from '../coupon';\nimport { CustomerSelector } from '../customer';\nimport { ConsignmentSelector } from '../shipping';\n\nimport Checkout from './checkout';\nimport CheckoutState from './checkout-state';\n\n@selector\nexport default class CheckoutSelector {\n    constructor(\n        private _checkout: CheckoutState,\n        private _billingAddress: BillingAddressSelector,\n        private _cart: CartSelector,\n        private _consignments: ConsignmentSelector,\n        private _coupons: CouponSelector,\n        private _customer: CustomerSelector,\n        private _giftCertificates: GiftCertificateSelector\n    ) {}\n\n    getCheckout(): Checkout | undefined {\n        const { data } = this._checkout;\n        const billingAddress = this._billingAddress.getBillingAddress();\n        const cart = this._cart.getCart();\n        const customer = this._customer.getCustomer();\n        const consignments = this._consignments.getConsignments() || [];\n        const coupons = this._coupons.getCoupons() || [];\n        const giftCertificates = this._giftCertificates.getGiftCertificates() || [];\n\n        if (!data || !cart || !customer) {\n            return;\n        }\n\n        return {\n            ...data,\n            billingAddress,\n            cart,\n            customer,\n            consignments,\n            coupons,\n            giftCertificates,\n        };\n    }\n\n    getLoadError(): Error | undefined {\n        return this._checkout.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return this._checkout.statuses.isLoading === true;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-selector.ts","import { memoize } from 'lodash';\n\nimport { bindDecorator, isEqual, isPrivate } from '../utility';\n\nimport CacheKeyResolver from './cache-key-resolver';\n\n/**\n * Decorates a class by patching all of its methods to cache their return values\n * and return them if they are called again with the same set of parameters. The\n * decorator also binds all the methods to the calling instance so it can be\n * destructed.\n */\nexport default function selectorDecorator<T extends Constructor<object>>(target: T): T {\n    const decoratedTarget = class extends target {};\n\n    Object.getOwnPropertyNames(target.prototype)\n        .forEach(key => {\n            const descriptor = Object.getOwnPropertyDescriptor(target.prototype, key);\n\n            if (!descriptor || key === 'constructor') {\n                return;\n            }\n\n            Object.defineProperty(\n                decoratedTarget.prototype,\n                key,\n                selectorMethodDecorator(target.prototype, key, descriptor)\n            );\n        });\n\n    return decoratedTarget;\n}\n\nfunction selectorMethodDecorator<T extends Method>(target: object, key: string, descriptor: TypedPropertyDescriptor<T>): TypedPropertyDescriptor<T> {\n    if (typeof descriptor.value !== 'function') {\n        return descriptor;\n    }\n\n    let resolver = new CacheKeyResolver();\n    let method = descriptor.value;\n    let memoizedMethod = memoize(method, (...args) => resolver.getKey(...args));\n\n    return bindDecorator(target, key, {\n        get() {\n            const value = ((...args: any[]) => {\n                const cachedValue = memoizedMethod.call(this, ...args);\n\n                if (resolver.getUsedCount(...args) === 1) {\n                    return cachedValue;\n                }\n\n                const newValue = method.call(this, ...args);\n\n                if (isEqual(newValue, cachedValue, { keyFilter: key => !isPrivate(key) })) {\n                    return cachedValue;\n                }\n\n                memoizedMethod.cache.set(resolver.getKey(...args), newValue);\n\n                return newValue;\n            }) as T;\n\n            Object.defineProperty(this, key, { ...descriptor, value });\n\n            return value;\n        },\n        set(value) {\n            resolver = new CacheKeyResolver();\n            method = value;\n            memoizedMethod = memoize(method, (...args) => resolver.getKey(...args));\n        },\n    });\n}\n\nexport type Constructor<T> = new (...args: any[]) => T;\ntype Method = (...args: any[]) => any;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/selector/selector-decorator.ts","import { Action, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\n\nimport { Address } from '../address';\nimport { BillingAddressActionCreator } from '../billing';\nimport { ErrorMessageTransformer } from '../common/error';\nimport { RequestOptions } from '../common/http-request';\nimport { ConfigActionCreator } from '../config';\nimport { CouponActionCreator, GiftCertificateActionCreator } from '../coupon';\nimport { CustomerCredentials, CustomerInitializeOptions, CustomerRequestOptions, CustomerStrategyActionCreator, GuestCredentials } from '../customer';\nimport { CountryActionCreator } from '../geography';\nimport { OrderActionCreator, OrderRequestBody } from '../order';\nimport { PaymentInitializeOptions, PaymentMethodActionCreator, PaymentRequestOptions, PaymentStrategyActionCreator } from '../payment';\nimport { InstrumentActionCreator } from '../payment/instrument';\nimport {\n    ConsignmentActionCreator,\n    ShippingCountryActionCreator,\n    ShippingInitializeOptions,\n    ShippingRequestOptions,\n    ShippingStrategyActionCreator,\n} from '../shipping';\n\nimport CheckoutActionCreator from './checkout-action-creator';\nimport CheckoutSelectors from './checkout-selectors';\nimport CheckoutStore from './checkout-store';\nimport createCheckoutSelectors from './create-checkout-selectors';\nimport createCheckoutServiceErrorTransformer from './create-checkout-service-error-transformer';\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\n/**\n * Responsible for completing the checkout process for the current customer.\n *\n * This object can be used to collect all information that is required for\n * checkout, such as shipping and billing information. It can also be used to\n * retrieve the current checkout state and subscribe to its changes.\n */\nexport default class CheckoutService {\n    private _state: CheckoutSelectors;\n    private _errorTransformer: ErrorMessageTransformer;\n\n    /**\n     * @internal\n     */\n    constructor(\n        private _store: CheckoutStore,\n        private _billingAddressActionCreator: BillingAddressActionCreator,\n        private _checkoutActionCreator: CheckoutActionCreator,\n        private _configActionCreator: ConfigActionCreator,\n        private _consignmentActionCreator: ConsignmentActionCreator,\n        private _countryActionCreator: CountryActionCreator,\n        private _couponActionCreator: CouponActionCreator,\n        private _customerStrategyActionCreator: CustomerStrategyActionCreator,\n        private _giftCertificateActionCreator: GiftCertificateActionCreator,\n        private _instrumentActionCreator: InstrumentActionCreator,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _paymentStrategyActionCreator: PaymentStrategyActionCreator,\n        private _shippingCountryActionCreator: ShippingCountryActionCreator,\n        private _shippingStrategyActionCreator: ShippingStrategyActionCreator\n    ) {\n        this._state = createCheckoutSelectors(this._store.getState());\n        this._errorTransformer = createCheckoutServiceErrorTransformer();\n\n        this._store.subscribe(state => {\n            this._state = createCheckoutSelectors(state);\n        });\n    }\n\n    /**\n     * Returns a snapshot of the current checkout state.\n     *\n     * The method returns a new instance every time there is a change in the\n     * checkout state. You can query the state by calling any of its getter\n     * methods.\n     *\n     * ```js\n     * const state = service.getState();\n     *\n     * console.log(state.checkout.getOrder());\n     * console.log(state.errors.getSubmitOrderError());\n     * console.log(state.statuses.isSubmittingOrder());\n     * ```\n     *\n     * @returns The current customer's checkout state\n     */\n    getState(): CheckoutSelectors {\n        return this._state;\n    }\n\n    /**\n     * Notifies all subscribers with the current state.\n     *\n     * When this method gets called, the subscribers get called regardless if\n     * they have any filters applied.\n     */\n    notifyState(): void {\n        this._store.notifyState();\n    }\n\n    /**\n     * Subscribes to any changes to the current state.\n     *\n     * The method registers a callback function and executes it every time there\n     * is a change in the checkout state.\n     *\n     * ```js\n     * service.subscribe(state => {\n     *     console.log(state.checkout.getCart());\n     * });\n     * ```\n     *\n     * The method can be configured to notify subscribers only regarding\n     * relevant changes, by providing a filter function.\n     *\n     * ```js\n     * const filter = state => state.checkout.getCart();\n     *\n     * // Only trigger the subscriber when the cart changes.\n     * service.subscribe(state => {\n     *     console.log(state.checkout.getCart())\n     * }, filter);\n     * ```\n     *\n     * @param subscriber - The function to subscribe to state changes.\n     * @param filters - One or more functions to filter out irrelevant state\n     * changes. If more than one function is provided, the subscriber will only\n     * be triggered if all conditions are met.\n     * @returns A function, if called, will unsubscribe the subscriber.\n     */\n    subscribe(\n        subscriber: (state: CheckoutSelectors) => void,\n        ...filters: Array<(state: CheckoutSelectors) => any>\n    ): () => void {\n        return this._store.subscribe(\n            () => subscriber(this.getState()),\n            ...filters.map(filter => (state: InternalCheckoutSelectors) => filter(createCheckoutSelectors(state)))\n        );\n    }\n\n    /**\n     * Loads the current checkout.\n     *\n     * This method can only be called if there is an active checkout. Also, it\n     * can only retrieve data that belongs to the current customer. When it is\n     * successfully executed, you can retrieve the data by calling\n     * `CheckoutStoreSelector#getCheckout`.\n     *\n     * ```js\n     * const state = await service.loadCheckout('0cfd6c06-57c3-4e29-8d7a-de55cc8a9052');\n     *\n     * console.log(state.checkout.getCheckout());\n     * ```\n     *\n     * @param id - The identifier of the checkout to load.\n     * @param options - Options for loading the current checkout.\n     * @returns A promise that resolves to the current state.\n     */\n    loadCheckout(id: string, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._checkoutActionCreator.loadCheckout(id, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Loads the checkout configuration of a store.\n     *\n     * This method should be called before performing any other actions using\n     * this service. If it is successfully executed, the data can be retrieved\n     * by calling `CheckoutStoreSelector#getConfig`.\n     *\n     * ```js\n     * const state = await service.loadConfig();\n     *\n     * console.log(state.checkout.getConfig());\n     * ```\n     *\n     * @param options - Options for loading the checkout configuration.\n     * @returns A promise that resolves to the current state.\n     */\n    loadConfig(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._configActionCreator.loadConfig(options);\n\n        return this._dispatch(action, { queueId: 'config' });\n    }\n\n    /**\n     * Loads an order by an id.\n     *\n     * The method can only retrieve an order if the order belongs to the current\n     * customer. If it is successfully executed, the data can be retrieved by\n     * calling `CheckoutStoreSelector#getOrder`.\n     *\n     * ```js\n     * const state = await service.loadOrder(123);\n     *\n     * console.log(state.checkout.getOrder());\n     * ```\n     *\n     * @param orderId - The identifier of the order to load.\n     * @param options - Options for loading the order.\n     * @returns A promise that resolves to the current state.\n     */\n    loadOrder(orderId: number, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._orderActionCreator.loadOrder(orderId, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Submits an order, thereby completing a checkout process.\n     *\n     * Before you can submit an order, you must initialize the payment method\n     * chosen by the customer by calling `CheckoutService#initializePayment`.\n     *\n     * ```js\n     * await service.initializePayment({ methodId: 'braintree' });\n     * await service.submitOrder({\n     *     methodId: 'braintree',\n     *     payment: {\n     *         paymentData: {\n     *             ccExpiry: { month: 10, year: 20 },\n     *             ccName: 'BigCommerce',\n     *             ccNumber: '4111111111111111',\n     *             ccType: 'visa',\n     *             ccCvv: 123,\n     *         },\n     *     },\n     * });\n     * ```\n     *\n     * You are not required to include `paymentData` if the order does not\n     * require additional payment details. For example, the customer has already\n     * entered their payment details on the cart page using one of the hosted\n     * payment methods, such as PayPal. Or the customer has applied a gift\n     * certificate that exceeds the grand total amount.\n     *\n     * If the order is submitted successfully, you can retrieve the newly\n     * created order by calling `CheckoutStoreSelector#getOrder`.\n     *\n     * ```js\n     * const state = await service.submitOrder(payload);\n     *\n     * console.log(state.checkout.getOrder());\n     * ```\n     *\n     * @param payload - The request payload to submit for the current order.\n     * @param options - Options for submitting the current order.\n     * @returns A promise that resolves to the current state.\n     */\n    submitOrder(payload: OrderRequestBody, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentStrategyActionCreator.execute(payload, options);\n\n        return this._dispatch(action, { queueId: 'paymentStrategy' });\n    }\n\n    /**\n     * Finalizes the submission process for an order.\n     *\n     * This method is only required for certain hosted payment methods that\n     * require a customer to enter their credit card details on their website.\n     * You need to call this method once the customer has redirected back to\n     * checkout in order to complete the checkout process.\n     *\n     * If the method is called before order finalization is required or for a\n     * payment method that does not require order finalization, an error will be\n     * thrown. Conversely, if the method is called successfully, you should\n     * immediately redirect the customer to the order confirmation page.\n     *\n     * ```js\n     * try {\n     *     await service.finalizeOrderIfNeeded();\n     *\n     *     window.location.assign('/order-confirmation');\n     * } catch (error) {\n     *     if (error.type !== 'order_finalization_not_required') {\n     *         throw error;\n     *     }\n     * }\n     * ```\n     *\n     * @param options - Options for finalizing the current order.\n     * @returns A promise that resolves to the current state.\n     * @throws `OrderFinalizationNotRequiredError` error if order finalization\n     * is not required for the current order at the time of execution.\n     */\n    finalizeOrderIfNeeded(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentStrategyActionCreator.finalize(options);\n\n        return this._dispatch(action, { queueId: 'paymentStrategy' });\n    }\n\n    /**\n     * Loads a list of payment methods available for checkout.\n     *\n     * If a customer enters their payment details before navigating to the\n     * checkout page (i.e.: using PayPal checkout button on the cart page), only\n     * one payment method will be available for the customer - the selected\n     * payment method. Otherwise, by default, all payment methods configured by\n     * the merchant will be available for the customer.\n     *\n     * Once the method is executed successfully, you can call\n     * `CheckoutStoreSelector#getPaymentMethods` to retrieve the list of payment\n     * methods.\n     *\n     * ```js\n     * const state = service.loadPaymentMethods();\n     *\n     * console.log(state.checkout.getPaymentMethods());\n     * ```\n     *\n     * @param options - Options for loading the payment methods that are\n     * available to the current customer.\n     * @returns A promise that resolves to the current state.\n     */\n    loadPaymentMethods(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentMethodActionCreator.loadPaymentMethods(options);\n\n        return this._dispatch(action, { queueId: 'paymentMethods' });\n    }\n\n    /**\n     * Loads a payment method by an id.\n     *\n     * This method does not work with multi-option payment providers. Due to its\n     * limitation, it is deprecated and will be removed in the future.\n     *\n     * @deprecated\n     * @param methodId - The identifier for the payment method to load.\n     * @param options - Options for loading the payment method.\n     * @returns A promise that resolves to the current state.\n     */\n    loadPaymentMethod(methodId: string, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentMethodActionCreator.loadPaymentMethod(methodId, options);\n\n        return this._dispatch(action, { queueId: 'paymentMethods' });\n    }\n\n    /**\n     * Initializes the payment step of a checkout process.\n     *\n     * Before a payment method can accept payment details, it must first be\n     * initialized. Some payment methods require you to provide additional\n     * initialization options. For example, Amazon requires a container ID in\n     * order to initialize their payment widget.\n     *\n     * ```js\n     * await service.initializePayment({\n     *     methodId: 'amazon',\n     *     amazon: {\n     *         container: 'walletWidget',\n     *     },\n     * });\n     * ```\n     *\n     * @param options - Options for initializing the payment step of checkout.\n     * @returns A promise that resolves to the current state.\n     */\n    initializePayment(options: PaymentInitializeOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentStrategyActionCreator.initialize(options);\n\n        return this._dispatch(action, { queueId: 'paymentStrategy' });\n    }\n\n    /**\n     * De-initializes the payment step of a checkout process.\n     *\n     * The method should be called once you no longer require a payment method\n     * to be initialized. It can perform any necessary clean-up behind the\n     * scene, i.e.: remove DOM nodes or event handlers that are attached as a\n     * result of payment initialization.\n     *\n     * ```js\n     * await service.deinitializePayment({\n     *     methodId: 'amazon',\n     * });\n     * ```\n     *\n     * @param options - Options for deinitializing the payment step of checkout.\n     * @returns A promise that resolves to the current state.\n     */\n    deinitializePayment(options: PaymentRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._paymentStrategyActionCreator.deinitialize(options);\n\n        return this._dispatch(action, { queueId: 'paymentStrategy' });\n    }\n\n    /**\n     * Loads a list of countries available for billing.\n     *\n     * Once you make a successful request, you will be able to retrieve the list\n     * of countries by calling `CheckoutStoreSelector#getBillingCountries`.\n     *\n     * ```js\n     * const state = await service.loadBillingCountries();\n     *\n     * console.log(state.checkout.getBillingCountries());\n     * ```\n     *\n     * @param options - Options for loading the available billing countries.\n     * @returns A promise that resolves to the current state.\n     */\n    loadBillingCountries(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._countryActionCreator.loadCountries(options);\n\n        return this._dispatch(action, { queueId: 'billingCountries' });\n    }\n\n    /**\n     * Loads a list of countries available for shipping.\n     *\n     * The list is determined based on the shipping zones configured by a\n     * merchant. Once you make a successful call, you will be able to retrieve\n     * the list of available shipping countries by calling\n     * `CheckoutStoreSelector#getShippingCountries`.\n     *\n     * ```js\n     * const state = await service.loadShippingCountries();\n     *\n     * console.log(state.checkout.getShippingCountries());\n     * ```\n     *\n     * @param options - Options for loading the available shipping countries.\n     * @returns A promise that resolves to the current state.\n     */\n    loadShippingCountries(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingCountryActionCreator.loadCountries(options);\n\n        return this._dispatch(action, { queueId: 'shippingCountries' });\n    }\n\n    /**\n     * Loads a set of form fields that should be presented to customers in order\n     * to capture their billing address.\n     *\n     * Once the method has been executed successfully, you can call\n     * `CheckoutStoreSelector#getBillingAddressFields` to retrieve the set of\n     * form fields.\n     *\n     * ```js\n     * const state = service.loadBillingAddressFields();\n     *\n     * console.log(state.checkout.getBillingAddressFields('US'));\n     * ```\n     *\n     * @param options - Options for loading the billing address form fields.\n     * @returns A promise that resolves to the current state.\n     */\n    loadBillingAddressFields(options?: RequestOptions): Promise<CheckoutSelectors> {\n        return this.loadBillingCountries(options);\n    }\n\n    /**\n     * Loads a set of form fields that should be presented to customers in order\n     * to capture their shipping address.\n     *\n     * Once the method has been executed successfully, you can call\n     * `CheckoutStoreSelector#getShippingAddressFields` to retrieve the set of\n     * form fields.\n     *\n     * ```js\n     * const state = service.loadShippingAddressFields();\n     *\n     * console.log(state.checkout.getShippingAddressFields('US'));\n     * ```\n     *\n     * @param options - Options for loading the shipping address form fields.\n     * @returns A promise that resolves to the current state.\n     */\n    loadShippingAddressFields(options?: RequestOptions): Promise<CheckoutSelectors> {\n        return this.loadShippingCountries(options);\n    }\n\n    /**\n     * Initializes the sign-in step of a checkout process.\n     *\n     * Some payment methods, such as Amazon, have their own sign-in flow. In\n     * order to support them, this method must be called.\n     *\n     * ```js\n     * await service.initializeCustomer({\n     *     methodId: 'amazon',\n     *     amazon: {\n     *         container: 'signInButton',\n     *     },\n     * });\n     * ```\n     *\n     * @param options - Options for initializing the customer step of checkout.\n     * @returns A promise that resolves to the current state.\n     */\n    initializeCustomer(options?: CustomerInitializeOptions): Promise<CheckoutSelectors> {\n        const action = this._customerStrategyActionCreator.initialize(options);\n\n        return this._dispatch(action, { queueId: 'customerStrategy' });\n    }\n\n    /**\n     * De-initializes the sign-in step of a checkout process.\n     *\n     * It should be called once you no longer want to prompt customers to sign\n     * in. It can perform any necessary clean-up behind the scene, i.e.: remove\n     * DOM nodes or event handlers that are attached as a result of customer\n     * initialization.\n     *\n     * ```js\n     * await service.deinitializeCustomer({\n     *     methodId: 'amazon',\n     * });\n     * ```\n     *\n     * @param options - Options for deinitializing the customer step of checkout.\n     * @returns A promise that resolves to the current state.\n     */\n    deinitializeCustomer(options?: CustomerRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._customerStrategyActionCreator.deinitialize(options);\n\n        return this._dispatch(action, { queueId: 'customerStrategy' });\n    }\n\n    /**\n     * @deprecated This method has been renamed to `continueAsGuest`.\n     * @param credentials - The guest credentials to use.\n     * @param options - Options for continuing as a guest.\n     * @returns A promise that resolves to the current state.\n     */\n    signInGuest(credentials: GuestCredentials, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._billingAddressActionCreator.updateAddress(credentials, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Continues to check out as a guest.\n     *\n     * The customer is required to provide their email address in order to\n     * continue. Once they provide their email address, it will be stored as a\n     * part of their billing address.\n     *\n     * @param credentials - The guest credentials to use.\n     * @param options - Options for continuing as a guest.\n     * @returns A promise that resolves to the current state.\n     */\n    continueAsGuest(credentials: GuestCredentials, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._billingAddressActionCreator.updateAddress(credentials, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Signs into a customer's registered account.\n     *\n     * Once the customer is signed in successfully, the checkout state will be\n     * populated with information associated with the customer, such as their\n     * saved addresses. You can call `CheckoutStoreSelector#getCustomer` to\n     * retrieve the data.\n     *\n     * ```js\n     * const state = await service.signInCustomer({\n     *     email: 'foo@bar.com',\n     *     password: 'password123',\n     * });\n     *\n     * console.log(state.checkout.getCustomer());\n     * ```\n     *\n     * @param credentials - The credentials to be used for signing in the customer.\n     * @param options - Options for signing in the customer.\n     * @returns A promise that resolves to the current state.\n     */\n    signInCustomer(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._customerStrategyActionCreator.signIn(credentials, options);\n\n        return this._dispatch(action, { queueId: 'customerStrategy' });\n    }\n\n    /**\n     * Signs out the current customer if they are previously signed in.\n     *\n     * Once the customer is successfully signed out, the checkout state will be\n     * reset automatically.\n     *\n     * ```js\n     * const state = await service.signOutCustomer();\n     *\n     * // The returned object should not contain information about the previously signed-in customer.\n     * console.log(state.checkout.getCustomer());\n     * ```\n     *\n     * @param options - Options for signing out the customer.\n     * @returns A promise that resolves to the current state.\n     */\n    signOutCustomer(options?: CustomerRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._customerStrategyActionCreator.signOut(options);\n\n        return this._dispatch(action, { queueId: 'customerStrategy' });\n    }\n\n    /**\n     * Loads a list of shipping options available for checkout.\n     *\n     * Available shipping options can only be determined once a customer\n     * provides their shipping address. If the method is executed successfully,\n     * `CheckoutStoreSelector#getShippingOptions` can be called to retrieve the\n     * list of shipping options.\n     *\n     * ```js\n     * const state = await service.loadShippingOptions();\n     *\n     * console.log(state.checkout.getShippingOptions());\n     * ```\n     *\n     * @param options - Options for loading the available shipping options.\n     * @returns A promise that resolves to the current state.\n     */\n    loadShippingOptions(options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._consignmentActionCreator.loadShippingOptions(options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Initializes the shipping step of a checkout process.\n     *\n     * Some payment methods, such as Amazon, can provide shipping information to\n     * be used for checkout. In order to support them, this method must be\n     * called.\n     *\n     * ```js\n     * await service.initializeShipping({\n     *     methodId: 'amazon',\n     *     amazon: {\n     *         container: 'addressBook',\n     *     },\n     * });\n     * ```\n     *\n     * @param options - Options for initializing the shipping step of checkout.\n     * @returns A promise that resolves to the current state.\n     */\n    initializeShipping(options?: ShippingInitializeOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingStrategyActionCreator.initialize(options);\n\n        return this._dispatch(action, { queueId: 'shippingStrategy' });\n    }\n\n    /**\n     * De-initializes the shipping step of a checkout process.\n     *\n     * It should be called once you no longer need to collect shipping details.\n     * It can perform any necessary clean-up behind the scene, i.e.: remove DOM\n     * nodes or event handlers that are attached as a result of shipping\n     * initialization.\n     *\n     * ```js\n     * await service.deinitializeShipping({\n     *     methodId: 'amazon',\n     * });\n     * ```\n     *\n     * @param options - Options for deinitializing the shipping step of checkout.\n     * @returns A promise that resolves to the current state.\n     */\n    deinitializeShipping(options?: ShippingRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingStrategyActionCreator.deinitialize(options);\n\n        return this._dispatch(action, { queueId: 'shippingStrategy' });\n    }\n\n    /**\n     * Selects a shipping option for a given address.\n     *\n     * If a shipping option has an additional cost, the quote for the current\n     * order will be adjusted once the option is selected.\n     *\n     * ```js\n     * const state = await service.selectShippingOption('address-id', 'shipping-option-id');\n     *\n     * console.log(state.checkout.getSelectedShippingOption());\n     * ```\n     *\n     * @param shippingOptionId - The identifier of the shipping option to\n     * select.\n     * @param options - Options for selecting the shipping option.\n     * @returns A promise that resolves to the current state.\n     */\n    selectShippingOption(shippingOptionId: string, options?: ShippingRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingStrategyActionCreator.selectOption(shippingOptionId, options);\n\n        return this._dispatch(action, { queueId: 'shippingStrategy' });\n    }\n\n    /**\n     * Updates the shipping address for the current checkout.\n     *\n     * When a customer updates their shipping address for an order, they will\n     * see an updated list of shipping options and the cost for each option,\n     * unless no options are available. If the update is successful, you can\n     * call `CheckoutStoreSelector#getShippingAddress` to retrieve the address.\n     *\n     * If the shipping address changes and the selected shipping option becomes\n     * unavailable for the updated address, the shipping option will be\n     * deselected.\n     *\n     * You can submit an address that is partially complete. The address does\n     * not get validated until you submit the order.\n     *\n     * ```js\n     * const state = await service.updateShippingAddress(address);\n     *\n     * console.log(state.checkout.getShippingAddress());\n     * ```\n     *\n     * @param address - The address to be used for shipping.\n     * @param options - Options for updating the shipping address.\n     * @returns A promise that resolves to the current state.\n     */\n    updateShippingAddress(address: Address, options?: ShippingRequestOptions): Promise<CheckoutSelectors> {\n        const action = this._shippingStrategyActionCreator.updateAddress(address, options);\n\n        return this._dispatch(action, { queueId: 'shippingStrategy' });\n    }\n\n    /**\n     * Updates the billing address for the current checkout.\n     *\n     * A customer must provide their billing address before they can proceed to\n     * pay for their order.\n     *\n     * You can submit an address that is partially complete. The address does\n     * not get validated until you submit the order.\n     *\n     * ```js\n     * const state = await service.updateBillingAddress(address);\n     *\n     * console.log(state.checkout.getBillingAddress());\n     * ```\n     *\n     * @param address - The address to be used for billing.\n     * @param options - Options for updating the billing address.\n     * @returns A promise that resolves to the current state.\n     */\n    updateBillingAddress(address: Address, options: RequestOptions = {}): Promise<CheckoutSelectors> {\n        const action = this._billingAddressActionCreator.updateAddress(address, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Applies a coupon code to the current checkout.\n     *\n     * Once the coupon code gets applied, the quote for the current checkout will\n     * be adjusted accordingly. The same coupon code cannot be applied more than\n     * once.\n     *\n     * ```js\n     * await service.applyCoupon('COUPON');\n     * ```\n     *\n     * @param code - The coupon code to apply to the current checkout.\n     * @param options - Options for applying the coupon code.\n     * @returns A promise that resolves to the current state.\n     */\n    applyCoupon(code: string, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._couponActionCreator.applyCoupon(code, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Removes a coupon code from the current checkout.\n     *\n     * Once the coupon code gets removed, the quote for the current checkout will\n     * be adjusted accordingly.\n     *\n     * ```js\n     * await service.removeCoupon('COUPON');\n     * ```\n     *\n     * @param code - The coupon code to remove from the current checkout.\n     * @param options - Options for removing the coupon code.\n     * @returns A promise that resolves to the current state.\n     */\n    removeCoupon(code: string, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._couponActionCreator.removeCoupon(code, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Applies a gift certificate to the current checkout.\n     *\n     * Once the gift certificate gets applied, the quote for the current\n     * checkout will be adjusted accordingly.\n     *\n     * ```js\n     * await service.applyGiftCertificate('GIFT_CERTIFICATE');\n     * ```\n     *\n     * @param code - The gift certificate to apply to the current checkout.\n     * @param options - Options for applying the gift certificate.\n     * @returns A promise that resolves to the current state.\n     */\n    applyGiftCertificate(code: string, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._giftCertificateActionCreator.applyGiftCertificate(code, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Removes a gift certificate from an order.\n     *\n     * Once the gift certificate gets removed, the quote for the current\n     * checkout will be adjusted accordingly.\n     *\n     * ```js\n     * await service.removeGiftCertificate('GIFT_CERTIFICATE');\n     * ```\n     *\n     * @param code - The gift certificate to remove from the current checkout.\n     * @param options - Options for removing the gift certificate.\n     * @returns A promise that resolves to the current state.\n     */\n    removeGiftCertificate(code: string, options?: RequestOptions): Promise<CheckoutSelectors> {\n        const action = this._giftCertificateActionCreator.removeGiftCertificate(code, options);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Loads a list of payment instruments associated with a customer.\n     *\n     * Once the method has been called successfully, you can retrieve the list\n     * of payment instruments by calling `CheckoutStoreSelector#getInstruments`.\n     * If the customer does not have any payment instruments on record, i.e.:\n     * credit card, you will get an empty list instead.\n     *\n     * ```js\n     * const state = service.loadInstruments();\n     *\n     * console.log(state.checkout.getInstruments());\n     * ```\n     *\n     * @returns A promise that resolves to the current state.\n     */\n    loadInstruments(): Promise<CheckoutSelectors> {\n        const action = this._instrumentActionCreator.loadInstruments();\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Deletes a payment instrument by an id.\n     *\n     * Once an instrument gets removed, it can no longer be retrieved using\n     * `CheckoutStoreSelector#getInstruments`.\n     *\n     * ```js\n     * const state = service.deleteInstrument('123');\n     *\n     * console.log(state.checkout.getInstruments());\n     * ```\n     *\n     * @param instrumentId - The identifier of the payment instrument to delete.\n     * @returns A promise that resolves to the current state.\n     */\n    deleteInstrument(instrumentId: string): Promise<CheckoutSelectors> {\n        const action = this._instrumentActionCreator.deleteInstrument(instrumentId);\n\n        return this._dispatch(action);\n    }\n\n    /**\n     * Dispatches an action through the data store and returns the current state\n     * once the action is dispatched.\n     *\n     * @param action - The action to dispatch.\n     * @returns A promise that resolves to the current state.\n     */\n    private _dispatch(action: Observable<Action> | ThunkAction<Action>, options?: { queueId?: string }): Promise<CheckoutSelectors> {\n        return this._store.dispatch(action, options)\n            .then(() => this.getState())\n            .catch(error => {\n                throw this._errorTransformer.transform(error);\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-service.ts","export { default as createRequestErrorFactory } from './create-request-error-factory';\nexport { default as ErrorMessageTransformer } from './error-message-transformer';\nexport { default as RequestErrorFactory } from './request-error-factory';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/index.ts","import { Response } from '@bigcommerce/request-sender';\nimport { last } from 'lodash';\n\nimport ErrorResponseBody from './error-response-body';\nimport { RequestError, TimeoutError } from './errors';\n\nexport default class RequestErrorFactory {\n    private _factoryMethods: { [key: string]: ErrorFactoryMethod } = {};\n\n    constructor() {\n        this.register('default', (response, message) => new RequestError(response, message));\n        this.register('timeout', response => new TimeoutError(response));\n    }\n\n    register(type: string, factoryMethod: ErrorFactoryMethod): void {\n        this._factoryMethods[type] = factoryMethod;\n    }\n\n    createError(response: Response, message?: string): Error {\n        const factoryMethod = this._factoryMethods[this._getType(response)] || this._factoryMethods.default;\n\n        return factoryMethod(response, message);\n    }\n\n    private _getType(response: Response<ErrorResponseBody>): string {\n        if (response.status === 0) {\n            return 'timeout';\n        }\n\n        if (response.body && typeof response.body.type === 'string') {\n            return last(response.body.type.split('/')) || 'default';\n        }\n\n        const error = last(response.body && response.body.errors);\n\n        return error && error.code ? error.code : 'default';\n    }\n}\n\nexport type ErrorFactoryMethod = (response: Response, message?: string) => Error;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/request-error-factory.ts","import { keyBy, reduce, some } from 'lodash';\n\nimport { Checkout } from '../checkout';\nimport { mapToInternalCoupon, mapToInternalGiftCertificate } from '../coupon';\nimport { mapToDiscountNotifications } from '../promotion';\n\nimport { AmountTransformer } from '.';\nimport InternalCart from './internal-cart';\nimport mapToInternalLineItems from './map-to-internal-line-items';\n\nexport default function mapToInternalCart(checkout: Checkout): InternalCart {\n    const decimalPlaces = checkout.cart.currency.decimalPlaces;\n    const amountTransformer = new AmountTransformer(decimalPlaces);\n\n    return {\n        id: checkout.cart.id,\n        items: mapToInternalLineItems(checkout.cart.lineItems, decimalPlaces),\n        currency: checkout.cart.currency.code,\n        coupon: {\n            discountedAmount: reduce(checkout.cart.coupons, (sum, coupon) => {\n                return sum + coupon.discountedAmount;\n            }, 0),\n            coupons: checkout.cart.coupons.map(mapToInternalCoupon),\n        },\n        discount: {\n            amount: checkout.cart.discountAmount,\n            integerAmount: amountTransformer.toInteger(checkout.cart.discountAmount),\n        },\n        discountNotifications: mapToDiscountNotifications(checkout.promotions),\n        giftCertificate: {\n            totalDiscountedAmount: reduce(checkout.giftCertificates, (sum, certificate) => {\n                return sum + certificate.used;\n            }, 0),\n            appliedGiftCertificates: keyBy(checkout.giftCertificates.map(mapToInternalGiftCertificate), 'code'),\n        },\n        shipping: {\n            amount: checkout.shippingCostTotal,\n            integerAmount: amountTransformer.toInteger(checkout.shippingCostTotal),\n            amountBeforeDiscount: checkout.shippingCostBeforeDiscount,\n            integerAmountBeforeDiscount: amountTransformer.toInteger(checkout.shippingCostBeforeDiscount),\n            required: some(checkout.cart.lineItems.physicalItems, lineItem => lineItem.isShippingRequired),\n        },\n        subtotal: {\n            amount: checkout.subtotal,\n            integerAmount: amountTransformer.toInteger(checkout.subtotal),\n        },\n        storeCredit: {\n            amount: checkout.customer ? checkout.customer.storeCredit : 0,\n        },\n        taxSubtotal: {\n            amount: checkout.taxTotal,\n            integerAmount: amountTransformer.toInteger(checkout.taxTotal),\n        },\n        taxes: checkout.taxes,\n        taxTotal: {\n            amount: checkout.taxTotal,\n            integerAmount: amountTransformer.toInteger(checkout.taxTotal),\n        },\n        handling: {\n            amount: checkout.handlingCostTotal,\n            integerAmount: amountTransformer.toInteger(checkout.handlingCostTotal),\n        },\n        grandTotal: {\n            amount: checkout.grandTotal,\n            integerAmount: amountTransformer.toInteger(checkout.grandTotal),\n        },\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/map-to-internal-cart.ts","module.exports = require(\"@bigcommerce/form-poster\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/form-poster\"\n// module id = 56\n// module chunks = 0 1","export const INITIALIZE_REMOTE_BILLING_REQUESTED = 'INITIALIZE_REMOTE_BILLING_REQUESTED';\nexport const INITIALIZE_REMOTE_BILLING_SUCCEEDED = 'INITIALIZE_REMOTE_BILLING_SUCCEEDED';\nexport const INITIALIZE_REMOTE_BILLING_FAILED = 'INITIALIZE_REMOTE_BILLING_FAILED';\n\nexport const INITIALIZE_REMOTE_SHIPPING_REQUESTED = 'INITIALIZE_REMOTE_SHIPPING_REQUESTED';\nexport const INITIALIZE_REMOTE_SHIPPING_SUCCEEDED = 'INITIALIZE_REMOTE_SHIPPING_SUCCEEDED';\nexport const INITIALIZE_REMOTE_SHIPPING_FAILED = 'INITIALIZE_REMOTE_SHIPPING_FAILED';\n\nexport const INITIALIZE_REMOTE_PAYMENT_REQUESTED = 'INITIALIZE_REMOTE_PAYMENT_REQUESTED';\nexport const INITIALIZE_REMOTE_PAYMENT_SUCCEEDED = 'INITIALIZE_REMOTE_PAYMENT_SUCCEEDED';\nexport const INITIALIZE_REMOTE_PAYMENT_FAILED = 'INITIALIZE_REMOTE_PAYMENT_FAILED';\n\nexport const LOAD_REMOTE_SETTINGS_REQUESTED = 'LOAD_REMOTE_SETTINGS_REQUESTED';\nexport const LOAD_REMOTE_SETTINGS_SUCCEEDED = 'LOAD_REMOTE_SETTINGS_SUCCEEDED';\nexport const LOAD_REMOTE_SETTINGS_FAILED = 'LOAD_REMOTE_SETTINGS_FAILED';\n\nexport const SIGN_OUT_REMOTE_CUSTOMER_REQUESTED = 'SIGN_OUT_REMOTE_CUSTOMER_REQUESTED';\nexport const SIGN_OUT_REMOTE_CUSTOMER_SUCCEEDED = 'SIGN_OUT_REMOTE_CUSTOMER_SUCCEEDED';\nexport const SIGN_OUT_REMOTE_CUSTOMER_FAILED = 'SIGN_OUT_REMOTE_CUSTOMER_FAILED';\n\nexport const UPDATE_REMOTE_CHECKOUT = 'UPDATE_REMOTE_CHECKOUT';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-action-types.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { pick } from 'lodash';\nimport { concat } from 'rxjs/observable/concat';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { mapToInternalAddress } from '../address';\nimport { mapToInternalCart } from '../cart';\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { InvalidArgumentError, StandardError } from '../common/error/errors';\nimport { mapToInternalCustomer } from '../customer';\nimport { mapToInternalOrder, OrderActionCreator } from '../order';\nimport { mapToInternalShippingOption } from '../shipping';\n\nimport isVaultedInstrument from './is-vaulted-instrument';\nimport Payment from './payment';\nimport { InitializeOffsitePaymentAction, PaymentActionType, SubmitPaymentAction } from './payment-actions';\nimport PaymentMethod from './payment-method';\nimport PaymentMethodSelector from './payment-method-selector';\nimport PaymentRequestBody from './payment-request-body';\nimport PaymentRequestSender from './payment-request-sender';\n\nexport default class PaymentActionCreator {\n    constructor(\n        private _paymentRequestSender: PaymentRequestSender,\n        private _orderActionCreator: OrderActionCreator\n    ) {}\n\n    submitPayment(payment: Payment): ThunkAction<SubmitPaymentAction, InternalCheckoutSelectors> {\n        return store => concat(\n            Observable.create((observer: Observer<SubmitPaymentAction>) => {\n                observer.next(createAction(PaymentActionType.SubmitPaymentRequested));\n\n                return this._paymentRequestSender.submitPayment(\n                    this._getPaymentRequestBody(payment, store.getState())\n                )\n                    .then(({ body }) => {\n                        observer.next(createAction(PaymentActionType.SubmitPaymentSucceeded, body));\n                        observer.complete();\n                    })\n                    .catch(response => {\n                        observer.error(createErrorAction(PaymentActionType.SubmitPaymentFailed, response));\n                    });\n            }),\n            this._orderActionCreator.loadCurrentOrder()(store)\n        );\n    }\n\n    initializeOffsitePayment(payment: Payment): ThunkAction<InitializeOffsitePaymentAction, InternalCheckoutSelectors> {\n        return store =>\n            Observable.create((observer: Observer<InitializeOffsitePaymentAction>) => {\n                observer.next(createAction(PaymentActionType.InitializeOffsitePaymentRequested));\n\n                return this._paymentRequestSender.initializeOffsitePayment(\n                    this._getPaymentRequestBody(payment, store.getState())\n                )\n                    .then(() => {\n                        observer.next(createAction(PaymentActionType.InitializeOffsitePaymentSucceeded));\n                        observer.complete();\n                    })\n                    .catch(() => {\n                        observer.error(createErrorAction(PaymentActionType.InitializeOffsitePaymentFailed));\n                    });\n            });\n    }\n\n    private _getPaymentRequestBody(payment: Payment, state: InternalCheckoutSelectors): PaymentRequestBody {\n        if (!payment.paymentData) {\n            throw new InvalidArgumentError('Unable to construct payment request because `payment.paymentData` is not provided.');\n        }\n\n        const billingAddress = state.billingAddress.getBillingAddress();\n        const checkout = state.checkout.getCheckout();\n        const customer = state.customer.getCustomer();\n        const order = state.order.getOrder();\n        const paymentMethod = this._getPaymentMethod(payment, state.paymentMethods);\n        const shippingAddress = state.shippingAddress.getShippingAddress();\n        const shippingOption = state.shippingOptions.getSelectedShippingOption();\n        const config = state.config.getStoreConfig();\n        const instrumentMeta = state.instruments.getInstrumentsMeta();\n        const paymentMeta = state.paymentMethods.getPaymentMethodsMeta();\n        const internalCustomer = customer && billingAddress && checkout && checkout.cart &&\n            mapToInternalCustomer(customer, checkout.cart, billingAddress);\n\n        const authToken = instrumentMeta && isVaultedInstrument(payment.paymentData) ?\n            `${state.payment.getPaymentToken()}, ${instrumentMeta.vaultAccessToken}` :\n            state.payment.getPaymentToken();\n\n        if (!authToken) {\n            throw new StandardError();\n        }\n\n        return {\n            authToken,\n            paymentMethod,\n            customer: internalCustomer,\n            billingAddress: billingAddress && mapToInternalAddress(billingAddress),\n            shippingAddress: shippingAddress && mapToInternalAddress(shippingAddress),\n            shippingOption: shippingOption && mapToInternalShippingOption(shippingOption, true),\n            cart: checkout && mapToInternalCart(checkout),\n            order: order && mapToInternalOrder(order),\n            orderMeta: state.order.getOrderMeta(),\n            payment: payment.paymentData,\n            quoteMeta: {\n                request: paymentMeta && paymentMeta.request,\n            },\n            source: 'bigcommerce-checkout-js-sdk',\n            store: pick(config && config.storeProfile, [\n                'storeHash',\n                'storeId',\n                'storeLanguage',\n                'storeName',\n            ]),\n        };\n    }\n\n    private _getPaymentMethod(payment: Payment, paymentMethodSelector: PaymentMethodSelector): PaymentMethod | undefined {\n        const paymentMethod = paymentMethodSelector.getPaymentMethod(payment.methodId, payment.gatewayId);\n\n        return (paymentMethod && paymentMethod.method === 'multi-option' && !paymentMethod.gateway) ?\n            { ...paymentMethod, gateway: paymentMethod.id } :\n            paymentMethod;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-action-creator.ts","export { default as OrderFinalizationNotRequiredError } from './order-finalization-not-required-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/errors/index.ts","import { Address } from '../../../address';\nimport { NotInitializedError, NotInitializedErrorType } from '../../../common/error/errors';\nimport { CancellablePromise } from '../../../common/utility';\nimport { OrderPaymentRequestBody } from '../../../order';\nimport { PaymentMethodCancelledError } from '../../errors';\nimport { CreditCardInstrument, NonceInstrument } from '../../payment';\n\nimport { BraintreePaypal, BraintreeRequestData } from './braintree';\nimport { BraintreePaymentInitializeOptions, BraintreeThreeDSecureOptions } from './braintree-payment-options';\nimport BraintreeSDKCreator from './braintree-sdk-creator';\n\nexport default class BraintreePaymentProcessor {\n    private _threeDSecureOptions?: BraintreeThreeDSecureOptions;\n\n    constructor(\n        private _braintreeSDKCreator: BraintreeSDKCreator\n    ) {}\n\n    initialize(clientToken: string, options?: BraintreePaymentInitializeOptions): void {\n        this._braintreeSDKCreator.initialize(clientToken);\n        this._threeDSecureOptions = options && options.threeDSecure;\n    }\n\n    preloadPaypal(): Promise<BraintreePaypal> {\n        return this._braintreeSDKCreator.getPaypal();\n    }\n\n    tokenizeCard(payment: OrderPaymentRequestBody, billingAddress: Address): Promise<NonceInstrument> {\n        const { paymentData } = payment;\n        const requestData = this._mapToCreditCard(paymentData as CreditCardInstrument, billingAddress);\n\n        return this._braintreeSDKCreator.getClient()\n            .then(client => client.request(requestData))\n            .then(({ creditCards }) => ({\n                nonce: creditCards[0].nonce,\n            }));\n    }\n\n    paypal(amount: number, storeLanguage: string, currency: string, offerCredit: boolean): Promise<NonceInstrument> {\n        return this._braintreeSDKCreator.getPaypal()\n            .then(paypal => paypal.tokenize({\n                amount,\n                currency,\n                enableShippingAddress: true,\n                flow: 'checkout',\n                locale: storeLanguage,\n                offerCredit,\n                useraction: 'commit',\n            }));\n    }\n\n    verifyCard(payment: OrderPaymentRequestBody, billingAddress: Address, amount: number): Promise<NonceInstrument> {\n        if (!this._threeDSecureOptions) {\n            throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n        }\n\n        const { addFrame, removeFrame } = this._threeDSecureOptions;\n\n        return Promise.all([\n            this.tokenizeCard(payment, billingAddress),\n            this._braintreeSDKCreator.get3DS(),\n        ]).then(([paymentData, threeDSecure]) => {\n            const { nonce } = paymentData;\n            const cancelVerifyCard = () => threeDSecure.cancelVerifyCard()\n                .then(response => {\n                    verification.cancel(new PaymentMethodCancelledError());\n\n                    return response;\n                });\n\n            const verification = new CancellablePromise(\n                threeDSecure.verifyCard({\n                    addFrame: (error, iframe) => {\n                        addFrame(error, iframe, cancelVerifyCard);\n                    },\n                    amount,\n                    nonce,\n                    removeFrame,\n                })\n            );\n\n            return verification.promise;\n        });\n    }\n\n    appendSessionId(processedPayment: Promise<NonceInstrument>): Promise<NonceInstrument> {\n        return processedPayment\n            .then(paymentData => Promise.all([paymentData, this._braintreeSDKCreator.getDataCollector()]))\n            .then(([paymentData, { deviceData }]) => ({ ...paymentData, deviceSessionId: deviceData }));\n    }\n\n    deinitialize(): Promise<void> {\n        return this._braintreeSDKCreator.teardown();\n    }\n\n    private _mapToCreditCard(creditCard: CreditCardInstrument, billingAddress: Address): BraintreeRequestData {\n        let streetAddress = billingAddress.address1;\n\n        if (billingAddress.address2) {\n            streetAddress = ` ${billingAddress.address2}`;\n        }\n\n        return {\n            data: {\n                creditCard: {\n                    cardholderName: creditCard.ccName,\n                    number: creditCard.ccNumber,\n                    cvv: creditCard.ccCvv,\n                    expirationDate: `${creditCard.ccExpiry.month}/${creditCard.ccExpiry.year}`,\n                    options: {\n                        validate: false,\n                    },\n                    billingAddress: {\n                        countryName: billingAddress.country,\n                        postalCode: billingAddress.postalCode,\n                        streetAddress,\n                    },\n                },\n            },\n            endpoint: 'payment_methods/credit_cards',\n            method: 'post',\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-payment-processor.ts","import { RequestSender } from '@bigcommerce/request-sender';\n\nimport { Address } from '../../../address';\nimport { toFormUrlEncoded } from '../../../common/http-request';\n\nimport { BraintreeDataCollector } from './braintree';\nimport BraintreeSDKCreator from './braintree-sdk-creator';\nimport {\n    VisaCheckoutAddress,\n    VisaCheckoutInitOptions,\n    VisaCheckoutPaymentSuccessPayload,\n    VisaCheckoutTokenizedPayload,\n} from './visacheckout';\n\nexport default class BraintreeVisaCheckoutPaymentProcessor {\n    constructor(\n        private _braintreeSDKCreator: BraintreeSDKCreator,\n        private _requestSender: RequestSender\n    ) {}\n\n    initialize(clientToken: string, options: VisaCheckoutInitializeOptions): Promise<VisaCheckoutInitOptions> {\n        this._braintreeSDKCreator.initialize(clientToken);\n\n        return this._braintreeSDKCreator.getVisaCheckout()\n            .then(visaCheckout => visaCheckout.createInitOptions({\n                settings: {\n                    locale: options.locale,\n                    shipping: {\n                        collectShipping: options.collectShipping,\n                    },\n                },\n                paymentRequest: {\n                    currencyCode: options.currencyCode,\n                    subtotal: String(options.subtotal),\n                },\n            }));\n    }\n\n    deinitialize(): Promise<void> {\n        return this._braintreeSDKCreator.teardown();\n    }\n\n    handleSuccess(payment: VisaCheckoutPaymentSuccessPayload, shipping?: Address, billing?: Address): Promise<any> {\n        return this._braintreeSDKCreator.getVisaCheckout()\n            .then(braintreeVisaCheckout => Promise.all([\n                braintreeVisaCheckout.tokenize(payment),\n                this._braintreeSDKCreator.getDataCollector(),\n            ])\n            .then(([tokenizedPayload, dataCollector]) => {\n                const {\n                    shippingAddress = this._toVisaCheckoutAddress(shipping),\n                    billingAddress = this._toVisaCheckoutAddress(billing),\n                } = tokenizedPayload;\n\n                return this._postForm({\n                    ...tokenizedPayload,\n                    shippingAddress,\n                    billingAddress,\n                }, dataCollector);\n            }));\n    }\n\n    private _postForm(paymentData: VisaCheckoutTokenizedPayload, dataCollector: BraintreeDataCollector) {\n        const {\n            userData,\n            billingAddress,\n            shippingAddress,\n            details: cardInformation,\n        } = paymentData;\n        const { userEmail } = userData;\n        const { deviceData } = dataCollector;\n\n        return this._requestSender.post('/checkout.php', {\n            headers: {\n                Accept: 'text/html',\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            body: toFormUrlEncoded({\n                payment_type: paymentData.type,\n                nonce: paymentData.nonce,\n                provider: 'braintreevisacheckout',\n                action: 'set_external_checkout',\n                device_data: deviceData,\n                card_information: this._getCardInformation(cardInformation),\n                billing_address: this._getAddress(userEmail, billingAddress),\n                shipping_address: this._getAddress(userEmail, shippingAddress),\n            }),\n        });\n    }\n\n    private _toVisaCheckoutAddress(address?: Address): VisaCheckoutAddress {\n        if (!address) {\n            return {};\n        }\n\n        return {\n            firstName: address.firstName,\n            lastName: address.lastName,\n            phoneNumber: address.phone,\n            streetAddress: address.address1,\n            extendedAddress: address.address2,\n            locality: address.city,\n            region: address.stateOrProvinceCode,\n            countryCode: address.countryCode,\n            postalCode: address.postalCode,\n        };\n    }\n\n    private _getAddress(email: string, address: VisaCheckoutAddress = {}) {\n        return {\n            email,\n            first_name: address.firstName,\n            last_name: address.lastName,\n            phone_number: address.phoneNumber,\n            address_line_1: address.streetAddress,\n            address_line_2: address.extendedAddress,\n            city: address.locality,\n            state: address.region,\n            country_code: address.countryCode,\n            postal_code: address.postalCode,\n        };\n    }\n\n    private _getCardInformation(cardInformation: { cardType: string, lastTwo: string }) {\n        return {\n            type: cardInformation.cardType,\n            number: cardInformation.lastTwo,\n        };\n    }\n}\n\nexport interface VisaCheckoutInitializeOptions {\n    locale?: string;\n    collectShipping?: boolean;\n    subtotal?: number;\n    currencyCode?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-visacheckout-payment-processor.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { StandardError } from '../../../common/error/errors';\n\nimport {\n    BraintreeClientCreator,\n    BraintreeDataCollectorCreator,\n    BraintreeHostWindow,\n    BraintreePaypalCreator,\n    BraintreeThreeDSecureCreator,\n    BraintreeVisaCheckoutCreator,\n} from './braintree';\n\nexport default class BraintreeScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader,\n        private _window: BraintreeHostWindow = window\n    ) {}\n\n    loadClient(): Promise<BraintreeClientCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/client.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.client) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.client;\n            });\n    }\n\n    load3DS(): Promise<BraintreeThreeDSecureCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/three-d-secure.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.threeDSecure) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.threeDSecure;\n            });\n    }\n\n    loadDataCollector(): Promise<BraintreeDataCollectorCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/data-collector.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.dataCollector) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.dataCollector;\n            });\n    }\n\n    loadPaypal(): Promise<BraintreePaypalCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/paypal.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.paypal) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.paypal;\n            });\n    }\n\n    loadVisaCheckout(): Promise<BraintreeVisaCheckoutCreator> {\n        return this._scriptLoader\n            .loadScript('//js.braintreegateway.com/web/3.15.0/js/visa-checkout.min.js')\n            .then(() => {\n                if (!this._window.braintree || !this._window.braintree.visaCheckout) {\n                    throw new StandardError();\n                }\n\n                return this._window.braintree.visaCheckout;\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-script-loader.ts","import { NotInitializedError, NotInitializedErrorType } from '../../../common/error/errors';\n\nimport {\n    BraintreeClient,\n    BraintreeDataCollector,\n    BraintreeModule,\n    BraintreePaypal,\n    BraintreeThreeDSecure,\n    BraintreeVisaCheckout,\n} from './braintree';\nimport BraintreeScriptLoader from './braintree-script-loader';\n\nexport default class BraintreeSDKCreator {\n    private _client?: Promise<BraintreeClient>;\n    private _3ds?: Promise<BraintreeThreeDSecure>;\n    private _dataCollector?: Promise<BraintreeDataCollector>;\n    private _paypal?: Promise<BraintreePaypal>;\n    private _clientToken?: string;\n    private _visaCheckout?: Promise<BraintreeVisaCheckout>;\n\n    constructor(\n        private _braintreeScriptLoader: BraintreeScriptLoader\n    ) {}\n\n    initialize(clientToken: string) {\n        this._clientToken = clientToken;\n    }\n\n    getClient(): Promise<BraintreeClient> {\n        if (!this._clientToken) {\n            throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n        }\n\n        if (!this._client) {\n            this._client = this._braintreeScriptLoader.loadClient()\n                .then(client => client.create({ authorization: this._clientToken }));\n        }\n\n        return this._client;\n    }\n\n    getPaypal(): Promise<BraintreePaypal> {\n        if (!this._paypal) {\n            this._paypal = Promise.all([\n                this.getClient(),\n                this._braintreeScriptLoader.loadPaypal(),\n            ])\n            .then(([client, paypal]) => paypal.create({ client }));\n        }\n\n        return this._paypal;\n    }\n\n    get3DS(): Promise<BraintreeThreeDSecure> {\n        if (!this._3ds) {\n            this._3ds = Promise.all([\n                this.getClient(),\n                this._braintreeScriptLoader.load3DS(),\n            ])\n            .then(([client, threeDSecure]) => threeDSecure.create({ client }));\n        }\n\n        return this._3ds;\n    }\n\n    getDataCollector(): Promise<BraintreeDataCollector> {\n        if (!this._dataCollector) {\n            this._dataCollector = Promise.all([\n                this.getClient(),\n                this._braintreeScriptLoader.loadDataCollector(),\n            ])\n            .then(([client, dataCollector]) => dataCollector.create({ client, kount: true }))\n            .catch(error => {\n                if (error && error.code === 'DATA_COLLECTOR_KOUNT_NOT_ENABLED') {\n                    return { deviceData: undefined, teardown: () => Promise.resolve() };\n                }\n\n                throw error;\n            });\n        }\n\n        return this._dataCollector;\n    }\n\n    getVisaCheckout(): Promise<BraintreeVisaCheckout> {\n        if (!this._visaCheckout) {\n            this._visaCheckout = Promise.all([\n                this.getClient(),\n                this._braintreeScriptLoader.loadVisaCheckout(),\n            ])\n            .then(([client, visaCheckout]) => visaCheckout.create({ client }));\n        }\n\n        return this._visaCheckout;\n    }\n\n    teardown(): Promise<void> {\n        return Promise.all([\n            this._teardown(this._3ds),\n            this._teardown(this._dataCollector),\n            this._teardown(this._visaCheckout),\n        ]).then(() => {\n            this._3ds = undefined;\n            this._dataCollector = undefined;\n            this._visaCheckout = undefined;\n        });\n    }\n\n    private _teardown(module?: Promise<BraintreeModule>) {\n        return module ?\n            module.then(mod => mod.teardown()) :\n            Promise.resolve();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-sdk-creator.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { RequestOptions } from '@bigcommerce/request-sender';\nimport { concat } from 'rxjs/observable/concat';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutActionCreator, InternalCheckoutSelectors, LoadCheckoutAction } from '../checkout';\n\nimport { CustomerActionType, SignInCustomerAction, SignOutCustomerAction } from './customer-actions';\nimport CustomerCredentials from './customer-credentials';\nimport CustomerRequestSender from './customer-request-sender';\n\nexport default class CustomerActionCreator {\n    constructor(\n        private _customerRequestSender: CustomerRequestSender,\n        private _checkoutActionCreator: CheckoutActionCreator\n    ) {}\n\n    signInCustomer(\n        credentials: CustomerCredentials,\n        options?: RequestOptions\n    ): ThunkAction<SignInCustomerAction | LoadCheckoutAction, InternalCheckoutSelectors> {\n        return store => {\n            const signInAction = new Observable((observer: Observer<SignInCustomerAction>) => {\n                observer.next(createAction(CustomerActionType.SignInCustomerRequested));\n\n                this._customerRequestSender.signInCustomer(credentials, options)\n                    .then(({ body }) => {\n                        observer.next(createAction(CustomerActionType.SignInCustomerSucceeded, body.data));\n                        observer.complete();\n                    })\n                    .catch(response => {\n                        observer.error(createErrorAction(CustomerActionType.SignInCustomerFailed, response));\n                    });\n            });\n\n            const loadCheckoutAction = this._checkoutActionCreator.loadCurrentCheckout(options)(store);\n\n            return concat(signInAction, loadCheckoutAction);\n        };\n    }\n\n    signOutCustomer(\n        options?: RequestOptions\n    ): ThunkAction<SignOutCustomerAction | LoadCheckoutAction, InternalCheckoutSelectors> {\n        return store => {\n            const signOutAction = new Observable((observer: Observer<SignOutCustomerAction>) => {\n                observer.next(createAction(CustomerActionType.SignOutCustomerRequested));\n\n                this._customerRequestSender.signOutCustomer(options)\n                    .then(({ body }) => {\n                        observer.next(createAction(CustomerActionType.SignOutCustomerSucceeded, body.data));\n                        observer.complete();\n                    })\n                    .catch(response => {\n                        observer.error(createErrorAction(CustomerActionType.SignOutCustomerFailed, response));\n                    });\n            });\n\n            const loadCheckoutAction = this._checkoutActionCreator.loadCurrentCheckout(options)(store);\n\n            return concat(signOutAction, loadCheckoutAction);\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-action-creator.ts","import { Action } from '@bigcommerce/data-store';\n\nimport { InternalCustomerResponseData } from './internal-customer-responses';\n\nexport enum CustomerActionType {\n    SignInCustomerRequested = 'SIGN_IN_CUSTOMER_REQUESTED',\n    SignInCustomerSucceeded = 'SIGN_IN_CUSTOMER_SUCCEEDED',\n    SignInCustomerFailed = 'SIGN_IN_CUSTOMER_FAILED',\n\n    SignOutCustomerRequested = 'SIGN_OUT_CUSTOMER_REQUESTED',\n    SignOutCustomerSucceeded = 'SIGN_OUT_CUSTOMER_SUCCEEDED',\n    SignOutCustomerFailed = 'SIGN_OUT_CUSTOMER_FAILED',\n}\n\nexport type CustomerAction =\n    SignInCustomerAction |\n    SignOutCustomerAction;\n\nexport type SignInCustomerAction =\n    SignInCustomerRequestedAction |\n    SignInCustomerSucceededAction |\n    SignInCustomerFailedAction;\n\nexport type SignOutCustomerAction =\n    SignOutCustomerRequestedAction |\n    SignOutCustomerSucceededAction |\n    SignOutCustomerFailedAction;\n\nexport interface SignInCustomerRequestedAction extends Action {\n    type: CustomerActionType.SignInCustomerRequested;\n}\n\nexport interface SignInCustomerSucceededAction extends Action<InternalCustomerResponseData> {\n    type: CustomerActionType.SignInCustomerSucceeded;\n}\n\nexport interface SignInCustomerFailedAction extends Action<Error> {\n    type: CustomerActionType.SignInCustomerFailed;\n}\n\nexport interface SignOutCustomerRequestedAction extends Action {\n    type: CustomerActionType.SignOutCustomerRequested;\n}\n\nexport interface SignOutCustomerSucceededAction extends Action<InternalCustomerResponseData> {\n    type: CustomerActionType.SignOutCustomerSucceeded;\n}\n\nexport interface SignOutCustomerFailedAction extends Action<Error> {\n    type: CustomerActionType.SignOutCustomerFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-actions.ts","import { Action } from '@bigcommerce/data-store';\n\nexport enum CustomerStrategyActionType {\n    SignInFailed = 'CUSTOMER_STRATEGY_SIGN_IN_FAILED',\n    SignInRequested = 'CUSTOMER_STRATEGY_SIGN_IN_REQUESTED',\n    SignInSucceeded = 'CUSTOMER_STRATEGY_SIGN_IN_SUCCEEDED',\n    SignOutFailed = 'CUSTOMER_STRATEGY_SIGN_OUT_FAILED',\n    SignOutRequested = 'CUSTOMER_STRATEGY_SIGN_OUT_REQUESTED',\n    SignOutSucceeded = 'CUSTOMER_STRATEGY_SIGN_OUT_SUCCEEDED',\n    InitializeFailed = 'CUSTOMER_STRATEGY_INITIALIZE_FAILED',\n    InitializeRequested = 'CUSTOMER_STRATEGY_INITIALIZE_REQUESTED',\n    InitializeSucceeded = 'CUSTOMER_STRATEGY_INITIALIZE_SUCCEEDED',\n    DeinitializeFailed = 'CUSTOMER_STRATEGY_DEINITIALIZE_FAILED',\n    DeinitializeRequested = 'CUSTOMER_STRATEGY_DEINITIALIZE_REQUESTED',\n    DeinitializeSucceeded = 'CUSTOMER_STRATEGY_DEINITIALIZE_SUCCEEDED',\n    WidgetInteractionStarted = 'CUSTOMER_STRATEGY_WIDGET_INTERACTION_STARTED',\n    WidgetInteractionFinished = 'CUSTOMER_STRATEGY_WIDGET_INTERACTION_FINISHED',\n    WidgetInteractionFailed = 'CUSTOMER_STRATEGY_WIDGET_INTERACTION_FAILED',\n}\n\nexport type CustomerStrategyAction =\n    CustomerStrategySignInAction |\n    CustomerStrategySignOutAction |\n    CustomerStrategyInitializeAction |\n    CustomerStrategyDeinitializeAction |\n    CustomerStrategyWidgetAction;\n\nexport type CustomerStrategySignInAction =\n    SignInRequestedAction |\n    SignInSucceededAction |\n    SignInFailedAction;\n\nexport type CustomerStrategySignOutAction =\n    SignOutRequestedAction |\n    SignOutSucceededAction |\n    SignOutFailedAction;\n\nexport type CustomerStrategyInitializeAction =\n    InitializeRequestedAction |\n    InitializeSucceededAction |\n    InitializeFailedAction;\n\nexport type CustomerStrategyDeinitializeAction =\n    DeinitializeRequestedAction |\n    DeinitializeSucceededAction |\n    DeinitializeFailedAction;\n\nexport type CustomerStrategyWidgetAction =\n    WidgetInteractionStartedAction |\n    WidgetInteractionFinishedAction |\n    WidgetInteractionFailedAction;\n\nexport interface SignInRequestedAction extends Action {\n    type: CustomerStrategyActionType.SignInRequested;\n}\n\nexport interface SignInSucceededAction extends Action {\n    type: CustomerStrategyActionType.SignInSucceeded;\n}\n\nexport interface SignInFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.SignInFailed;\n}\n\nexport interface SignOutRequestedAction extends Action {\n    type: CustomerStrategyActionType.SignOutRequested;\n}\n\nexport interface SignOutSucceededAction extends Action {\n    type: CustomerStrategyActionType.SignOutSucceeded;\n}\n\nexport interface SignOutFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.SignOutFailed;\n}\n\nexport interface InitializeRequestedAction extends Action {\n    type: CustomerStrategyActionType.InitializeRequested;\n}\n\nexport interface InitializeSucceededAction extends Action {\n    type: CustomerStrategyActionType.InitializeSucceeded;\n}\n\nexport interface InitializeFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.InitializeFailed;\n}\n\nexport interface DeinitializeRequestedAction extends Action {\n    type: CustomerStrategyActionType.DeinitializeRequested;\n}\n\nexport interface DeinitializeSucceededAction extends Action {\n    type: CustomerStrategyActionType.DeinitializeSucceeded;\n}\n\nexport interface DeinitializeFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.DeinitializeFailed;\n}\n\nexport interface WidgetInteractionStartedAction extends Action {\n    type: CustomerStrategyActionType.WidgetInteractionStarted;\n}\n\nexport interface WidgetInteractionFinishedAction extends Action {\n    type: CustomerStrategyActionType.WidgetInteractionFinished;\n}\n\nexport interface WidgetInteractionFailedAction extends Action<Error> {\n    type: CustomerStrategyActionType.WidgetInteractionFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-actions.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { Address } from '../address';\nimport { CheckoutAction, CheckoutActionType, CheckoutClient, InternalCheckoutSelectors, ReadableCheckoutStore } from '../checkout';\nimport CheckoutRequestSender from '../checkout/checkout-request-sender';\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\n\nimport { ConsignmentRequestBody } from './consignment';\nimport { ConsignmentActionType, CreateConsignmentsAction, UpdateConsignmentAction } from './consignment-actions';\n\nexport default class ConsignmentActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient,\n        private _checkoutRequestSender: CheckoutRequestSender\n    ) {}\n\n    selectShippingOption(id: string, options?: RequestOptions): ThunkAction<UpdateConsignmentAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<UpdateConsignmentAction>) => {\n            const state = store.getState();\n            const checkout = state.checkout.getCheckout();\n            const address = state.shippingAddress.getShippingAddress();\n\n            if (!checkout) {\n                throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n            }\n\n            if (!address) {\n                throw new MissingDataError(MissingDataErrorType.MissingShippingAddress);\n            }\n\n            observer.next(createAction(ConsignmentActionType.UpdateConsignmentRequested));\n\n            const consignmentUpdateBody = {\n                id: address.id,\n                shippingOptionId: id,\n            };\n\n            this._checkoutClient.updateConsignment(checkout.id, consignmentUpdateBody, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(ConsignmentActionType.UpdateConsignmentSucceeded, body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(ConsignmentActionType.UpdateConsignmentFailed, response));\n                });\n        });\n    }\n\n    loadShippingOptions(options?: RequestOptions): ThunkAction<CheckoutAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<CheckoutAction>) => {\n            const checkout = store.getState().checkout.getCheckout();\n\n            if (!checkout) {\n                throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n            }\n\n            observer.next(createAction(CheckoutActionType.LoadCheckoutRequested));\n\n            this._checkoutRequestSender.loadCheckout(checkout.id, {\n                ...options,\n                params: {\n                    include: ['consignments.availableShippingOptions'],\n                },\n            })\n            .then(({ body }) => {\n                observer.next(createAction(CheckoutActionType.LoadCheckoutSucceeded, body));\n                observer.complete();\n            })\n            .catch(response => {\n                observer.error(createErrorAction(CheckoutActionType.LoadCheckoutFailed, response));\n            });\n        });\n    }\n\n    updateAddress(address: Address, options?: RequestOptions): ThunkAction<CreateConsignmentsAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<CreateConsignmentsAction>) => {\n            const consignment = this._getConsignmentRequestBody(address, store);\n            const checkout = store.getState().checkout.getCheckout();\n            const consignments = store.getState().consignments.getConsignments();\n\n            if (!checkout || !checkout.id) {\n                throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n            }\n\n            if (consignments && consignments.length) {\n                consignment.id = consignments[0].id;\n            }\n\n            observer.next(createAction(ConsignmentActionType.CreateConsignmentsRequested));\n\n            this._createOrUpdateConsignment(checkout.id, consignment, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(ConsignmentActionType.CreateConsignmentsSucceeded, body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(ConsignmentActionType.CreateConsignmentsFailed, response));\n                });\n        });\n    }\n\n    private _createOrUpdateConsignment(checkoutId: string, consignment: ConsignmentRequestBody, options?: RequestOptions) {\n        if (consignment.id) {\n            return this._checkoutClient.updateConsignment(checkoutId, consignment, options);\n        }\n\n        return this._checkoutClient.createConsignments(checkoutId, [consignment], options);\n    }\n\n    private _getConsignmentRequestBody(\n        shippingAddress: Address,\n        store: ReadableCheckoutStore\n    ): ConsignmentRequestBody {\n        const state = store.getState();\n        const cart = state.cart.getCart();\n\n        if (!cart) {\n            throw new MissingDataError(MissingDataErrorType.MissingCart);\n        }\n\n        return {\n            shippingAddress,\n            lineItems: (cart.lineItems && cart.lineItems.physicalItems || [])\n                .map(item => ({\n                    itemId: item.id,\n                    quantity: item.quantity,\n                })\n            ),\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/consignment-action-creator.ts","export { default as RemoteCheckoutSynchronizationError } from './remote-checkout-synchronization-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/errors/index.ts","export const LOAD_SHIPPING_COUNTRIES_REQUESTED = 'LOAD_SHIPPING_COUNTRIES_REQUESTED';\nexport const LOAD_SHIPPING_COUNTRIES_SUCCEEDED = 'LOAD_SHIPPING_COUNTRIES_SUCCEEDED';\nexport const LOAD_SHIPPING_COUNTRIES_FAILED = 'LOAD_SHIPPING_COUNTRIES_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-action-types.ts","import InternalShippingOption from './internal-shipping-option';\nimport ShippingOption from './shipping-option';\n\nexport default function mapToInternalShippingOption(option: ShippingOption, isSelected: boolean): InternalShippingOption {\n    return {\n        description: option.description,\n        module: option.type,\n        price: option.cost,\n        id: option.id,\n        selected: isSelected,\n        isRecommended: option.isRecommended,\n        imageUrl: option.imageUrl,\n        transitTime: option.transitTime,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/map-to-internal-shipping-option.ts","import { Action } from '@bigcommerce/data-store';\n\nimport PaymentResponseBody from './payment-response-body';\n\nexport enum PaymentActionType {\n    SubmitPaymentRequested = 'SUBMIT_PAYMENT_REQUESTED',\n    SubmitPaymentSucceeded = 'SUBMIT_PAYMENT_SUCCEEDED',\n    SubmitPaymentFailed = 'SUBMIT_PAYMENT_FAILED',\n\n    InitializeOffsitePaymentRequested = 'INITIALIZE_OFFSITE_PAYMENT_REQUESTED',\n    InitializeOffsitePaymentSucceeded = 'INITIALIZE_OFFSITE_PAYMENT_SUCCEEDED',\n    InitializeOffsitePaymentFailed = 'INITIALIZE_OFFSITE_PAYMENT_FAILED',\n}\n\nexport type PaymentAction = SubmitPaymentAction |\n    InitializeOffsitePaymentAction;\n\nexport type SubmitPaymentAction =\n    SubmitPaymentRequestedAction |\n    SubmitPaymentSucceededAction |\n    SubmitPaymentFailedAction;\n\nexport type InitializeOffsitePaymentAction =\n    InitializeOffsitePaymentRequestedAction |\n    InitializeOffsitePaymentSucceededAction |\n    InitializeOffsitePaymentFailedAction;\n\nexport interface SubmitPaymentRequestedAction extends Action {\n    type: PaymentActionType.SubmitPaymentRequested;\n}\n\nexport interface SubmitPaymentSucceededAction extends Action<PaymentResponseBody> {\n    type: PaymentActionType.SubmitPaymentSucceeded;\n}\n\nexport interface SubmitPaymentFailedAction extends Action<Error> {\n    type: PaymentActionType.SubmitPaymentFailed;\n}\n\nexport interface InitializeOffsitePaymentRequestedAction extends Action {\n    type: PaymentActionType.InitializeOffsitePaymentRequested;\n}\n\nexport interface InitializeOffsitePaymentSucceededAction extends Action {\n    type: PaymentActionType.InitializeOffsitePaymentSucceeded;\n}\n\nexport interface InitializeOffsitePaymentFailedAction extends Action<Error> {\n    type: PaymentActionType.InitializeOffsitePaymentFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-actions.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './payment-method-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class PaymentMethodActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadPaymentMethods(options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_PAYMENT_METHODS_REQUESTED));\n\n            this._checkoutClient.loadPaymentMethods(options)\n                .then(response => {\n                    observer.next(createAction(actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED, response.body.data, response.body.meta));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_PAYMENT_METHODS_FAILED, response));\n                });\n        });\n    }\n\n    loadPaymentMethod(methodId: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_PAYMENT_METHOD_REQUESTED, undefined, { methodId }));\n\n            this._checkoutClient.loadPaymentMethod(methodId, options)\n                .then(response => {\n                    observer.next(createAction(actionTypes.LOAD_PAYMENT_METHOD_SUCCEEDED, response.body.data, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_PAYMENT_METHOD_FAILED, response, { methodId }));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-action-creator.ts","export const LOAD_PAYMENT_METHODS_REQUESTED = 'LOAD_PAYMENT_METHODS_REQUESTED';\nexport const LOAD_PAYMENT_METHODS_SUCCEEDED = 'LOAD_PAYMENT_METHODS_SUCCEEDED';\nexport const LOAD_PAYMENT_METHODS_FAILED = 'LOAD_PAYMENT_METHODS_FAILED';\n\nexport const LOAD_PAYMENT_METHOD_REQUESTED = 'LOAD_PAYMENT_METHOD_REQUESTED';\nexport const LOAD_PAYMENT_METHOD_SUCCEEDED = 'LOAD_PAYMENT_METHOD_SUCCEEDED';\nexport const LOAD_PAYMENT_METHOD_FAILED = 'LOAD_PAYMENT_METHOD_FAILED';\n\nexport const INITIALIZE_PAYMENT_METHOD_REQUESTED = 'INITIALIZE_PAYMENT_METHOD_REQUESTED';\nexport const INITIALIZE_PAYMENT_METHOD_SUCCEEDED = 'INITIALIZE_PAYMENT_METHOD_SUCCEEDED';\nexport const INITIALIZE_PAYMENT_METHOD_FAILED = 'INITIALIZE_PAYMENT_METHOD_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-action-types.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport PaymentRequestBody from './payment-request-body';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class PaymentRequestSender {\n    /**\n     * @constructor\n     * @param {BigpayClient} client\n     */\n    constructor(\n        private _client: any\n    ) {}\n\n    submitPayment(payload: PaymentRequestBody): Promise<Response> {\n        return new Promise((resolve, reject) => {\n            this._client.submitPayment(payload, (error: any, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    initializeOffsitePayment(payload: PaymentRequestBody): Promise<void> {\n        return new Promise(() => {\n            this._client.initializeOffsitePayment(payload);\n        });\n    }\n\n    private _transformResponse(response: any): Response {\n        return {\n            headers: {},\n            body: response.data,\n            status: response.status,\n            statusText: response.statusText,\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-request-sender.ts","import { ReadableDataStore } from '@bigcommerce/data-store';\nimport { some } from 'lodash';\n\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { Registry } from '../common/registry';\nimport { RegistryOptions } from '../common/registry/registry';\n\nimport PaymentMethod from './payment-method';\nimport * as paymentMethodTypes from './payment-method-types';\nimport PaymentStrategy from './strategies/payment-strategy';\n\nexport default class PaymentStrategyRegistry extends Registry<PaymentStrategy> {\n    constructor(\n        private _store: ReadableDataStore<InternalCheckoutSelectors>,\n        options?: PaymentStrategyRegistryOptions\n    ) {\n        super(options);\n    }\n\n    getByMethod(paymentMethod?: PaymentMethod): PaymentStrategy {\n        if (!paymentMethod) {\n            return this.get();\n        }\n\n        const token = this._getToken(paymentMethod);\n        const cacheToken = paymentMethod.gateway || paymentMethod.id;\n\n        return this.get(token, cacheToken);\n    }\n\n    private _getToken(paymentMethod: PaymentMethod): string {\n        const methodId = paymentMethod.gateway || paymentMethod.id;\n\n        if (this.hasFactory(methodId)) {\n            return methodId;\n        }\n\n        if (paymentMethod.type === paymentMethodTypes.OFFLINE) {\n            return 'offline';\n        }\n\n        if (this._isLegacyMethod(paymentMethod)) {\n            return 'legacy';\n        }\n\n        if (paymentMethod.type === paymentMethodTypes.HOSTED) {\n            return 'offsite';\n        }\n\n        return 'creditcard';\n    }\n\n    private _isLegacyMethod(paymentMethod: PaymentMethod): boolean {\n        const config = this._store.getState().config.getStoreConfig();\n\n        if (!config) {\n            throw new MissingDataError(MissingDataErrorType.MissingCheckoutConfig);\n        }\n\n        const { clientSidePaymentProviders } = config.paymentSettings;\n\n        if (!clientSidePaymentProviders || paymentMethod.gateway === 'adyen') {\n            return false;\n        }\n\n        return !some(clientSidePaymentProviders, id =>\n            paymentMethod.id === id || paymentMethod.gateway === id\n        );\n    }\n}\n\nexport interface PaymentStrategyRegistryOptions extends RegistryOptions {\n    clientSidePaymentProviders?: string[];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-registry.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class CreditCardPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = payload;\n        const paymentData = payment && payment.paymentData;\n\n        if (!payment || !paymentData) {\n            throw new PaymentArgumentInvalidError(['payment.paymentData']);\n        }\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment({ ...payment, paymentData }))\n            );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/credit-card-payment-strategy.ts","export { default as SquarePaymentStrategy, SquarePaymentInitializeOptions } from './square-payment-strategy';\nexport { default as SquareScriptLoader } from './square-script-loader';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/square/index.ts","module.exports = require(\"rxjs/observable/from\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/observable/from\"\n// module id = 78\n// module chunks = 0 1","import { Action } from '@bigcommerce/data-store';\n\nexport enum PaymentStrategyActionType {\n    ExecuteFailed = 'PAYMENT_STRATEGY_EXECUTE_FAILED',\n    ExecuteRequested = 'PAYMENT_STRATEGY_EXECUTE_REQUESTED',\n    ExecuteSucceeded = 'PAYMENT_STRATEGY_EXECUTE_SUCCEEDED',\n    FinalizeFailed = 'PAYMENT_STRATEGY_FINALIZE_FAILED',\n    FinalizeRequested = 'PAYMENT_STRATEGY_FINALIZE_REQUESTED',\n    FinalizeSucceeded = 'PAYMENT_STRATEGY_FINALIZE_SUCCEEDED',\n    InitializeFailed = 'PAYMENT_STRATEGY_INITIALIZE_FAILED',\n    InitializeRequested = 'PAYMENT_STRATEGY_INITIALIZE_REQUESTED',\n    InitializeSucceeded = 'PAYMENT_STRATEGY_INITIALIZE_SUCCEEDED',\n    DeinitializeFailed = 'PAYMENT_STRATEGY_DEINITIALIZE_FAILED',\n    DeinitializeRequested = 'PAYMENT_STRATEGY_DEINITIALIZE_REQUESTED',\n    DeinitializeSucceeded = 'PAYMENT_STRATEGY_DEINITIALIZE_SUCCEEDED',\n    WidgetInteractionStarted = 'PAYMENT_STRATEGY_WIDGET_INTERACTION_STARTED',\n    WidgetInteractionFinished = 'PAYMENT_STRATEGY_WIDGET_INTERACTION_FINISHED',\n    WidgetInteractionFailed = 'PAYMENT_STRATEGY_WIDGET_INTERACTION_FAILED',\n}\n\nexport type PaymentStrategyAction =\n    PaymentStrategyExecuteAction |\n    PaymentStrategyFinalizeAction |\n    PaymentStrategyInitializeAction |\n    PaymentStrategyDeinitializeAction |\n    PaymentStrategyWidgetAction;\n\nexport type PaymentStrategyExecuteAction =\n    ExecuteRequestedAction |\n    ExecuteSucceededAction |\n    ExecuteFailedAction;\n\nexport type PaymentStrategyFinalizeAction =\n    FinalizeRequestedAction |\n    FinalizeSucceededAction |\n    FinalizeFailedAction;\n\nexport type PaymentStrategyInitializeAction =\n    InitializeRequestedAction |\n    InitializeSucceededAction |\n    InitializeFailedAction;\n\nexport type PaymentStrategyDeinitializeAction =\n    DeinitializeRequestedAction |\n    DeinitializeSucceededAction |\n    DeinitializeFailedAction;\n\nexport type PaymentStrategyWidgetAction =\n    WidgetInteractionStartedAction |\n    WidgetInteractionFinishedAction |\n    WidgetInteractionFailedAction;\n\nexport interface ExecuteRequestedAction extends Action {\n    type: PaymentStrategyActionType.ExecuteRequested;\n}\n\nexport interface ExecuteSucceededAction extends Action {\n    type: PaymentStrategyActionType.ExecuteSucceeded;\n}\n\nexport interface ExecuteFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.ExecuteFailed;\n}\n\nexport interface FinalizeRequestedAction extends Action {\n    type: PaymentStrategyActionType.FinalizeRequested;\n}\n\nexport interface FinalizeSucceededAction extends Action {\n    type: PaymentStrategyActionType.FinalizeSucceeded;\n}\n\nexport interface FinalizeFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.FinalizeFailed;\n}\n\nexport interface InitializeRequestedAction extends Action {\n    type: PaymentStrategyActionType.InitializeRequested;\n}\n\nexport interface InitializeSucceededAction extends Action {\n    type: PaymentStrategyActionType.InitializeSucceeded;\n}\n\nexport interface InitializeFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.InitializeFailed;\n}\n\nexport interface DeinitializeRequestedAction extends Action {\n    type: PaymentStrategyActionType.DeinitializeRequested;\n}\n\nexport interface DeinitializeSucceededAction extends Action {\n    type: PaymentStrategyActionType.DeinitializeSucceeded;\n}\n\nexport interface DeinitializeFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.DeinitializeFailed;\n}\n\nexport interface WidgetInteractionStartedAction extends Action {\n    type: PaymentStrategyActionType.WidgetInteractionStarted;\n}\n\nexport interface WidgetInteractionFinishedAction extends Action {\n    type: PaymentStrategyActionType.WidgetInteractionFinished;\n}\n\nexport interface WidgetInteractionFailedAction extends Action<Error> {\n    type: PaymentStrategyActionType.WidgetInteractionFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-actions.ts","export default interface PaymentStrategyState {\n    errors: PaymentStrategyErrorsState;\n    statuses: PaymentStrategyStatusesState;\n}\n\nexport interface PaymentStrategyErrorsState {\n    deinitializeError?: Error;\n    deinitializeMethodId?: string;\n    executeError?: Error;\n    executeMethodId?: string;\n    finalizeError?: Error;\n    finalizeMethodId?: string;\n    initializeError?: Error;\n    initializeMethodId?: string;\n    widgetInteractionError?: Error;\n    widgetInteractionMethodId?: string;\n}\n\nexport interface PaymentStrategyStatusesState {\n    deinitializeMethodId?: string;\n    executeMethodId?: string;\n    finalizeMethodId?: string;\n    initializeMethodId?: string;\n    isDeinitializing?: boolean;\n    isExecuting?: boolean;\n    isFinalizing?: boolean;\n    isInitializing?: boolean;\n    isWidgetInteracting?: boolean;\n    widgetInteractionMethodId?: string;\n}\n\nexport const DEFAULT_STATE: PaymentStrategyState = {\n    errors: {},\n    statuses: {},\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-state.ts","import InternalLineItem from './internal-line-item';\nimport { LineItem } from './line-item';\nimport LineItemMap from './line-item-map';\nimport mapGiftCertificateToInternalLineItem from './map-gift-certificate-to-internal-line-item';\nimport mapToInternalLineItem from './map-to-internal-line-item';\n\nexport default function mapToInternalLineItems(\n    itemMap: LineItemMap,\n    decimalPlaces: number,\n    idKey: keyof LineItem = 'id'\n): InternalLineItem[] {\n    return (Object.keys(itemMap) as Array<keyof LineItemMap>)\n        .reduce((result, key) => [\n            ...result,\n            ...(itemMap[key] as LineItem[]).map((item: any) => {\n                if (key === 'giftCertificates') {\n                    return mapGiftCertificateToInternalLineItem(item, decimalPlaces);\n                }\n\n                return mapToInternalLineItem(\n                    item,\n                    mapToInternalLineItemType(key),\n                    decimalPlaces,\n                    idKey\n                );\n            }),\n        ], [] as InternalLineItem[]);\n}\n\nfunction mapToInternalLineItemType(type: string): string {\n    switch (type) {\n        case 'physicalItems':\n            return 'ItemPhysicalEntity';\n\n        case 'digitalItems':\n            return 'ItemDigitalEntity';\n\n        case 'giftCertificates':\n            return 'ItemGiftCertificateEntity';\n\n        default:\n            return '';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/map-to-internal-line-items.ts","import InternalLineItem from './internal-line-item';\nimport { GiftCertificateItem } from './line-item';\n\nimport { AmountTransformer } from '.';\n\nexport default function mapGiftCertificateToInternalLineItem(\n    item: GiftCertificateItem,\n    decimalPlaces: number\n): InternalLineItem {\n    const amountTransformer = new AmountTransformer(decimalPlaces);\n\n    return {\n        id: item.id,\n        imageUrl: '',\n        name: item.name,\n        amount: item.amount,\n        amountAfterDiscount: item.amount,\n        discount: 0,\n        integerAmount: amountTransformer.toInteger(item.amount),\n        integerAmountAfterDiscount: amountTransformer.toInteger(item.amount),\n        integerDiscount: 0,\n        quantity: 1,\n        sender: item.sender,\n        recipient: item.recipient,\n        type: 'ItemGiftCertificateEntity',\n        attributes: [],\n        variantId: null,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/map-gift-certificate-to-internal-line-item.ts","import InternalLineItem from './internal-line-item';\nimport { LineItem } from './line-item';\n\nimport { AmountTransformer } from '.';\n\nexport default function mapToInternalLineItem(\n    item: LineItem,\n    type: string,\n    decimalPlaces: number,\n    idKey: keyof LineItem = 'id'\n): InternalLineItem {\n    const amountTransformer = new AmountTransformer(decimalPlaces);\n\n    return {\n        id: (item[idKey] as string | number),\n        imageUrl: item.imageUrl,\n        amount: item.extendedListPrice,\n        amountAfterDiscount: item.extendedSalePrice,\n        discount: item.discountAmount,\n        integerAmount: amountTransformer.toInteger(item.extendedListPrice),\n        integerAmountAfterDiscount: amountTransformer.toInteger(item.extendedSalePrice),\n        integerDiscount: amountTransformer.toInteger(item.discountAmount),\n        name: item.name,\n        quantity: item.quantity,\n        variantId: item.variantId,\n        attributes: (item.options || []).map(option => ({\n            name: option.name,\n            value: option.value,\n        })),\n        type,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/map-to-internal-line-item.ts","import { isEqual, map } from 'lodash';\n\nimport { CartComparator } from '../cart';\nimport { CartChangedError } from '../cart/errors';\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\nimport { Coupon, GiftCertificate } from '../coupon';\n\nimport Checkout from './checkout';\nimport CheckoutRequestSender from './checkout-request-sender';\n\nexport default class CheckoutValidator {\n    constructor(\n        private _checkoutRequestSender: CheckoutRequestSender\n    ) {}\n\n    validate(checkout?: Checkout, options?: RequestOptions): Promise<void> {\n        if (!checkout) {\n            throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n        }\n\n        return this._checkoutRequestSender.loadCheckout(checkout.id, options)\n            .then(response => {\n                const comparator = new CartComparator();\n\n                if (checkout.grandTotal === response.body.grandTotal\n                    && this._compareCoupons(checkout.coupons, response.body.coupons)\n                    && this._compareGiftCertificates(checkout.giftCertificates, response.body.giftCertificates)\n                    && comparator.isEqual(checkout.cart, response.body.cart)\n                ) {\n                    return;\n                }\n\n                throw new CartChangedError();\n            });\n    }\n\n    private _compareCoupons(couponsA: Coupon[], couponsB: Coupon[]): boolean {\n        return isEqual(map(couponsA, 'code'), map(couponsB, 'code'));\n    }\n\n    private _compareGiftCertificates(giftCertificatesA: GiftCertificate[], giftCertificatesB: GiftCertificate[]): boolean {\n        return isEqual(map(giftCertificatesA, 'code'), map(giftCertificatesB, 'code'));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-validator.ts","import { createRequestSender } from '@bigcommerce/request-sender';\n\nimport { BillingAddressRequestSender } from '../billing';\nimport { ConfigRequestSender } from '../config';\nimport { CustomerRequestSender } from '../customer';\nimport { CountryRequestSender } from '../geography';\nimport { OrderRequestSender } from '../order';\nimport { PaymentMethodRequestSender } from '../payment';\nimport { ConsignmentRequestSender, ShippingCountryRequestSender } from '../shipping';\n\nimport CheckoutClient from './checkout-client';\n\nexport default function createCheckoutClient(config: { locale?: string } = {}): CheckoutClient {\n    const requestSender = createRequestSender();\n\n    const billingAddressRequestSender = new BillingAddressRequestSender(requestSender);\n    const configRequestSender = new ConfigRequestSender(requestSender);\n    const consignmentRequestSender = new ConsignmentRequestSender(requestSender);\n    const countryRequestSender = new CountryRequestSender(requestSender, config);\n    const customerRequestSender = new CustomerRequestSender(requestSender);\n    const orderRequestSender = new OrderRequestSender(requestSender);\n    const paymentMethodRequestSender = new PaymentMethodRequestSender(requestSender);\n    const shippingCountryRequestSender = new ShippingCountryRequestSender(requestSender, config);\n\n    return new CheckoutClient(\n        billingAddressRequestSender,\n        configRequestSender,\n        consignmentRequestSender,\n        countryRequestSender,\n        customerRequestSender,\n        orderRequestSender,\n        paymentMethodRequestSender,\n        shippingCountryRequestSender\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-client.ts","import { Action } from '@bigcommerce/data-store';\n\nimport Config from './config';\n\nexport enum ConfigActionType {\n    LoadConfigRequested = 'LOAD_CONFIG_REQUESTED',\n    LoadConfigSucceeded = 'LOAD_CONFIG_SUCCEEDED',\n    LoadConfigFailed = 'LOAD_CONFIG_FAILED',\n}\n\nexport type LoadConfigAction =\n    LoadConfigRequestedAction |\n    LoadConfigSucceededAction |\n    LoadConfigFailedAction;\n\nexport interface LoadConfigRequestedAction extends Action {\n    type: ConfigActionType.LoadConfigRequested;\n}\n\nexport interface LoadConfigSucceededAction extends Action<Config> {\n    type: ConfigActionType.LoadConfigSucceeded;\n}\n\nexport interface LoadConfigFailedAction extends Action<Error> {\n    type: ConfigActionType.LoadConfigFailed;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-actions.ts","export const LOAD_COUNTRIES_REQUESTED = 'LOAD_COUNTRIES_REQUESTED';\nexport const LOAD_COUNTRIES_SUCCEEDED = 'LOAD_COUNTRIES_SUCCEEDED';\nexport const LOAD_COUNTRIES_FAILED = 'LOAD_COUNTRIES_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-action-types.ts","export const LOAD_INSTRUMENTS_REQUESTED = 'LOAD_INSTRUMENTS_REQUESTED';\nexport const LOAD_INSTRUMENTS_SUCCEEDED = 'LOAD_INSTRUMENTS_SUCCEEDED';\nexport const LOAD_INSTRUMENTS_FAILED = 'LOAD_INSTRUMENTS_FAILED';\n\nexport const DELETE_INSTRUMENT_REQUESTED = 'DELETE_INSTRUMENT_REQUESTED';\nexport const DELETE_INSTRUMENT_SUCCEEDED = 'DELETE_INSTRUMENT_SUCCEEDED';\nexport const DELETE_INSTRUMENT_FAILED = 'DELETE_INSTRUMENT_FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-action-types.ts","import { createDataStore } from '@bigcommerce/data-store';\n\nimport { createRequestErrorFactory } from '../common/error';\n\nimport CheckoutStore, { CheckoutStoreOptions } from './checkout-store';\nimport CheckoutStoreState from './checkout-store-state';\nimport createActionTransformer from './create-action-transformer';\nimport createCheckoutStoreReducer from './create-checkout-store-reducer';\nimport createInternalCheckoutSelectors from './create-internal-checkout-selectors';\n\nexport default function createCheckoutStore(\n    initialState: Partial<CheckoutStoreState> = {},\n    options?: CheckoutStoreOptions\n): CheckoutStore {\n    const actionTransformer = createActionTransformer(createRequestErrorFactory());\n    const stateTransformer = (state: CheckoutStoreState) => createInternalCheckoutSelectors(state);\n\n    return createDataStore(\n        createCheckoutStoreReducer(),\n        initialState,\n        { actionTransformer, stateTransformer, ...options }\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-store.ts","import { BillingAddressSelector } from '../billing';\nimport { CartSelector } from '../cart';\nimport { createFreezeProxies } from '../common/utility';\nimport { ConfigSelector } from '../config';\nimport { CouponSelector, GiftCertificateSelector } from '../coupon';\nimport { CustomerSelector, CustomerStrategySelector } from '../customer';\nimport { FormSelector } from '../form';\nimport { CountrySelector } from '../geography';\nimport { OrderSelector } from '../order';\nimport { PaymentMethodSelector, PaymentStrategySelector } from '../payment';\nimport { PaymentSelector } from '../payment';\nimport { InstrumentSelector } from '../payment/instrument';\nimport { RemoteCheckoutSelector } from '../remote-checkout';\nimport { ConsignmentSelector, ShippingAddressSelector, ShippingCountrySelector, ShippingOptionSelector, ShippingStrategySelector } from '../shipping';\n\nimport CheckoutSelector from './checkout-selector';\nimport { CheckoutStoreOptions } from './checkout-store';\nimport CheckoutStoreState from './checkout-store-state';\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\nexport default function createInternalCheckoutSelectors(state: CheckoutStoreState, options: CheckoutStoreOptions = {}): InternalCheckoutSelectors {\n    const billingAddress = new BillingAddressSelector(state.billingAddress);\n    const cart = new CartSelector(state.cart);\n    const config = new ConfigSelector(state.config);\n    const consignments = new ConsignmentSelector(state.consignments);\n    const countries = new CountrySelector(state.countries);\n    const coupons = new CouponSelector(state.coupons);\n    const customer = new CustomerSelector(state.customer);\n    const customerStrategies = new CustomerStrategySelector(state.customerStrategies);\n    const form = new FormSelector(state.config);\n    const giftCertificates = new GiftCertificateSelector(state.giftCertificates);\n    const instruments = new InstrumentSelector(state.instruments);\n    const paymentMethods = new PaymentMethodSelector(state.paymentMethods);\n    const paymentStrategies = new PaymentStrategySelector(state.paymentStrategies);\n    const shippingAddress = new ShippingAddressSelector(state.consignments, state.config);\n    const remoteCheckout = new RemoteCheckoutSelector(state.remoteCheckout);\n    const shippingCountries = new ShippingCountrySelector(state.shippingCountries);\n    const shippingOptions = new ShippingOptionSelector(state.consignments);\n    const shippingStrategies = new ShippingStrategySelector(state.shippingStrategies);\n\n    // Compose selectors\n    const checkout = new CheckoutSelector(state.checkout, billingAddress, cart, consignments, coupons, customer, giftCertificates);\n    const order = new OrderSelector(state.order, billingAddress, coupons);\n    const payment = new PaymentSelector(checkout, order);\n\n    const selectors = {\n        billingAddress,\n        cart,\n        checkout,\n        config,\n        consignments,\n        countries,\n        coupons,\n        customer,\n        customerStrategies,\n        form,\n        giftCertificates,\n        instruments,\n        order,\n        payment,\n        paymentMethods,\n        paymentStrategies,\n        remoteCheckout,\n        shippingAddress,\n        shippingCountries,\n        shippingOptions,\n        shippingStrategies,\n    };\n\n    return options.shouldWarnMutation ? createFreezeProxies(selectors) : selectors;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-internal-checkout-selectors.ts","export { default as InternalQuote } from './internal-quote';\n\nexport { default as mapToInternalQuote } from './map-to-internal-quote';\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/index.ts","import { getEnvironment } from '../utility';\n\nimport ConsoleLogger from './console-logger';\nimport Logger from './logger';\nimport NoopLogger from './noop-logger';\n\nconst logger = createLogger(getEnvironment() !== 'test');\n\nexport function createLogger(isEnabled = true): Logger {\n    if (!isEnabled) {\n        return new NoopLogger();\n    }\n\n    return new ConsoleLogger(console);\n}\n\nexport function getDefaultLogger(): Logger {\n    return logger;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/log/index.ts","import StandardError from './standard-error';\n\nexport default class InvalidArgumentError extends StandardError {\n    constructor(message?: string) {\n        super(message || 'Invalid arguments have been provided.');\n\n        this.type = 'invalid_argument';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/invalid-argument-error.ts","/**\n * Decorates a class or a method by binding all its prototype methods or itself\n * to the calling instance respectively.\n */\nexport default function bindDecorator<T extends Method>(target: object, key: string, descriptor: TypedPropertyDescriptor<T>): TypedPropertyDescriptor<T>;\nexport default function bindDecorator<T extends Constructor<object>>(target: T): T;\nexport default function bindDecorator(target: any, key?: any, descriptor?: any): any {\n    if (!key || !descriptor) {\n        return bindClassDecorator(target);\n    }\n\n    return bindMethodDecorator(target, key, descriptor);\n}\n\n/**\n * Decorates a class by binding all its prototype methods to the calling\n * instance.\n */\nexport function bindClassDecorator<T extends Constructor<object>>(target: T): T {\n    const decoratedTarget = class extends target {};\n\n    Object.getOwnPropertyNames(target.prototype)\n        .forEach(key => {\n            const descriptor = Object.getOwnPropertyDescriptor(target.prototype, key);\n\n            if (!descriptor || key === 'constructor') {\n                return;\n            }\n\n            Object.defineProperty(\n                decoratedTarget.prototype,\n                key,\n                bindMethodDecorator(target.prototype, key, descriptor)\n            );\n        });\n\n    return decoratedTarget;\n}\n\n/**\n * Decorates a method by binding it to the calling instance.\n */\nexport function bindMethodDecorator<T extends Method>(target: object, key: string, descriptor: TypedPropertyDescriptor<T>): TypedPropertyDescriptor<T> {\n    if (typeof descriptor.value !== 'function') {\n        return descriptor;\n    }\n\n    let method: T = descriptor.value;\n\n    return {\n        get() {\n            const boundMethod = method.bind(this);\n\n            Object.defineProperty(this, key, {\n                ...descriptor,\n                value: boundMethod,\n            });\n\n            return boundMethod;\n        },\n        set(value) {\n            method = value;\n        },\n    };\n}\n\nexport type Constructor<T> = new (...args: any[]) => T;\nexport type Method = (...args: any[]) => any;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/bind-decorator.ts","import { deepFreeze } from '@bigcommerce/data-store';\n\n// tslint:disable-next-line:ban-types\ntype FunctionProperties<T> = { [K in keyof T]: T[K] extends Function ? T[K] : never };\n\nexport default function createFreezeProxy<T extends object>(target: T): T {\n    return createProxy(target, (target, name) =>\n        (...args: any[]) => deepFreeze(target[name].call(target, ...args))\n    );\n}\n\nexport function createFreezeProxies<T extends { [key: string]: object }>(map: T): T {\n    return Object.keys(map)\n        .reduce((result, key) => {\n            result[key] = createFreezeProxy(map[key]);\n\n            return result;\n        }, {} as T);\n}\n\nfunction createProxy<T extends object>(target: T, trap: (target: FunctionProperties<T>, name: keyof FunctionProperties<T>, proxy: T) => any): T {\n    const proxy = Object.create(target);\n\n    traversePrototypeOf(target, prototype => {\n        Object.getOwnPropertyNames(prototype)\n            .forEach(name => {\n                if (name === 'constructor' || typeof proxy[name] !== 'function' || name.charAt(0) === '_') {\n                    return;\n                }\n\n                proxy[name] = trap(target as FunctionProperties<T>, name as keyof T, proxy);\n            });\n    });\n\n    return proxy;\n}\n\nfunction traversePrototypeOf(target: object, iteratee: (prototype: object) => void): void {\n    let prototype = Object.getPrototypeOf(target);\n\n    while (prototype) {\n        iteratee(prototype);\n\n        prototype = Object.getPrototypeOf(prototype);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/create-freeze-proxy.ts","export default class CancellablePromise<T> {\n    promise: Promise<T>;\n    cancel!: (reason?: any) => void;\n\n    constructor(promise: Promise<T>) {\n        const cancellable = new Promise<T>((resolve, reject) => {\n            this.cancel = reject;\n        });\n\n        this.promise = Promise.race([promise, cancellable]);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/cancellable-promise.ts","export default function getEnvironment(): string {\n    try {\n        return process.env.NODE_ENV || 'development';\n    } catch (e) {\n        return 'development';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/get-environment.ts","export interface CompareOptions {\n    keyFilter?(key: string): boolean;\n}\n\nexport default function isEqual(objectA: any, objectB: any, options?: CompareOptions): boolean {\n    if (objectA === objectB) {\n        return true;\n    }\n\n    if (objectA && objectB && typeof objectA === 'object' && typeof objectB === 'object') {\n        if (Array.isArray(objectA) && Array.isArray(objectB)) {\n            return isArrayEqual(objectA, objectB, options);\n        }\n\n        if (Array.isArray(objectA) || Array.isArray(objectB)) {\n            return false;\n        }\n\n        if ((objectA instanceof Date) && (objectB instanceof Date)) {\n            return isDateEqual(objectA, objectB);\n        }\n\n        if ((objectA instanceof Date) || (objectB instanceof Date)) {\n            return false;\n        }\n\n        if ((objectA instanceof RegExp) && (objectB instanceof RegExp)) {\n            return isRegExpEqual(objectA, objectB);\n        }\n\n        if ((objectA instanceof RegExp) || (objectB instanceof RegExp)) {\n            return false;\n        }\n\n        return isObjectEqual(objectA, objectB, options);\n    }\n\n    return objectA === objectB;\n}\n\nfunction isRegExpEqual(objectA: RegExp, objectB: RegExp): boolean {\n    return objectA.toString() === objectB.toString();\n}\n\nfunction isDateEqual(objectA: Date, objectB: Date): boolean {\n    return objectA.getTime() === objectB.getTime();\n}\n\nfunction isArrayEqual(objectA: any[], objectB: any[], options?: CompareOptions): boolean {\n    if (objectA.length !== objectB.length) {\n        return false;\n    }\n\n    for (let index = 0, length = objectA.length; index < length; index++) {\n        if (!isEqual(objectA[index], objectB[index], options)) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction isObjectEqual(\n    objectA: { [key: string]: any },\n    objectB: { [key: string]: any },\n    options?: CompareOptions\n): boolean {\n    const filter = options && options.keyFilter;\n    const keysA = filter ? Object.keys(objectA).filter(filter) : Object.keys(objectA);\n    const keysB = filter ? Object.keys(objectB).filter(filter) : Object.keys(objectB);\n\n    if (keysA.length !== keysB.length) {\n        return false;\n    }\n\n    for (let index = 0, length = keysA.length; index < length; index++) {\n        const key = keysA[index];\n\n        if (!objectB.hasOwnProperty(key)) {\n            return false;\n        }\n\n        if (!isEqual(objectA[key], objectB[key], options)) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/is-equal.ts","import { assign, findIndex, isPlainObject } from 'lodash';\n\n/**\n * Push an item to an array if it doesn't exist in the array. Otherwise, merge\n * with the existing item in the array. This function always returns a new array.\n */\nexport default function mergeOrPush<T extends object>(array: T[], item: T, predicate: (item: T) => boolean): T[] {\n    const index = findIndex(array, predicate);\n    const newArray = [...array];\n\n    if (index === -1) {\n        newArray.push(item);\n    } else {\n        newArray[index] = isPlainObject(item) ? assign({}, array[index], item) : item;\n    }\n\n    return newArray;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/merge-or-push.ts","import isPrivate from './is-private';\nimport omitDeep from './omit-deep';\n\nexport default function omitPrivate(object: any): any {\n    return omitDeep(object, (value: any, key: string) => isPrivate(key));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/omit-private.ts","export default function setPrototypeOf(object: any, prototype: object) {\n    if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(object, prototype);\n    } else {\n        object.__proto__ = prototype;\n    }\n\n    return object;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/set-prototype-of.ts","export default function toSingleLine(input: string) {\n    return input.split(/(?:\\r\\n|\\n|\\r)/)\n        .map(line => line.replace(/^\\s+/gm, ''))\n        .join(' ')\n        .trim();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utility/to-single-line.ts","import StandardError from './standard-error';\n\nexport enum MissingDataErrorType {\n    MissingBillingAddress,\n    MissingCart,\n    MissingCheckout,\n    MissingCheckoutConfig,\n    MissingOrder,\n    MissingOrderConfig,\n    MissingOrderId,\n    MissingPaymentMethod,\n    MissingShippingAddress,\n}\n\nexport default class MissingDataError extends StandardError {\n    constructor(\n        public subtype: MissingDataErrorType\n    ) {\n        super(getErrorMessage(subtype));\n\n        this.type = 'missing_data';\n    }\n}\n\nfunction getErrorMessage(type: MissingDataErrorType): string {\n    switch (type) {\n    case MissingDataErrorType.MissingBillingAddress:\n        return 'Unable to proceed because billing address data is unavailable or not provided.';\n\n    case MissingDataErrorType.MissingCart:\n        return 'Unable to proceed because cart data is unavailable.';\n\n    case MissingDataErrorType.MissingCheckout:\n        return 'Unable to proceed because checkout data is unavailable.';\n\n    case MissingDataErrorType.MissingCheckoutConfig:\n    case MissingDataErrorType.MissingOrderConfig:\n        return 'Unable to proceed because configuration data is unavailable.';\n\n    case MissingDataErrorType.MissingOrder:\n        return 'Unable to proceed because order data is unavailable.';\n\n    case MissingDataErrorType.MissingOrderId:\n        return 'Unable to proceed because order ID is unavailable or not generated yet.';\n\n    case MissingDataErrorType.MissingPaymentMethod:\n        return 'Unable to proceed because payment method data is unavailable or not properly configured.';\n\n    case MissingDataErrorType.MissingShippingAddress:\n        return 'Unable to proceed because shipping address data is unavailable or not provided.';\n\n    default:\n        return 'Unable to proceed because the required data is unavailable.';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/missing-data-error.ts","import StandardError from './standard-error';\n\nexport default class NotImplementedError extends StandardError {\n    constructor(message?: string) {\n        super(message || 'Not implemented.');\n\n        this.type = 'not_implemented';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/not-implemented-error.ts","import StandardError from './standard-error';\n\nexport enum NotInitializedErrorType {\n    CustomerNotInitialized,\n    PaymentNotInitialized,\n    ShippingNotInitialized,\n}\n\nexport default class NotInitializedError extends StandardError {\n    constructor(\n        public subtype: NotInitializedErrorType\n    ) {\n        super(getErrorMessage(subtype));\n\n        this.type = 'not_initialized';\n    }\n}\n\nfunction getErrorMessage(type: NotInitializedErrorType): string {\n    switch (type) {\n    case NotInitializedErrorType.CustomerNotInitialized:\n        return 'Unable to proceed because the customer step of checkout has not been initialized.';\n\n    case NotInitializedErrorType.PaymentNotInitialized:\n        return 'Unable to proceed because the payment step of checkout has not been initialized.';\n\n    case NotInitializedErrorType.ShippingNotInitialized:\n        return 'Unable to proceed because the shipping step of checkout has not been initialized.';\n\n    default:\n        return 'Unable to proceed because the required component has not been initialized.';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/not-initialized-error.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport RequestError from './request-error';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class TimeoutError extends RequestError {\n    constructor(response?: Response) {\n        super(response, 'The request has timed out or aborted.');\n\n        this.type = 'timeout';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/timeout-error.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport RequestError from './request-error';\n\nexport default class UnrecoverableError extends RequestError {\n    constructor(response: Response, message?: string) {\n        super(response, message || 'An unexpected error has occurred. The checkout process cannot continue as a result.');\n\n        this.type = 'unrecoverable';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/unrecoverable-error.ts","import StandardError from './standard-error';\n\nexport default class UnsupportedBrowserError extends StandardError {\n    constructor(message?: string) {\n        super(message || 'Unsupported browser error');\n\n        this.type = 'unsupported_browser';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/errors/unsupported-browser-error.ts","enum ContentType {\n    Json = 'application/json',\n    JsonV1 = 'application/vnd.bc.v1+json',\n}\n\nexport default ContentType;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/http-request/content-type.ts","export default function toFormUrlEncoded(data: { [key: string]: object | string | undefined }): string {\n    return Object.keys(data)\n        .filter(key => data[key] !== undefined)\n        .map(key => {\n            const value = data[key];\n\n            if (typeof value === 'string') {\n                return `${key}=${encodeURIComponent(value)}`;\n            }\n\n            return `${key}=${encodeURIComponent(JSON.stringify(value) || '')}`;\n        })\n        .join('&');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/http-request/to-form-url-encoded.ts","export default class CacheKeyResolver {\n    private _lastId = 0;\n    private _maps: CacheKeyMap[] = [];\n\n    getKey(...args: any[]): string {\n        const { index, map, parentMaps } = this._resolveMap(...args);\n\n        if (map && map.cacheKey) {\n            map.usedCount++;\n\n            return map.cacheKey;\n        }\n\n        return this._generateKey(parentMaps, args.slice(index));\n    }\n\n    getUsedCount(...args: any[]): number {\n        const { map } = this._resolveMap(...args);\n\n        return map ? map.usedCount : 0;\n    }\n\n    private _resolveMap(...args: any[]): ResolveResult {\n        let index = 0;\n        let parentMaps = this._maps;\n\n        while (parentMaps.length) {\n            let isMatched = false;\n\n            for (const map of parentMaps) {\n                if (map.value !== args[index]) {\n                    continue;\n                }\n\n                if ((args.length === 0 || index === args.length - 1) && map.cacheKey) {\n                    return { index, map, parentMaps };\n                }\n\n                isMatched = true;\n                parentMaps = map.maps;\n                index++;\n\n                break;\n            }\n\n            if (!isMatched) {\n                break;\n            }\n        }\n\n        return { index, parentMaps };\n    }\n\n    private _generateKey(maps: CacheKeyMap[], args: any[]): string {\n        let index = 0;\n        let parentMaps = maps;\n        let map!: CacheKeyMap;\n\n        do {\n            map = {\n                usedCount: 1,\n                value: args[index],\n                maps: [],\n            };\n\n            parentMaps.push(map);\n\n            parentMaps = map.maps;\n            index++;\n        } while (index < args.length);\n\n        map.cacheKey = `${++this._lastId}`;\n\n        return map.cacheKey;\n    }\n}\n\ninterface CacheKeyMap {\n    maps: CacheKeyMap[];\n    value: any;\n    usedCount: number;\n    cacheKey?: string;\n}\n\ninterface ResolveResult {\n    index: number;\n    parentMaps: CacheKeyMap[];\n    map?: CacheKeyMap;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/selector/cache-key-resolver.ts","import {\n    CheckoutSelectors,\n    CheckoutStoreErrorSelector,\n    CheckoutStoreSelector,\n    CheckoutStoreStatusSelector,\n    InternalCheckoutSelectors,\n} from '../checkout';\n\nexport default function createCheckoutSelectors(selectors: InternalCheckoutSelectors): CheckoutSelectors {\n    const data = new CheckoutStoreSelector(selectors);\n    const errors = new CheckoutStoreErrorSelector(selectors);\n    const statuses = new CheckoutStoreStatusSelector(selectors);\n\n    return {\n        checkout: data, // Deprecated\n        data,\n        errors,\n        statuses,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-selectors.ts","import { ErrorMessageTransformer } from '../common/error';\nimport { MissingDataError, MissingDataErrorType, NotInitializedError, NotInitializedErrorType } from '../common/error/errors';\nimport { getEnvironment } from '../common/utility';\n\nexport type CheckoutServiceErrorType = MissingDataError | NotInitializedError;\nexport type CheckoutServiceErrorTransformer = ErrorMessageTransformer<CheckoutServiceErrorType | Error>;\n\nexport default function createCheckoutServiceErrorTransformer(\n    isDevelopment: boolean = getEnvironment() === 'development'\n): CheckoutServiceErrorTransformer {\n    return new ErrorMessageTransformer(error => {\n        if (!isDevelopment || !isCheckoutServiceError(error)) {\n            return error.message;\n        }\n\n        switch (error.subtype || error.type) {\n        case MissingDataErrorType.MissingBillingAddress:\n        case MissingDataErrorType.MissingShippingAddress:\n            return `\n                ${error.message}\n                The data could be unavailable because it has not loaded from the server, or\n                provided by the customer yet. To fix the former issue, you can try calling\n                \\`CheckoutService#loadCheckout\\` before performing the same action again.\n            `;\n\n        case MissingDataErrorType.MissingCart:\n        case MissingDataErrorType.MissingCheckout:\n            return `\n                ${error.message}\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you can try calling \\`CheckoutService#loadCheckout\\`\n                before performing the same action again.\n            `;\n\n        case MissingDataErrorType.MissingCheckoutConfig:\n            return `\n                ${error.message}\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you need to make sure \\`CheckoutService\\` is initialized\n                properly by calling \\`CheckoutService#loadCheckout\\` before performing any\n                other actions.\n            `;\n\n        case MissingDataErrorType.MissingOrder:\n            return `\n                ${error.message}\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you can try calling \\`CheckoutService#loadOrder\\`\n                before performing the same action again.\n            `;\n\n        case MissingDataErrorType.MissingOrderId:\n            return `\n                ${error.message}\n                The data could be unavailable because no order has been created yet. You have\n                to first create the order before you can perform the action.\n            `;\n\n        case MissingDataErrorType.MissingPaymentMethod:\n            return `\n                ${error.message}\n                The data could be unavailable because it has not loaded from the server, or\n                configured by the merchant yet. To fix the former issue, you can try calling\n                \\`CheckoutService#loadPaymentMethods\\` before performing the same action again.\n            `;\n\n        case NotInitializedErrorType.CustomerNotInitialized:\n            return `\n                In order to initialize the customer step of checkout, you need to call\n                \\`CheckoutService#initializeCustomer\\`. Afterwards, you should be able to\n                submit customer details.\n            `;\n\n        case NotInitializedErrorType.PaymentNotInitialized:\n            return `\n                ${error.message}\n                In order to initialize the payment step of checkout, you need to call\n                \\`CheckoutService#initializePayment\\`. Afterwards, you should be able to\n                submit payment details.\n            `;\n\n        case NotInitializedErrorType.ShippingNotInitialized:\n            return `\n                ${error.message}\n                In order to initialize the shipping step of checkout, you need to call\n                \\`CheckoutService#initializeShipping\\`. Afterwards, you should be able to\n                submit shipping details.\n            `;\n\n        default:\n            return error.message;\n        }\n    });\n}\n\nfunction isCheckoutServiceError(error: any): error is CheckoutServiceErrorType {\n    return !!(error.subtype || error.type);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-service-error-transformer.ts","import { PaymentMethodInvalidError } from '../../payment/errors';\n\nimport { UnrecoverableError } from './errors';\nimport RequestErrorFactory from './request-error-factory';\n\nexport default function createRequestErrorFactory(): RequestErrorFactory {\n    const factory = new RequestErrorFactory();\n\n    const unrecoverableErrorTypes = [\n        'catalog_only',\n        'empty_cart',\n        'invalid_order_id',\n        'invalid_order_token',\n        'missing_order_token',\n        'missing_provider_token',\n        'missing_shipping_method',\n        'order_completion_error',\n        'order_could_not_be_finalized_error',\n        'order_create_failed',\n        'provider_fatal_error',\n        'provider_setup_error',\n        'stock_too_low',\n    ];\n\n    unrecoverableErrorTypes.forEach(type => {\n        factory.register(type, (response, message) => new UnrecoverableError(response, message));\n    });\n\n    factory.register('invalid_payment_provider', response => new PaymentMethodInvalidError(response));\n    factory.register('payment_config_not_found', response => new PaymentMethodInvalidError(response));\n\n    return factory;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/create-request-error-factory.ts","import { InvalidArgumentError } from '../../common/error/errors';\n\nexport default class PaymentArgumentInvalidError extends InvalidArgumentError {\n    constructor(invalidFields?: string[]) {\n        let message = 'Unable to submit payment for the order because the payload is invalid.';\n\n        if (invalidFields) {\n            message = `${message} Make sure the following fields are provided correctly: ${invalidFields.join(', ')}.`;\n        }\n\n        super(message);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/errors/payment-argument-invalid-error.ts","import { Response } from '@bigcommerce/request-sender';\n\nimport { RequestError } from '../../common/error/errors';\n\nexport default class PaymentMethodInvalidError extends RequestError {\n    constructor(response?: Response) {\n        super(response, 'There is a problem processing your payment. Please try again later.');\n\n        this.type = 'payment_method_invalid';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/errors/payment-method-invalid-error.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class PaymentMethodCancelledError extends StandardError {\n    constructor() {\n        super('Payment process was cancelled.');\n\n        this.type = 'payment_cancelled';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/errors/payment-method-cancelled-error.ts","import { toSingleLine } from '../utility';\n\nexport default class ErrorMessageTransformer<TError extends Error = Error> {\n    constructor(\n        private _messageCustomizer: (type: TError) => string\n    ) {}\n\n    transform(error: TError): TError {\n        error.message = toSingleLine(this._messageCustomizer(error));\n\n        return error;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/error/error-message-transformer.ts","import { BillingAddressSelector } from '../billing';\nimport { CartSelector } from '../cart';\nimport { selector } from '../common/selector';\nimport { ConfigSelector } from '../config';\nimport { CouponSelector, GiftCertificateSelector } from '../coupon';\nimport { CustomerStrategySelector } from '../customer';\nimport { CountrySelector } from '../geography';\nimport { OrderSelector } from '../order';\nimport { PaymentMethodSelector, PaymentStrategySelector } from '../payment';\nimport { InstrumentSelector } from '../payment/instrument';\nimport { ShippingCountrySelector, ShippingOptionSelector, ShippingStrategySelector } from '../shipping';\n\nimport CheckoutSelector from './checkout-selector';\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\n/**\n * Responsible for getting the error of any asynchronous checkout action, if\n * there is any.\n *\n * This object has a set of getters that would return an error if an action is\n * not executed successfully. For example, if you are unable to submit an order,\n * you can use this object to retrieve the reason for the failure.\n */\n@selector\nexport default class CheckoutStoreErrorSelector {\n    private _billingAddress: BillingAddressSelector;\n    private _cart: CartSelector;\n    private _checkout: CheckoutSelector;\n    private _config: ConfigSelector;\n    private _countries: CountrySelector;\n    private _coupons: CouponSelector;\n    private _customerStrategies: CustomerStrategySelector;\n    private _giftCertificates: GiftCertificateSelector;\n    private _instruments: InstrumentSelector;\n    private _order: OrderSelector;\n    private _paymentMethods: PaymentMethodSelector;\n    private _paymentStrategies: PaymentStrategySelector;\n    private _shippingCountries: ShippingCountrySelector;\n    private _shippingOptions: ShippingOptionSelector;\n    private _shippingStrategies: ShippingStrategySelector;\n\n    /**\n     * @internal\n     */\n    constructor(selectors: InternalCheckoutSelectors) {\n        this._billingAddress = selectors.billingAddress;\n        this._cart = selectors.cart;\n        this._checkout = selectors.checkout;\n        this._config = selectors.config;\n        this._countries = selectors.countries;\n        this._coupons = selectors.coupons;\n        this._customerStrategies = selectors.customerStrategies;\n        this._giftCertificates = selectors.giftCertificates;\n        this._instruments = selectors.instruments;\n        this._order = selectors.order;\n        this._paymentMethods = selectors.paymentMethods;\n        this._paymentStrategies = selectors.paymentStrategies;\n        this._shippingCountries = selectors.shippingCountries;\n        this._shippingOptions = selectors.shippingOptions;\n        this._shippingStrategies = selectors.shippingStrategies;\n    }\n\n    /**\n     * Gets the error of any checkout action that has failed.\n     *\n     * @returns The error object if unable to perform any checkout action,\n     * otherwise undefined.\n     */\n    getError(): Error | undefined {\n        return this.getLoadCheckoutError() ||\n            this.getSubmitOrderError() ||\n            this.getFinalizeOrderError() ||\n            this.getLoadOrderError() ||\n            this.getLoadCartError() ||\n            this.getLoadBillingCountriesError() ||\n            this.getLoadShippingCountriesError() ||\n            this.getLoadPaymentMethodsError() ||\n            this.getLoadPaymentMethodError() ||\n            this.getInitializePaymentError() ||\n            this.getLoadShippingOptionsError() ||\n            this.getSelectShippingOptionError() ||\n            this.getSignInError() ||\n            this.getSignOutError() ||\n            this.getInitializeCustomerError() ||\n            this.getUpdateBillingAddressError() ||\n            this.getUpdateShippingAddressError() ||\n            this.getInitializeShippingError() ||\n            this.getApplyCouponError() ||\n            this.getRemoveCouponError() ||\n            this.getApplyGiftCertificateError() ||\n            this.getRemoveGiftCertificateError() ||\n            this.getLoadInstrumentsError() ||\n            this.getDeleteInstrumentError() ||\n            this.getLoadConfigError();\n    }\n\n    /**\n     * Returns an error if unable to load the current checkout.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadCheckoutError(): Error | undefined {\n        return this._checkout.getLoadError();\n    }\n\n    /**\n     * Returns an error if unable to submit the current order.\n     *\n     * @returns The error object if unable to submit, otherwise undefined.\n     */\n    getSubmitOrderError(): Error | undefined {\n        return this._paymentStrategies.getExecuteError();\n    }\n\n    /**\n     * Returns an error if unable to finalize the current order.\n     *\n     * @returns The error object if unable to finalize, otherwise undefined.\n     */\n    getFinalizeOrderError(): Error | undefined {\n        return this._paymentStrategies.getFinalizeError();\n    }\n\n    /**\n     * Returns an error if unable to load the current order.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadOrderError(): Error | undefined {\n        return this._order.getLoadError();\n    }\n\n    /**\n     * Returns an error if unable to load the current cart.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadCartError(): Error | undefined {\n        return this._cart.getLoadError();\n    }\n\n    /**\n     * Returns an error if unable to load billing countries.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadBillingCountriesError(): Error | undefined {\n        return this._countries.getLoadError();\n    }\n\n    /**\n     * Returns an error if unable to load shipping countries.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadShippingCountriesError(): Error | undefined {\n        return this._shippingCountries.getLoadError();\n    }\n\n    /**\n     * Returns an error if unable to load payment methods.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadPaymentMethodsError(): Error | undefined {\n        return this._paymentMethods.getLoadError();\n    }\n\n    /**\n     * Returns an error if unable to load a specific payment method.\n     *\n     * @param methodId - The identifier of the payment method to load.\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadPaymentMethodError(methodId?: string): Error | undefined {\n        return this._paymentMethods.getLoadMethodError(methodId);\n    }\n\n    /**\n     * Returns an error if unable to initialize a specific payment method.\n     *\n     * @param methodId - The identifier of the payment method to initialize.\n     * @returns The error object if unable to initialize, otherwise undefined.\n     */\n    getInitializePaymentError(methodId?: string): Error | undefined {\n        return this._paymentStrategies.getInitializeError(methodId);\n    }\n\n    /**\n     * Returns an error if unable to sign in.\n     *\n     * @returns The error object if unable to sign in, otherwise undefined.\n     */\n    getSignInError(): Error | undefined {\n        return this._customerStrategies.getSignInError();\n    }\n\n    /**\n     * Returns an error if unable to sign out.\n     *\n     * @returns The error object if unable to sign out, otherwise undefined.\n     */\n    getSignOutError(): Error | undefined {\n        return this._customerStrategies.getSignOutError();\n    }\n\n    /**\n     * Returns an error if unable to initialize the customer step of a checkout\n     * process.\n     *\n     * @param methodId - The identifer of the initialization method to execute.\n     * @returns The error object if unable to initialize, otherwise undefined.\n     */\n    getInitializeCustomerError(methodId?: string): Error | undefined {\n        return this._customerStrategies.getInitializeError(methodId);\n    }\n\n    /**\n     * Returns an error if unable to load shipping options.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadShippingOptionsError(): Error | undefined {\n        return this._shippingOptions.getLoadError();\n    }\n\n    /**\n     * Returns an error if unable to select a shipping option.\n     *\n     * @returns The error object if unable to select, otherwise undefined.\n     */\n    getSelectShippingOptionError(): Error | undefined {\n        return this._shippingStrategies.getSelectOptionError();\n    }\n\n    /**\n     * Returns an error if unable to update a billing address.\n     *\n     * @returns The error object if unable to update, otherwise undefined.\n     */\n    getUpdateBillingAddressError(): Error | undefined {\n        return this._billingAddress.getUpdateError();\n    }\n\n    /**\n     * Returns an error if unable to update a shipping address.\n     *\n     * @returns The error object if unable to update, otherwise undefined.\n     */\n    getUpdateShippingAddressError(): Error | undefined {\n        return this._shippingStrategies.getUpdateAddressError();\n    }\n\n    /**\n     * Returns an error if unable to initialize the shipping step of a checkout\n     * process.\n     *\n     * @param methodId - The identifer of the initialization method to execute.\n     * @returns The error object if unable to initialize, otherwise undefined.\n     */\n    getInitializeShippingError(methodId?: string): Error | undefined {\n        return this._shippingStrategies.getInitializeError(methodId);\n    }\n\n    /**\n     * Returns an error if unable to apply a coupon code.\n     *\n     * @returns The error object if unable to apply, otherwise undefined.\n     */\n    getApplyCouponError(): Error | undefined {\n        return this._coupons.getApplyError();\n    }\n\n    /**\n     * Returns an error if unable to remove a coupon code.\n     *\n     * @returns The error object if unable to remove, otherwise undefined.\n     */\n    getRemoveCouponError(): Error | undefined {\n        return this._coupons.getRemoveError();\n    }\n\n    /**\n     * Returns an error if unable to apply a gift certificate.\n     *\n     * @returns The error object if unable to apply, otherwise undefined.\n     */\n    getApplyGiftCertificateError(): Error | undefined {\n        return this._giftCertificates.getApplyError();\n    }\n\n    /**\n     * Returns an error if unable to remove a gift certificate.\n     *\n     * @returns The error object if unable to remove, otherwise undefined.\n     */\n    getRemoveGiftCertificateError(): Error | undefined {\n        return this._giftCertificates.getRemoveError();\n    }\n\n    /**\n     * Returns an error if unable to load payment instruments.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadInstrumentsError(): Error | undefined {\n        return this._instruments.getLoadError();\n    }\n\n    /**\n     * Returns an error if unable to delete a payment instrument.\n     *\n     * @param instrumentId - The identifier of the payment instrument to delete.\n     * @returns The error object if unable to delete, otherwise undefined.\n     */\n    getDeleteInstrumentError(instrumentId?: string): Error | undefined {\n        return this._instruments.getDeleteError(instrumentId);\n    }\n\n    /**\n     * Returns an error if unable to load the checkout configuration of a store.\n     *\n     * @returns The error object if unable to load, otherwise undefined.\n     */\n    getLoadConfigError(): Error | undefined {\n        return this._config.getLoadError();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-store-error-selector.ts","import { mapToInternalAddress, InternalAddress } from '../address';\nimport { BillingAddressSelector } from '../billing';\nimport { mapToInternalCart, InternalCart } from '../cart';\nimport { selector } from '../common/selector';\nimport { ConfigSelector } from '../config';\nimport { StoreConfig } from '../config/config';\nimport { mapToInternalCoupon, mapToInternalGiftCertificate, CouponSelector, GiftCertificateSelector, InternalCoupon, InternalGiftCertificate } from '../coupon';\nimport { mapToInternalCustomer, CustomerSelector, InternalCustomer } from '../customer';\nimport { FormField, FormSelector } from '../form';\nimport { Country, CountrySelector } from '../geography';\nimport { mapToInternalOrder, InternalOrder, OrderSelector } from '../order';\nimport { PaymentMethod, PaymentMethodSelector, PaymentSelector } from '../payment';\nimport { Instrument, InstrumentSelector } from '../payment/instrument';\nimport { mapToInternalQuote, InternalQuote } from '../quote';\nimport {\n    mapToInternalShippingOption,\n    mapToInternalShippingOptions,\n    InternalShippingOption,\n    InternalShippingOptionList,\n    ShippingAddressSelector,\n    ShippingCountrySelector,\n    ShippingOptionSelector,\n} from '../shipping';\nimport ConsignmentSelector from '../shipping/consignment-selector';\n\nimport Checkout from './checkout';\nimport CheckoutSelector from './checkout-selector';\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\n/**\n * Responsible for getting the state of the current checkout.\n *\n * This object has a set of methods that allow you to get a specific piece of\n * checkout information, such as shipping and billing details.\n */\n@selector\nexport default class CheckoutStoreSelector {\n    private _billingAddress: BillingAddressSelector;\n    private _checkout: CheckoutSelector;\n    private _config: ConfigSelector;\n    private _consignments: ConsignmentSelector;\n    private _countries: CountrySelector;\n    private _coupons: CouponSelector;\n    private _customer: CustomerSelector;\n    private _form: FormSelector;\n    private _giftCertificates: GiftCertificateSelector;\n    private _instruments: InstrumentSelector;\n    private _order: OrderSelector;\n    private _payment: PaymentSelector;\n    private _paymentMethods: PaymentMethodSelector;\n    private _shippingAddress: ShippingAddressSelector;\n    private _shippingCountries: ShippingCountrySelector;\n    private _shippingOptions: ShippingOptionSelector;\n\n    /**\n     * @internal\n     */\n    constructor(selectors: InternalCheckoutSelectors) {\n        this._billingAddress = selectors.billingAddress;\n        this._checkout = selectors.checkout;\n        this._config = selectors.config;\n        this._consignments = selectors.consignments;\n        this._countries = selectors.countries;\n        this._coupons = selectors.coupons;\n        this._customer = selectors.customer;\n        this._form = selectors.form;\n        this._giftCertificates = selectors.giftCertificates;\n        this._instruments = selectors.instruments;\n        this._order = selectors.order;\n        this._payment = selectors.payment;\n        this._paymentMethods = selectors.paymentMethods;\n        this._shippingAddress = selectors.shippingAddress;\n        this._shippingCountries = selectors.shippingCountries;\n        this._shippingOptions = selectors.shippingOptions;\n    }\n\n    /**\n     * Gets the current checkout.\n     *\n     * @returns The current checkout if it is loaded, otherwise undefined.\n     */\n    getCheckout(): Checkout | undefined {\n        return this._checkout.getCheckout();\n    }\n\n    /**\n     * Gets the current quote.\n     *\n     * @deprecated This method will be replaced in the future.\n     * @returns The current quote if it is loaded, otherwise undefined.\n     */\n    getQuote(): InternalQuote | undefined {\n        const checkout = this._checkout.getCheckout();\n        const shippingAddress = this._shippingAddress.getShippingAddress();\n\n        return checkout && mapToInternalQuote(checkout, shippingAddress);\n    }\n\n    /**\n     * Gets the current order.\n     *\n     * @returns The current order if it is loaded, otherwise undefined.\n     */\n    getOrder(): InternalOrder | undefined {\n        const order = this._order.getOrder();\n\n        return order ? mapToInternalOrder(order) : undefined;\n    }\n\n    /**\n     * Gets the checkout configuration of a store.\n     *\n     * @returns The configuration object if it is loaded, otherwise undefined.\n     */\n    getConfig(): StoreConfig | undefined {\n        return this._config.getStoreConfig();\n    }\n\n    /**\n     * Gets the shipping address of the current checkout.\n     *\n     * If the address is partially complete, it may not have shipping options\n     * associated with it.\n     *\n     * @returns The shipping address object if it is loaded, otherwise\n     * undefined.\n     */\n    getShippingAddress(): InternalAddress | undefined {\n        const shippingAddress = this._shippingAddress.getShippingAddress();\n\n        return shippingAddress && mapToInternalAddress(shippingAddress);\n    }\n\n    /**\n     * Gets a list of shipping options available for each shipping address.\n     *\n     * If there is no shipping address assigned to the current checkout, the\n     * list of shipping options will be empty.\n     *\n     * @returns The list of shipping options per address if loaded, otherwise\n     * undefined.\n     */\n    getShippingOptions(): InternalShippingOptionList | undefined {\n        // @todo: once we remove the mappers, this should use the shippingOption selector\n        const consignments = this._consignments.getConsignments();\n\n        return consignments && mapToInternalShippingOptions(consignments);\n    }\n\n    /**\n     * Gets the selected shipping option for the current checkout.\n     *\n     * @returns The shipping option object if there is a selected option,\n     * otherwise undefined.\n     */\n    getSelectedShippingOption(): InternalShippingOption | undefined {\n        const shippingOption = this._shippingOptions.getSelectedShippingOption();\n\n        return shippingOption  && mapToInternalShippingOption(shippingOption, true);\n    }\n\n    /**\n     * Gets a list of countries available for shipping.\n     *\n     * @returns The list of countries if it is loaded, otherwise undefined.\n     */\n    getShippingCountries(): Country[] | undefined {\n        return this._shippingCountries.getShippingCountries();\n    }\n\n    /**\n     * Gets the billing address of an order.\n     *\n     * @returns The billing address object if it is loaded, otherwise undefined.\n     */\n    getBillingAddress(): InternalAddress | undefined {\n        const billingAddress = this._billingAddress.getBillingAddress();\n\n        return billingAddress && mapToInternalAddress(billingAddress);\n    }\n\n    /**\n     * Gets a list of countries available for billing.\n     *\n     * @returns The list of countries if it is loaded, otherwise undefined.\n     */\n    getBillingCountries(): Country[] | undefined {\n        return this._countries.getCountries();\n    }\n\n    /**\n     * Gets a list of payment methods available for checkout.\n     *\n     * @returns The list of payment methods if it is loaded, otherwise undefined.\n     */\n    getPaymentMethods(): PaymentMethod[] | undefined {\n        return this._paymentMethods.getPaymentMethods();\n    }\n\n    /**\n     * Gets a payment method by an id.\n     *\n     * The method returns undefined if unable to find a payment method with the\n     * specified id, either because it is not available for the customer, or it\n     * is not loaded.\n     *\n     * @param methodId - The identifier of the payment method.\n     * @param gatewayId - The identifier of a payment provider providing the\n     * payment method.\n     * @returns The payment method object if loaded and available, otherwise,\n     * undefined.\n     */\n    getPaymentMethod(methodId: string, gatewayId?: string): PaymentMethod | undefined {\n        return this._paymentMethods.getPaymentMethod(methodId, gatewayId);\n    }\n\n    /**\n     * Gets the payment method that is selected for checkout.\n     *\n     * @returns The payment method object if there is a selected method;\n     * undefined if otherwise.\n     */\n    getSelectedPaymentMethod(): PaymentMethod | undefined {\n        const payment = this._payment.getPaymentId();\n\n        return payment && this._paymentMethods.getPaymentMethod(payment.providerId, payment.gatewayId);\n    }\n\n    /**\n     * Gets the current cart.\n     *\n     * @returns The current cart object if it is loaded, otherwise undefined.\n     */\n    getCart(): InternalCart | undefined {\n        const checkout = this._checkout.getCheckout();\n\n        return checkout ? mapToInternalCart(checkout) : undefined;\n    }\n\n    /**\n     * Gets a list of coupons that are applied to the current checkout.\n     *\n     * @returns The list of applied coupons if there is any, otherwise undefined.\n     */\n    getCoupons(): InternalCoupon[] | undefined {\n        const coupons = this._coupons.getCoupons();\n\n        return coupons ? coupons.map(mapToInternalCoupon) : undefined;\n    }\n\n    /**\n     * Gets a list of gift certificates that are applied to the current checkout.\n     *\n     * @returns The list of applied gift certificates if there is any, otherwise undefined.\n     */\n    getGiftCertificates(): InternalGiftCertificate[] | undefined {\n        const giftCertificates = this._giftCertificates.getGiftCertificates();\n\n        return giftCertificates ? giftCertificates.map(mapToInternalGiftCertificate) : undefined;\n    }\n\n    /**\n     * Gets the current customer.\n     *\n     * @returns The current customer object if it is loaded, otherwise\n     * undefined.\n     */\n    getCustomer(): InternalCustomer | undefined {\n        const customer = this._customer.getCustomer();\n        const checkout = this._checkout.getCheckout();\n        const cart = checkout && checkout.cart;\n        const billingAddress = checkout && checkout.billingAddress;\n\n        if (!customer || !billingAddress || !cart) {\n            return;\n        }\n\n        return mapToInternalCustomer(customer, cart, billingAddress);\n    }\n\n    /**\n     * Checks if payment data is required or not.\n     *\n     * If payment data is required, customers should be prompted to enter their\n     * payment details.\n     *\n     * ```js\n     * if (state.checkout.isPaymentDataRequired()) {\n     *     // Render payment form\n     * } else {\n     *     // Render \"Payment is not required for this order\" message\n     * }\n     * ```\n     *\n     * @param useStoreCredit - If true, check whether payment data is required\n     * with store credit applied; otherwise, check without store credit.\n     * @returns True if payment data is required, otherwise false.\n     */\n    isPaymentDataRequired(useStoreCredit?: boolean): boolean {\n        return this._payment.isPaymentDataRequired(useStoreCredit);\n    }\n\n    /**\n     * Checks if payment data is submitted or not.\n     *\n     * If payment data is already submitted using a payment method, customers\n     * should not be prompted to enter their payment details again.\n     *\n     * @param methodId - The identifier of the payment method.\n     * @param gatewayId - The identifier of a payment provider providing the\n     * payment method.\n     * @returns True if payment data is submitted, otherwise false.\n     */\n    isPaymentDataSubmitted(methodId: string, gatewayId?: string): boolean {\n        return this._payment.isPaymentDataSubmitted(this.getPaymentMethod(methodId, gatewayId));\n    }\n\n    /**\n     * Gets a list of payment instruments associated with the current customer.\n     *\n     * @returns The list of payment instruments if it is loaded, otherwise undefined.\n     */\n    getInstruments(): Instrument[] | undefined {\n        return this._instruments.getInstruments();\n    }\n\n    /**\n     * Gets a set of form fields that should be presented to customers in order\n     * to capture their billing address for a specific country.\n     *\n     * @param countryCode - A 2-letter country code (ISO 3166-1 alpha-2).\n     * @returns The set of billing address form fields if it is loaded,\n     * otherwise undefined.\n     */\n    getBillingAddressFields(countryCode: string): FormField[] {\n        return this._form.getBillingAddressFields(this.getBillingCountries(), countryCode);\n    }\n\n    /**\n     * Gets a set of form fields that should be presented to customers in order\n     * to capture their shipping address for a specific country.\n     *\n     * @param countryCode - A 2-letter country code (ISO 3166-1 alpha-2).\n     * @returns The set of shipping address form fields if it is loaded,\n     * otherwise undefined.\n     */\n    getShippingAddressFields(countryCode: string): FormField[] {\n        return this._form.getShippingAddressFields(this.getShippingCountries(), countryCode);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-store-selector.ts","import { isEqual } from 'lodash';\n\nimport { omitPrivate } from '../common/utility';\n\nimport InternalAddress from './internal-address';\n\nexport default function isAddressEqual(addressA: Partial<InternalAddress>, addressB: Partial<InternalAddress>): boolean {\n    return isEqual(normalize(addressA), normalize(addressB));\n}\n\nfunction normalize(address: Partial<InternalAddress>): Partial<InternalAddress> {\n    const ignoredKeys = ['id', 'provinceCode'];\n\n    return (Object.keys(omitPrivate(address) || {}) as Array<keyof InternalAddress>)\n        .reduce(\n            (result, key) => ignoredKeys.indexOf(key) === -1 && address[key] ?\n                { ...result, [key]: address[key] } :\n                result,\n            {}\n        );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/address/is-address-equal.ts","import Address from './address';\nimport InternalAddress from './internal-address';\n\nexport default function mapFromInternalAddress(address: InternalAddress): Address {\n    return {\n        id: address.id,\n        firstName: address.firstName,\n        lastName: address.lastName,\n        company: address.company,\n        address1: address.addressLine1,\n        address2: address.addressLine2,\n        city: address.city,\n        stateOrProvince: address.province,\n        stateOrProvinceCode: address.provinceCode,\n        postalCode: address.postCode,\n        country: address.country,\n        countryCode: address.countryCode,\n        phone: address.phone,\n        customFields: address.customFields,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/address/map-from-internal-address.ts","import Address from './address';\nimport InternalAddress from './internal-address';\n\nexport default function mapToInternalAddress(address: Address, id?: string): InternalAddress {\n    return {\n        id: id ? id : address.id,\n        firstName: address.firstName,\n        lastName: address.lastName,\n        company: address.company,\n        addressLine1: address.address1,\n        addressLine2: address.address2,\n        city: address.city,\n        province: address.stateOrProvince,\n        provinceCode: address.stateOrProvinceCode,\n        postCode: address.postalCode,\n        country: address.country,\n        countryCode: address.countryCode,\n        phone: address.phone,\n        customFields: address.customFields,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/address/map-to-internal-address.ts","export default class AmountTransformer {\n    constructor(private _dp: number) {}\n\n    toInteger(amount: number): number {\n        return Math.floor(amount * Math.pow(10, this._dp));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/amount-transformer.ts","import { isEqual, omit } from 'lodash';\n\nimport { omitPrivate } from '../common/utility';\n\nimport Cart from './cart';\nimport { LineItem } from './line-item';\nimport LineItemMap from './line-item-map';\n\nexport default class CartComparator {\n    isEqual(cartA: Cart, cartB: Cart): boolean {\n        return isEqual(\n            this._normalize(cartA),\n            this._normalize(cartB)\n        );\n    }\n\n    private _normalize(cart: Cart): Cart {\n        const lineItems = Object.keys(cart.lineItems)\n            .reduce((result, key) => ({\n                ...result,\n                [key]: (cart.lineItems[key as keyof LineItemMap] as LineItem[])\n                    .map(item => omit(item, ['id', 'imageUrl'])),\n            }), {} as LineItemMap);\n\n        return omitPrivate(omit({ ...cart, lineItems }, ['updatedTime']));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-comparator.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { BillingAddressAction, BillingAddressActionType } from '../billing/billing-address-actions';\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\nimport { CouponAction, CouponActionType } from '../coupon/coupon-actions';\nimport { GiftCertificateAction, GiftCertificateActionType } from '../coupon/gift-certificate-actions';\nimport { ConsignmentAction, ConsignmentActionType } from '../shipping/consignment-actions';\n\nimport Cart from './cart';\nimport CartState, { CartErrorsState, CartStatusesState } from './cart-state';\n\nconst DEFAULT_STATE: CartState = {\n    errors: {},\n    statuses: {},\n};\n\nexport default function cartReducer(\n    state: CartState = DEFAULT_STATE,\n    action: Action\n): CartState {\n    const reducer = combineReducers<CartState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: Cart | undefined,\n    action: BillingAddressAction | CheckoutAction | ConsignmentAction | CouponAction | GiftCertificateAction\n): Cart | undefined {\n    switch (action.type) {\n    case BillingAddressActionType.UpdateBillingAddressSucceeded:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case ConsignmentActionType.CreateConsignmentsSucceeded:\n    case ConsignmentActionType.UpdateConsignmentSucceeded:\n    case CouponActionType.ApplyCouponSucceeded:\n    case CouponActionType.RemoveCouponSucceeded:\n    case GiftCertificateActionType.ApplyGiftCertificateSucceeded:\n    case GiftCertificateActionType.RemoveGiftCertificateSucceeded:\n        return action.payload ? { ...data, ...action.payload.cart } : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction statusesReducer(\n    statuses: CartStatusesState = DEFAULT_STATE.statuses,\n    action: CheckoutAction\n): CartStatusesState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n        return { ...statuses, isLoading: true };\n\n    case CheckoutActionType.LoadCheckoutFailed:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return { ...statuses, isLoading: false };\n\n    default:\n        return statuses;\n    }\n}\n\nfunction errorsReducer(\n    errors: CartErrorsState = DEFAULT_STATE.errors,\n    action: CheckoutAction\n): CartErrorsState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return { ...errors, loadError: undefined };\n\n    case CheckoutActionType.LoadCheckoutFailed:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CartRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadCart({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/internalapi/v1/checkout/cart';\n\n        return this._requestSender.get(url, { timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-request-sender.ts","import { selector } from '../common/selector';\n\nimport Cart from './cart';\nimport CartState from './cart-state';\n\n@selector\nexport default class CartSelector {\n    constructor(\n        private _cart: CartState\n    ) {}\n\n    getCart(): Cart | undefined {\n        return this._cart.data;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._cart.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._cart.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/cart-selector.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\n\nimport { ApplyCouponAction, CouponAction, CouponActionType, RemoveCouponAction } from './coupon-actions';\nimport CouponRequestSender from './coupon-request-sender';\n\nexport default class CouponActionCreator {\n    constructor(\n        private _couponRequestSender: CouponRequestSender\n    ) {}\n\n    applyCoupon(code: string, options?: RequestOptions): ThunkAction<CouponAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ApplyCouponAction>) => {\n            const state = store.getState();\n            const checkout = state.checkout.getCheckout();\n\n            if (!checkout) {\n                throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n            }\n\n            observer.next(createAction(CouponActionType.ApplyCouponRequested));\n\n            this._couponRequestSender.applyCoupon(checkout.id, code, options)\n                .then(({ body }) => {\n                    observer.next(createAction(CouponActionType.ApplyCouponSucceeded, body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(CouponActionType.ApplyCouponFailed, response));\n                });\n        });\n    }\n\n    removeCoupon(code: string, options?: RequestOptions): ThunkAction<CouponAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<RemoveCouponAction>) => {\n            const state = store.getState();\n            const checkout = state.checkout.getCheckout();\n\n            if (!checkout) {\n                throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n            }\n\n            observer.next(createAction(CouponActionType.RemoveCouponRequested));\n\n            this._couponRequestSender.removeCoupon(checkout.id, code, options)\n                .then(({ body }) => {\n                    observer.next(createAction(CouponActionType.RemoveCouponSucceeded, body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(CouponActionType.RemoveCouponFailed, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { Checkout, CheckoutDefaultIncludes } from '../checkout';\nimport { ContentType, RequestOptions } from '../common/http-request';\n\nexport default class CouponRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    applyCoupon(checkoutId: string, couponCode: string, { timeout }: RequestOptions = {}): Promise<Response<Checkout>> {\n        const url = `/api/storefront/checkouts/${checkoutId}/coupons`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.post(url, {\n            headers,\n            timeout,\n            params: {\n                include: CheckoutDefaultIncludes.join(','),\n            },\n            body: { couponCode },\n        });\n    }\n\n    removeCoupon(checkoutId: string, couponCode: string, { timeout }: RequestOptions = {}): Promise<Response<Checkout>> {\n        const url = `/api/storefront/checkouts/${checkoutId}/coupons/${couponCode}`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.delete(url, {\n            headers,\n            timeout,\n            params: {\n                include: CheckoutDefaultIncludes.join(','),\n            },\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-request-sender.ts","import { selector } from '../common/selector';\n\nimport Coupon from './coupon';\nimport CouponState from './coupon-state';\n\n@selector\nexport default class CouponSelector {\n    constructor(\n        private _coupon: CouponState\n    ) {}\n\n    getCoupons(): Coupon[] | undefined {\n        return this._coupon.data;\n    }\n\n    getRemoveError(): Error | undefined {\n        return this._coupon.errors.removeCouponError;\n    }\n\n    getApplyError(): Error | undefined {\n        return this._coupon.errors.applyCouponError;\n    }\n\n    isApplying(): boolean {\n        return !!this._coupon.statuses.isApplyingCoupon;\n    }\n\n    isRemoving(): boolean {\n        return !!this._coupon.statuses.isRemovingCoupon;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\nimport { OrderAction, OrderActionType } from '../order';\n\nimport Coupon from './coupon';\nimport { CouponAction, CouponActionType } from './coupon-actions';\nimport CouponState, { CouponErrorsState, CouponStatusesState } from './coupon-state';\n\nconst DEFAULT_STATE: CouponState = {\n    errors: {},\n    statuses: {},\n};\n\nexport default function couponReducer(\n    state: CouponState = DEFAULT_STATE,\n    action: CouponAction | CheckoutAction | OrderAction\n): CouponState {\n    const reducer = combineReducers<CouponState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: Coupon[] | undefined,\n    action: CouponAction | CheckoutAction | OrderAction\n): Coupon[] | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case CouponActionType.ApplyCouponSucceeded:\n    case CouponActionType.RemoveCouponSucceeded:\n    case OrderActionType.LoadOrderSucceeded:\n        return action.payload ? action.payload.coupons : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(\n    errors: CouponErrorsState = {},\n    action: CouponAction\n): CouponErrorsState {\n    switch (action.type) {\n    case CouponActionType.ApplyCouponRequested:\n    case CouponActionType.ApplyCouponSucceeded:\n        return { ...errors, applyCouponError: undefined };\n\n    case CouponActionType.ApplyCouponFailed:\n        return { ...errors, applyCouponError: action.payload };\n\n    case CouponActionType.RemoveCouponRequested:\n    case CouponActionType.RemoveCouponSucceeded:\n        return { ...errors, removeCouponError: undefined };\n\n    case CouponActionType.RemoveCouponFailed:\n        return { ...errors, removeCouponError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: CouponStatusesState = {},\n    action: CouponAction\n): CouponStatusesState {\n    switch (action.type) {\n    case CouponActionType.ApplyCouponRequested:\n        return { ...statuses, isApplyingCoupon: true };\n\n    case CouponActionType.ApplyCouponSucceeded:\n    case CouponActionType.ApplyCouponFailed:\n        return { ...statuses, isApplyingCoupon: false };\n\n    case CouponActionType.RemoveCouponRequested:\n        return { ...statuses, isRemovingCoupon: true };\n\n    case CouponActionType.RemoveCouponSucceeded:\n    case CouponActionType.RemoveCouponFailed:\n        return { ...statuses, isRemovingCoupon: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/coupon-reducer.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { concat } from 'rxjs/observable/concat';\nimport { defer } from 'rxjs/observable/defer';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient, CheckoutValidator, InternalCheckoutSelectors } from '../checkout';\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\n\nimport InternalOrderRequestBody from './internal-order-request-body';\nimport { FinalizeOrderAction, LoadOrderAction, OrderActionType, SubmitOrderAction } from './order-actions';\nimport OrderRequestBody from './order-request-body';\n\nexport default class OrderActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient,\n        private _checkoutValidator: CheckoutValidator\n    ) {}\n\n    loadOrder(orderId: number, options?: RequestOptions): Observable<LoadOrderAction> {\n        return new Observable((observer: Observer<LoadOrderAction>) => {\n            observer.next(createAction(OrderActionType.LoadOrderRequested));\n\n            this._checkoutClient.loadOrder(orderId, options)\n                .then(response => {\n                    observer.next(createAction(OrderActionType.LoadOrderSucceeded, response.body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(OrderActionType.LoadOrderFailed, response));\n                });\n        });\n    }\n\n    loadCurrentOrder(options?: RequestOptions): ThunkAction<LoadOrderAction, InternalCheckoutSelectors> {\n        return store => defer(() => {\n            const state = store.getState();\n            const order = state.order.getOrder();\n            const checkout = state.checkout.getCheckout();\n            const orderId = (order && order.orderId) || (checkout && checkout.orderId);\n\n            if (!orderId) {\n                throw new MissingDataError(MissingDataErrorType.MissingOrderId);\n            }\n\n            return this.loadOrder(orderId, options);\n        });\n    }\n\n    submitOrder(payload: OrderRequestBody, options?: RequestOptions): ThunkAction<SubmitOrderAction | LoadOrderAction, InternalCheckoutSelectors> {\n        return store => concat(\n            new Observable((observer: Observer<SubmitOrderAction>) => {\n                observer.next(createAction(OrderActionType.SubmitOrderRequested));\n\n                const state = store.getState();\n                const checkout = state.checkout.getCheckout();\n\n                this._checkoutValidator.validate(checkout, options)\n                    .then(() => this._checkoutClient.submitOrder(this._mapToOrderRequestBody(payload), options))\n                    .then(response => {\n                        observer.next(createAction(OrderActionType.SubmitOrderSucceeded, response.body.data, { ...response.body.meta, token: response.headers.token }));\n                        observer.complete();\n                    })\n                    .catch(response => {\n                        observer.error(createErrorAction(OrderActionType.SubmitOrderFailed, response));\n                    });\n            }),\n            // TODO: Remove once we can submit orders using storefront API\n            this.loadCurrentOrder(options)(store)\n        );\n    }\n\n    finalizeOrder(orderId: number, options?: RequestOptions): Observable<FinalizeOrderAction | LoadOrderAction> {\n        return concat(\n            new Observable((observer: Observer<FinalizeOrderAction>) => {\n                observer.next(createAction(OrderActionType.FinalizeOrderRequested));\n\n                this._checkoutClient.finalizeOrder(orderId, options)\n                    .then(response => {\n                        observer.next(createAction(OrderActionType.FinalizeOrderSucceeded, response.body.data));\n                        observer.complete();\n                    })\n                    .catch(response => {\n                        observer.error(createErrorAction(OrderActionType.FinalizeOrderFailed, response));\n                    });\n            }),\n            // TODO: Remove once we can submit orders using storefront API\n            this.loadOrder(orderId, options)\n        );\n    }\n\n    private _mapToOrderRequestBody(payload: OrderRequestBody): InternalOrderRequestBody {\n        const { payment, ...order } = payload;\n\n        if (!payment) {\n            return order;\n        }\n\n        return {\n            ...payload,\n            payment: {\n                paymentData: payment.paymentData,\n                name: payment.methodId,\n                gateway: payment.gatewayId,\n            },\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-action-creator.ts","import { combineReducers } from '@bigcommerce/data-store';\nimport { omit } from 'lodash';\n\nimport { OrderAction, OrderActionType } from './order-actions';\nimport OrderState, { OrderDataState, OrderErrorsState, OrderMetaState, OrderStatusesState } from './order-state';\n\nconst DEFAULT_STATE: OrderState = {\n    errors: {},\n    meta: {},\n    statuses: {},\n};\n\nexport default function orderReducer(\n    state: OrderState = DEFAULT_STATE,\n    action: OrderAction\n): OrderState {\n    const reducer = combineReducers<OrderState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        meta: metaReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: OrderDataState | undefined,\n    action: OrderAction\n): OrderDataState | undefined {\n    switch (action.type) {\n    case OrderActionType.LoadOrderSucceeded:\n        return action.payload\n            ? omit({ ...data, ...action.payload }, ['billingAddress', 'coupons'])\n            : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction metaReducer(\n    meta: OrderMetaState | undefined,\n    action: OrderAction\n): OrderMetaState | undefined {\n    switch (action.type) {\n    case OrderActionType.FinalizeOrderSucceeded:\n    case OrderActionType.SubmitOrderSucceeded:\n        return action.payload ? {\n            ...meta,\n            ...action.meta,\n            payment: action.payload.order && action.payload.order.payment,\n        } : meta;\n\n    default:\n        return meta;\n    }\n}\n\nfunction errorsReducer(\n    errors: OrderErrorsState = DEFAULT_STATE.errors,\n    action: OrderAction\n): OrderErrorsState {\n    switch (action.type) {\n    case OrderActionType.LoadOrderRequested:\n    case OrderActionType.LoadOrderSucceeded:\n        return { ...errors, loadError: undefined };\n\n    case OrderActionType.LoadOrderFailed:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: OrderStatusesState = DEFAULT_STATE.statuses,\n    action: OrderAction\n): OrderStatusesState {\n    switch (action.type) {\n    case OrderActionType.LoadOrderRequested:\n        return { ...statuses, isLoading: true };\n\n    case OrderActionType.LoadOrderSucceeded:\n    case OrderActionType.LoadOrderFailed:\n        return { ...statuses, isLoading: false };\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { ContentType, RequestOptions } from '../common/http-request';\n\nimport InternalOrderRequestBody from './internal-order-request-body';\nimport { InternalOrderResponseBody } from './internal-order-responses';\nimport Order from './order';\n\nconst DEFAULT_PARAMS = {\n    include: [\n        'payments',\n        'lineItems.physicalItems.socialMedia',\n        'lineItems.digitalItems.socialMedia',\n    ].join(','),\n};\n\nexport default class OrderRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadOrder(orderId: number, { timeout, params }: RequestOptions = {}): Promise<Response<Order>> {\n        const url = `/api/storefront/orders/${orderId}`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.get(url, {\n            params: DEFAULT_PARAMS,\n            headers,\n            timeout,\n        });\n    }\n\n    submitOrder(body: InternalOrderRequestBody, { timeout }: RequestOptions = {}): Promise<Response<InternalOrderResponseBody>> {\n        const url = '/internalapi/v1/checkout/order';\n\n        return this._requestSender.post(url, { body, timeout });\n    }\n\n    finalizeOrder(orderId: number, { timeout }: RequestOptions = {}): Promise<Response<InternalOrderResponseBody>> {\n        const url = `/internalapi/v1/checkout/order/${orderId}`;\n\n        return this._requestSender.post(url, { timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-request-sender.ts","import { BillingAddressSelector } from '../billing';\nimport { selector } from '../common/selector';\nimport { CouponSelector } from '../coupon';\n\nimport Order from './order';\nimport OrderState, { OrderMetaState } from './order-state';\n\n@selector\nexport default class OrderSelector {\n    constructor(\n        private _order: OrderState,\n        private _billingAddress: BillingAddressSelector,\n        private _coupons: CouponSelector\n    ) {}\n\n    getOrder(): Order | undefined {\n        const { data } = this._order;\n        const billingAddress = this._billingAddress.getBillingAddress();\n        const coupons = this._coupons.getCoupons() || [];\n\n        if (!data || !billingAddress) {\n            return;\n        }\n\n        return {\n            ...data,\n            billingAddress,\n            coupons,\n        };\n    }\n\n    getOrderMeta(): OrderMetaState | undefined {\n        return this._order.meta;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._order.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._order.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/order-selector.ts","import { filter, find, keyBy, reduce } from 'lodash';\n\nimport { AmountTransformer, LineItem } from '../cart';\nimport { mapToInternalLineItems } from '../cart';\nimport { Checkout } from '../checkout';\nimport { mapToInternalCoupon } from '../coupon';\nimport { HOSTED } from '../payment';\n\nimport InternalOrder, { InternalGiftCertificateList, InternalIncompleteOrder, InternalOrderPayment, InternalSocialDataList } from './internal-order';\nimport Order, { GatewayOrderPayment, GiftCertificateOrderPayment, OrderPayment, OrderPayments } from './order';\n\nexport default function mapToInternalOrder(order: Order): InternalOrder {\n    const decimalPlaces = order.currency.decimalPlaces;\n    const amountTransformer = new AmountTransformer(decimalPlaces);\n\n    return {\n        id: order.orderId,\n        items: mapToInternalLineItems(order.lineItems, order.currency.decimalPlaces, 'productId'),\n        orderId: order.orderId,\n        currency: order.currency.code,\n        customerCanBeCreated: order.customerCanBeCreated,\n        payment: mapToInteralOrderPayment(order.payments),\n        subtotal: {\n            amount: order.baseAmount,\n            integerAmount: amountTransformer.toInteger(order.baseAmount),\n        },\n        coupon: {\n            discountedAmount: reduce(order.coupons, (sum, coupon) => {\n                return sum + coupon.discountedAmount;\n            }, 0),\n            coupons: order.coupons.map(mapToInternalCoupon),\n        },\n        discount: {\n            amount: order.discountAmount,\n            integerAmount: amountTransformer.toInteger(order.discountAmount),\n        },\n        discountNotifications: [],\n        giftCertificate: mapToGiftCertificates(order.payments),\n        socialData: mapToInternalSocialDataList(order),\n        status: order.status,\n        hasDigitalItems: order.hasDigitalItems,\n        isDownloadable: order.isDownloadable,\n        isComplete: order.isComplete,\n        shipping: {\n            amount: order.shippingCostTotal,\n            integerAmount: amountTransformer.toInteger(order.shippingCostTotal),\n            amountBeforeDiscount: order.shippingCostBeforeDiscount,\n            integerAmountBeforeDiscount: amountTransformer.toInteger(order.shippingCostBeforeDiscount),\n        },\n        storeCredit: {\n            amount: mapToStoreCredit(order.payments),\n        },\n        taxes: order.taxes,\n        handling: {\n            amount: order.handlingCostTotal,\n            integerAmount: amountTransformer.toInteger(order.handlingCostTotal),\n        },\n        grandTotal: {\n            amount: order.orderAmount,\n            integerAmount: order.orderAmountAsInteger,\n        },\n    };\n}\n\nexport function mapToInternalIncompleteOrder(checkout: Checkout): InternalIncompleteOrder {\n    const payment = find(checkout.payments, { providerType: HOSTED });\n\n    return {\n        orderId: null,\n        isComplete: false,\n        payment: !payment ? {} : {\n            id: payment.providerId,\n            gateway: payment.gatewayId,\n            status: mapToInternalPaymentStatus(payment.detail.step),\n        },\n    };\n}\n\nfunction mapToInternalPaymentStatus(status: string): string {\n    return `PAYMENT_STATUS_${status}`;\n}\n\nfunction mapToStoreCredit(payments?: OrderPayments): number {\n    const item = find(payments, { providerId: 'storecredit' });\n\n    return item ? item.amount : 0;\n}\n\nfunction mapToGiftCertificates(payments?: OrderPayments): InternalGiftCertificateList {\n    const items = filter(payments, { providerId: 'giftcertificate' }) as GiftCertificateOrderPayment[];\n\n    return {\n        totalDiscountedAmount: reduce(items, (sum, item) => item.amount + sum, 0),\n        appliedGiftCertificates: keyBy(items.map(item => ({\n            code: item.detail.code,\n            discountedAmount: item.amount,\n            remainingBalance: item.detail.remaining,\n            giftCertificate: {\n                balance: item.amount + item.detail.remaining,\n                code: item.detail.code,\n                purchaseDate: '',\n            },\n        })), 'code'),\n    };\n}\n\nfunction mapToInteralOrderPayment(payments?: OrderPayments): InternalOrderPayment {\n    const item = find(payments, isDefaultOrderPayment) as GatewayOrderPayment;\n\n    if (!item) {\n        return {};\n    }\n\n    return {\n        id: item.providerId,\n        status: mapToInternalPaymentStatus(item.detail.step),\n        helpText: item.detail.instructions,\n    };\n}\n\nfunction isDefaultOrderPayment(payment: OrderPayment): payment is GatewayOrderPayment {\n    return payment.providerId !== 'giftcertificate' && payment.providerId !== 'storecredit';\n}\n\nfunction mapToInternalSocialDataList(order: Order): { [itemId: string]: InternalSocialDataList } | undefined {\n    const socialDataObject: { [itemId: string]: InternalSocialDataList } = {};\n    const items = [\n        ...order.lineItems.physicalItems,\n        ...order.lineItems.digitalItems,\n    ];\n\n    items.forEach(item => {\n        socialDataObject[item.id] = mapToInternalSocialData(item);\n    });\n\n    return socialDataObject;\n}\n\nfunction mapToInternalSocialData(lineItem: LineItem): InternalSocialDataList {\n    const codes = ['fb', 'tw', 'gp'];\n\n    return codes.reduce((socialData, code) => {\n        const item = lineItem.socialMedia && lineItem.socialMedia.find(item => item.code === code);\n\n        if (!item) {\n            return socialData;\n        }\n\n        socialData[code] = {\n            name: lineItem.name,\n            description: lineItem.name,\n            image: lineItem.imageUrl,\n            url: item.link,\n            shareText: item.text,\n            sharingLink: item.link,\n            channelName: item.channel,\n            channelCode: item.code,\n        };\n\n        return socialData;\n    }, {} as InternalSocialDataList);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/map-to-internal-order.ts","/// <reference path=\"../payment/bigpay-client.d.ts\" />\nimport { createClient as createBigpayClient } from '@bigcommerce/bigpay-client';\n\nimport { CheckoutStore } from '../checkout';\n\nexport default function createPaymentClient(store: CheckoutStore) {\n    const paymentClient = createBigpayClient();\n\n    store.subscribe(\n        state => {\n            const config = state.config.getStoreConfig();\n\n            if (config) {\n                paymentClient.setHost(config.paymentSettings.bigpayBaseUrl);\n            }\n        },\n        state => state.config.getStoreConfig()\n    );\n\n    return paymentClient;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/create-payment-client.ts","module.exports = require(\"@bigcommerce/bigpay-client\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@bigcommerce/bigpay-client\"\n// module id = 139\n// module chunks = 0 1","import { createFormPoster } from '@bigcommerce/form-poster';\nimport { createRequestSender } from '@bigcommerce/request-sender';\nimport { getScriptLoader } from '@bigcommerce/script-loader';\n\nimport { BillingAddressActionCreator } from '../billing';\nimport { CheckoutActionCreator, CheckoutClient, CheckoutRequestSender, CheckoutStore, CheckoutValidator } from '../checkout';\nimport { OrderActionCreator } from '../order';\nimport { RemoteCheckoutActionCreator, RemoteCheckoutRequestSender } from '../remote-checkout';\nimport { AfterpayScriptLoader } from '../remote-checkout/methods/afterpay';\nimport { AmazonPayScriptLoader } from '../remote-checkout/methods/amazon-pay';\nimport { KlarnaScriptLoader } from '../remote-checkout/methods/klarna';\nimport { WepayRiskClient } from '../remote-checkout/methods/wepay';\n\nimport { PaymentStrategyActionCreator } from '.';\nimport PaymentActionCreator from './payment-action-creator';\nimport PaymentMethodActionCreator from './payment-method-action-creator';\nimport PaymentRequestSender from './payment-request-sender';\nimport PaymentStrategyRegistry from './payment-strategy-registry';\nimport {\n    AfterpayPaymentStrategy,\n    AmazonPayPaymentStrategy,\n    BraintreeCreditCardPaymentStrategy,\n    BraintreePaypalPaymentStrategy,\n    CreditCardPaymentStrategy,\n    KlarnaPaymentStrategy,\n    LegacyPaymentStrategy,\n    NoPaymentDataRequiredPaymentStrategy,\n    OfflinePaymentStrategy,\n    OffsitePaymentStrategy,\n    PaypalExpressPaymentStrategy,\n    PaypalProPaymentStrategy,\n    SagePayPaymentStrategy,\n    SquarePaymentStrategy,\n    WepayPaymentStrategy,\n} from './strategies';\nimport {\n    createBraintreePaymentProcessor,\n    createBraintreeVisaCheckoutPaymentProcessor,\n    BraintreeVisaCheckoutPaymentStrategy,\n    VisaCheckoutScriptLoader,\n} from './strategies/braintree';\nimport { SquareScriptLoader } from './strategies/square';\n\nexport default function createPaymentStrategyRegistry(\n    store: CheckoutStore,\n    client: CheckoutClient,\n    paymentClient: any\n) {\n    const registry = new PaymentStrategyRegistry(store, { defaultToken: 'creditcard' });\n    const scriptLoader = getScriptLoader();\n    const braintreePaymentProcessor = createBraintreePaymentProcessor(scriptLoader);\n    const requestSender = createRequestSender();\n\n    const checkoutRequestSender = new CheckoutRequestSender(requestSender);\n    const checkoutValidator = new CheckoutValidator(checkoutRequestSender);\n    const orderActionCreator = new OrderActionCreator(client, checkoutValidator);\n    const paymentActionCreator = new PaymentActionCreator(\n        new PaymentRequestSender(paymentClient),\n        orderActionCreator\n    );\n    const paymentMethodActionCreator = new PaymentMethodActionCreator(client);\n    const remoteCheckoutActionCreator = new RemoteCheckoutActionCreator(\n        new RemoteCheckoutRequestSender(createRequestSender())\n    );\n\n    registry.register('afterpay', () =>\n        new AfterpayPaymentStrategy(\n            store,\n            checkoutValidator,\n            orderActionCreator,\n            paymentActionCreator,\n            paymentMethodActionCreator,\n            remoteCheckoutActionCreator,\n            new AfterpayScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('amazon', () =>\n        new AmazonPayPaymentStrategy(\n            store,\n            orderActionCreator,\n            new BillingAddressActionCreator(client),\n            remoteCheckoutActionCreator,\n            new AmazonPayScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('creditcard', () =>\n        new CreditCardPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator\n        )\n    );\n\n    registry.register('klarna', () =>\n        new KlarnaPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentMethodActionCreator,\n            remoteCheckoutActionCreator,\n            new KlarnaScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('legacy', () =>\n        new LegacyPaymentStrategy(\n            store,\n            orderActionCreator\n        )\n    );\n\n    registry.register('offline', () =>\n        new OfflinePaymentStrategy(\n            store,\n            orderActionCreator\n        )\n    );\n\n    registry.register('offsite', () =>\n        new OffsitePaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator\n        )\n    );\n\n    registry.register('paypal', () =>\n        new PaypalProPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator\n        )\n    );\n\n    registry.register('paypalexpress', () =>\n        new PaypalExpressPaymentStrategy(\n            store,\n            orderActionCreator,\n            scriptLoader\n        )\n    );\n\n    registry.register('paypalexpresscredit', () =>\n        new PaypalExpressPaymentStrategy(\n            store,\n            orderActionCreator,\n            scriptLoader\n        )\n    );\n\n    registry.register('sagepay', () =>\n        new SagePayPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            createFormPoster()\n        )\n    );\n\n    registry.register('squarev2', () =>\n        new SquarePaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            new SquareScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('nopaymentdatarequired', () =>\n        new NoPaymentDataRequiredPaymentStrategy(\n            store,\n            orderActionCreator\n        )\n    );\n\n    registry.register('braintree', () =>\n        new BraintreeCreditCardPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            paymentMethodActionCreator,\n            braintreePaymentProcessor\n        )\n    );\n\n    registry.register('braintreepaypal', () =>\n        new BraintreePaypalPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            paymentMethodActionCreator,\n            braintreePaymentProcessor\n        )\n    );\n\n    registry.register('braintreepaypalcredit', () =>\n        new BraintreePaypalPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            paymentMethodActionCreator,\n            braintreePaymentProcessor,\n            true\n        )\n    );\n\n    registry.register('braintreevisacheckout', () =>\n        new BraintreeVisaCheckoutPaymentStrategy(\n            store,\n            new CheckoutActionCreator(checkoutRequestSender),\n            paymentMethodActionCreator,\n            new PaymentStrategyActionCreator(registry, orderActionCreator),\n            paymentActionCreator,\n            orderActionCreator,\n            createBraintreeVisaCheckoutPaymentProcessor(scriptLoader),\n            new VisaCheckoutScriptLoader(scriptLoader)\n        )\n    );\n\n    registry.register('wepay', () =>\n        new WepayPaymentStrategy(\n            store,\n            orderActionCreator,\n            paymentActionCreator,\n            new WepayRiskClient(scriptLoader)\n        )\n    );\n\n    return registry;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/create-payment-strategy-registry.ts","import { Address } from '../address';\nimport { selector } from '../common/selector';\n\nimport BillingAddressState from './billing-address-state';\n\n@selector\nexport default class BillingAddressSelector {\n    constructor(\n        private _billingAddress: BillingAddressState\n    ) {}\n\n    getBillingAddress(): Address | undefined {\n        return this._billingAddress.data;\n    }\n\n    getUpdateError(): Error | undefined {\n        return this._billingAddress.errors.updateError;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._billingAddress.errors.loadError;\n    }\n\n    isUpdating(): boolean {\n        return !!this._billingAddress.statuses.isUpdating;\n    }\n\n    isLoading(): boolean {\n        return !!this._billingAddress.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-selector.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { Response } from '@bigcommerce/request-sender';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { AddressRequestBody } from '../address';\nimport { Checkout, CheckoutClient, InternalCheckoutSelectors, ReadableCheckoutStore } from '../checkout';\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\n\nimport { BillingAddressActionType, UpdateBillingAddressAction } from './billing-address-actions';\n\nexport default class BillingAddressActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    updateAddress(address: Partial<AddressRequestBody>, options?: RequestOptions): ThunkAction<UpdateBillingAddressAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<UpdateBillingAddressAction>) => {\n            observer.next(createAction(BillingAddressActionType.UpdateBillingAddressRequested));\n\n            this._requestBillingAddressUpdate(store, address, options)\n                .then(({ body }) => {\n                    observer.next(createAction(BillingAddressActionType.UpdateBillingAddressSucceeded, body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(BillingAddressActionType.UpdateBillingAddressFailed, response));\n                });\n        });\n    }\n\n    private _requestBillingAddressUpdate(store: ReadableCheckoutStore, address: Partial<AddressRequestBody>, options?: RequestOptions): Promise<Response<Checkout>> {\n        const state = store.getState();\n        const checkout = state.checkout.getCheckout();\n\n        if (!checkout) {\n            throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n        }\n\n        const billingAddress = state.billingAddress.getBillingAddress();\n\n        if (!billingAddress || !billingAddress.id) {\n            return this._checkoutClient.createBillingAddress(checkout.id, address, options);\n        }\n\n        const updatedBillingAddress = {\n            ...address,\n            email: typeof address.email === 'undefined' ? billingAddress.email : address.email,\n            id: billingAddress.id,\n        };\n\n        return this._checkoutClient.updateBillingAddress(checkout.id, updatedBillingAddress, options);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { AddressRequestBody } from '../address';\nimport { Checkout } from '../checkout';\nimport { ContentType, RequestOptions } from '../common/http-request';\n\nconst DEFAULT_PARAMS = {\n    include: [\n        'cart.lineItems.physicalItems.options',\n        'cart.lineItems.digitalItems.options',\n        'customer',\n        'promotions.banners',\n    ].join(','),\n};\n\nexport default class BillingAddressRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    createAddress(checkoutId: string, address: Partial<AddressRequestBody>, { timeout }: RequestOptions = {}): Promise<Response<Checkout>> {\n        const url = `/api/storefront/checkouts/${checkoutId}/billing-address`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.post(url, { body: address, params: DEFAULT_PARAMS, headers, timeout });\n    }\n\n    updateAddress(checkoutId: string, address: Partial<AddressRequestBody>, { timeout }: RequestOptions = {}): Promise<Response<Checkout>> {\n        const { id, ...body } = address;\n        const url = `/api/storefront/checkouts/${checkoutId}/billing-address/${id}`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.put(url, { params: DEFAULT_PARAMS, body, headers, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-request-sender.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { Address } from '../address';\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\nimport { OrderAction, OrderActionType } from '../order';\n\nimport { BillingAddressAction, BillingAddressActionType } from './billing-address-actions';\nimport BillingAddressState, { BillingAddressErrorsState, BillingAddressStatusesState } from './billing-address-state';\n\nconst DEFAULT_STATE: BillingAddressState = {\n    errors: {},\n    statuses: {},\n};\n\nexport default function billingAddressReducer(\n    state: BillingAddressState = DEFAULT_STATE,\n    action: CheckoutAction | BillingAddressAction | OrderAction\n): BillingAddressState {\n    const reducer = combineReducers<BillingAddressState, CheckoutAction | BillingAddressAction | OrderAction>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: Address | undefined,\n    action: CheckoutAction | BillingAddressAction | OrderAction\n): Address | undefined {\n    switch (action.type) {\n    case BillingAddressActionType.UpdateBillingAddressSucceeded:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case OrderActionType.LoadOrderSucceeded:\n        return action.payload ? action.payload.billingAddress : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(\n    errors: BillingAddressErrorsState = DEFAULT_STATE.errors,\n    action: CheckoutAction | BillingAddressAction | OrderAction\n): BillingAddressErrorsState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return { ...errors, loadError: undefined };\n\n    case CheckoutActionType.LoadCheckoutFailed:\n        return { ...errors, loadError: action.payload };\n\n    case BillingAddressActionType.UpdateBillingAddressRequested:\n    case BillingAddressActionType.UpdateBillingAddressSucceeded:\n        return { ...errors, updateError: undefined };\n\n    case BillingAddressActionType.UpdateBillingAddressFailed:\n        return { ...errors, updateError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: BillingAddressStatusesState = DEFAULT_STATE.statuses,\n    action: CheckoutAction | BillingAddressAction | OrderAction\n): BillingAddressStatusesState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n        return { ...statuses, isLoading: true };\n\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case CheckoutActionType.LoadCheckoutFailed:\n        return { ...statuses, isLoading: false };\n\n    case BillingAddressActionType.UpdateBillingAddressRequested:\n        return { ...statuses, isUpdating: true };\n\n    case BillingAddressActionType.UpdateBillingAddressFailed:\n    case BillingAddressActionType.UpdateBillingAddressSucceeded:\n        return { ...statuses, isUpdating: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/billing/billing-address-reducer.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './remote-checkout-action-types';\nimport RemoteCheckoutRequestSender, { InitializePaymentOptions } from './remote-checkout-request-sender';\nimport { RemoteCheckoutStateData } from './remote-checkout-state';\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action<T>\n */\nexport default class RemoteCheckoutActionCreator {\n    constructor(\n        private _remoteCheckoutRequestSender: RemoteCheckoutRequestSender\n    ) {}\n\n    initializeBilling(methodId: string, params: { referenceId: string }, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.INITIALIZE_REMOTE_BILLING_REQUESTED, undefined, { methodId }));\n\n            this._remoteCheckoutRequestSender.initializeBilling(methodId, params, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.INITIALIZE_REMOTE_BILLING_SUCCEEDED, body, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.INITIALIZE_REMOTE_BILLING_FAILED, response, { methodId }));\n                });\n        });\n    }\n\n    initializeShipping(methodId: string, params: { referenceId: string }, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.INITIALIZE_REMOTE_SHIPPING_REQUESTED, undefined, { methodId }));\n\n            this._remoteCheckoutRequestSender.initializeShipping(methodId, params, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.INITIALIZE_REMOTE_SHIPPING_SUCCEEDED, body, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.INITIALIZE_REMOTE_SHIPPING_FAILED, response, { methodId }));\n                });\n        });\n    }\n\n    initializePayment(methodId: string, params: InitializePaymentOptions, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.INITIALIZE_REMOTE_PAYMENT_REQUESTED, undefined, { methodId }));\n\n            this._remoteCheckoutRequestSender.initializePayment(methodId, params, options)\n                .then(({ body = {} }) => {\n                    observer.next(createAction(actionTypes.INITIALIZE_REMOTE_PAYMENT_SUCCEEDED, body, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.INITIALIZE_REMOTE_PAYMENT_FAILED, response, { methodId }));\n                });\n        });\n    }\n\n    loadSettings(methodId: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_REMOTE_SETTINGS_REQUESTED, undefined, { methodId }));\n\n            this._remoteCheckoutRequestSender.loadSettings(methodId, options)\n                .then(({ body }) => {\n                    observer.next(createAction(actionTypes.LOAD_REMOTE_SETTINGS_SUCCEEDED, body, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_REMOTE_SETTINGS_FAILED, response, { methodId }));\n                });\n        });\n    }\n\n    signOut(methodId: string, options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.SIGN_OUT_REMOTE_CUSTOMER_REQUESTED, undefined, { methodId }));\n\n            this._remoteCheckoutRequestSender.signOut(methodId, options)\n                .then(() => {\n                    observer.next(createAction(actionTypes.SIGN_OUT_REMOTE_CUSTOMER_SUCCEEDED, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.SIGN_OUT_REMOTE_CUSTOMER_FAILED, response, { methodId }));\n                });\n        });\n    }\n\n    updateCheckout<K extends keyof RemoteCheckoutStateData>(methodId: K, data: Partial<RemoteCheckoutStateData[K]>): Action {\n        return createAction(actionTypes.UPDATE_REMOTE_CHECKOUT, data, { methodId });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class RemoteCheckoutRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    initializeBilling(methodName: string, params: { referenceId: string }, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/billing`;\n\n        return this._requestSender.get(url, { params, timeout });\n    }\n\n    initializeShipping(methodName: string, params: { referenceId: string }, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/shipping`;\n\n        return this._requestSender.get(url, { params, timeout });\n    }\n\n    initializePayment(methodName: string, params: InitializePaymentOptions, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/payment`;\n\n        return this._requestSender.get(url, { params, timeout });\n    }\n\n    loadSettings(methodName: string, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/settings`;\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    signOut(methodName: string, { timeout }: RequestOptions = {}): Promise<Response> {\n        const url = `/remote-checkout/${methodName}/signout`;\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    generateToken({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/remote-checkout-token';\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    trackAuthorizationEvent({ timeout }: RequestOptions = {}): Promise<Response> {\n        const url = '/remote-checkout/events/shopper-checkout-service-provider-authorization-requested';\n\n        return this._requestSender.post(url, { timeout });\n    }\n}\n\nexport interface InitializePaymentOptions {\n    authorizationToken?: string;\n    customerMessage?: string;\n    referenceId?: string;\n    useStoreCredit?: boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-request-sender.ts","import { selector } from '../common/selector';\n\nimport RemoteCheckoutState, { RemoteCheckoutStateData } from './remote-checkout-state';\n\n@selector\nexport default class RemoteCheckoutSelector {\n    constructor(\n        private _remoteCheckout: RemoteCheckoutState\n    ) {}\n\n    getCheckout<TMethodId extends keyof RemoteCheckoutStateData>(\n        methodId: TMethodId\n    ): RemoteCheckoutStateData[TMethodId] | undefined {\n        return this._remoteCheckout.data[methodId];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { AfterpayRemoteCheckout } from './methods/afterpay';\nimport { AmazonPayRemoteCheckout } from './methods/amazon-pay';\nimport * as actionTypes from './remote-checkout-action-types';\nimport RemoteCheckoutState, { RemoteCheckoutStateData } from './remote-checkout-state';\n\nconst DEFAULT_STATE: RemoteCheckoutState = {\n    data: {},\n};\n\ntype RemoteCheckout = AfterpayRemoteCheckout | AmazonPayRemoteCheckout;\n\nexport default function remoteCheckoutReducer(\n    state: RemoteCheckoutState = DEFAULT_STATE,\n    action: Action\n): RemoteCheckoutState {\n    if (!action.meta || !action.meta.methodId) {\n        return state;\n    }\n\n    const reducer = combineReducers<RemoteCheckoutState>({\n        data: combineReducers<RemoteCheckoutStateData>({\n            [action.meta.methodId]: dataReducer,\n        }),\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: RemoteCheckout = {},\n    action: Action\n): RemoteCheckout {\n    switch (action.type) {\n    case actionTypes.INITIALIZE_REMOTE_BILLING_SUCCEEDED:\n        return { ...data, billing: action.payload.billing };\n\n    case actionTypes.INITIALIZE_REMOTE_SHIPPING_SUCCEEDED:\n        return { ...data, shipping: action.payload.shipping };\n\n    case actionTypes.LOAD_REMOTE_SETTINGS_SUCCEEDED:\n        return { ...data, settings: action.payload };\n\n    case actionTypes.UPDATE_REMOTE_CHECKOUT:\n        return { ...data, ...action.payload };\n\n    default:\n        return data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/remote-checkout-reducer.ts","export { default as AfterpayRemoteCheckout } from './afterpay-remote-checkout';\nexport { default as AfterpayScriptLoader } from './afterpay-script-loader';\nexport { default as AfterpaySdk } from './afterpay-sdk';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/afterpay/index.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { PaymentMethod } from '../../../payment';\n\nimport AfterpaySdk from './afterpay-sdk';\nimport AfterpayWindow from './afterpay-window';\n\ninterface AfterpayScripts {\n    PROD: string;\n    SANDBOX: string;\n}\n\nconst SCRIPTS_DEFAULT: AfterpayScripts = {\n    PROD: '//portal.afterpay.com/afterpay-async.js',\n    SANDBOX: '//portal-sandbox.afterpay.com/afterpay-async.js',\n};\n\nconst SCRIPTS_US: AfterpayScripts = {\n    PROD: '//portal.afterpay.com/afterpay-async.js',\n    SANDBOX: '//portal.us-sandbox.afterpay.com/afterpay-async.js',\n};\n\n/** Class responsible for loading the Afterpay SDK */\nexport default class AfterpayScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {}\n\n    /**\n     * Loads the appropriate Afterpay SDK depending on the payment method data.\n     * @param method the payment method data\n     */\n    load(method: PaymentMethod, countryCode: string): Promise<AfterpaySdk> {\n        const testMode = method.config.testMode || false;\n        const scriptURI = this._getScriptURI(countryCode, testMode);\n\n        return this._scriptLoader.loadScript(scriptURI)\n            .then(() => (window as AfterpayWindow).AfterPay);\n    }\n\n    private _getScriptURI(countryCode: string, testMode: boolean): string {\n        if (countryCode === 'US') {\n            return testMode ? SCRIPTS_US.SANDBOX : SCRIPTS_US.PROD;\n        }\n\n        return testMode ? SCRIPTS_DEFAULT.SANDBOX : SCRIPTS_DEFAULT.PROD;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/afterpay/afterpay-script-loader.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { PaymentMethod } from '../../../payment';\n\nimport AmazonPayWindow from './amazon-pay-window';\n\nexport default class AmazonPayScriptLoader {\n    private _window: AmazonPayWindow;\n\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {\n        this._window = window;\n    }\n\n    loadWidget(method: PaymentMethod, onPaymentReady?: () => void): Promise<Event> {\n        const {\n            config: { merchantId, testMode },\n            initializationData: { region = 'us' } = {},\n        } = method;\n\n        const url = 'https://' +\n            (region.toLowerCase() !== 'us' ? 'static-eu.' : 'static-na.') +\n            'payments-amazon.com/OffAmazonPayments/' +\n            `${region.toLowerCase()}/` +\n            (testMode ? 'sandbox/' : '') +\n            (region.toLowerCase() !== 'us' ? 'lpa/' : '') +\n            `js/Widgets.js?sellerId=${merchantId}`;\n\n        this._configureWidget(method, onPaymentReady);\n\n        return this._scriptLoader.loadScript(url);\n    }\n\n    private _configureWidget(method: PaymentMethod, onPaymentReady?: () => void): void {\n        const onLoginReady = () => {\n            if (!this._window.amazon) {\n                return;\n            }\n\n            this._window.amazon.Login.setClientId(method.initializationData.clientId);\n            this._window.amazon.Login.setUseCookie(true);\n        };\n\n        if (this._window.amazon && this._window.amazon.Login) {\n            onLoginReady();\n        } else {\n            this._window.onAmazonLoginReady = onLoginReady;\n        }\n\n        if (this._window.OffAmazonPayments && onPaymentReady) {\n            onPaymentReady();\n        } else {\n            this._window.onAmazonPaymentsReady = onPaymentReady;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/amazon-pay/amazon-pay-script-loader.ts","export { default as KlarnaCredit, KlarnaLoadResponse } from './klarna-credit';\nexport { default as KlarnaScriptLoader } from './klarna-script-loader';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/klarna/index.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport KlarnaCredit from './klarna-credit';\nimport KlarnaWindow from './klarna-window';\n\nconst SDK_URL = '//credit.klarnacdn.net/lib/v1/api.js';\n\nexport default class KlarnaScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {}\n\n    load(): Promise<KlarnaCredit> {\n        return this._scriptLoader.loadScript(SDK_URL)\n            .then(() => (window as KlarnaWindow).Klarna.Credit);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/klarna/klarna-script-loader.ts","export { default as WepayRiskClient } from './wepay-risk-client';\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/wepay/index.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { NotInitializedError, NotInitializedErrorType } from '../../../common/error/errors';\n\nimport WepayRisk from './wepay-risk';\nimport WepayWindow from './wepay-window';\n\nconst SCRIPT_SRC = '//static.wepay.com/min/js/risk.1.latest.js';\n\nexport default class WepayRiskClient {\n    private _riskClient?: WepayRisk;\n\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {}\n\n    initialize(): Promise<WepayRiskClient> {\n        return this._scriptLoader\n            .loadScript(SCRIPT_SRC)\n            .then(() => this._riskClient = (window as WepayWindow).WePay.risk)\n            .then(() => this);\n    }\n\n    getRiskToken(): string {\n        if (!this._riskClient) {\n            throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n        }\n\n        this._riskClient.generate_risk_token();\n\n        return this._riskClient.get_risk_token();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/methods/wepay/wepay-risk-client.ts","import { createFormPoster } from '@bigcommerce/form-poster';\nimport { createRequestSender } from '@bigcommerce/request-sender';\nimport { getScriptLoader } from '@bigcommerce/script-loader';\n\nimport { CheckoutActionCreator, CheckoutClient, CheckoutRequestSender, CheckoutStore } from '../checkout';\nimport { Registry } from '../common/registry';\nimport { PaymentMethodActionCreator } from '../payment';\nimport { createBraintreeVisaCheckoutPaymentProcessor, VisaCheckoutScriptLoader } from '../payment/strategies/braintree';\nimport { ChasePayScriptLoader } from '../payment/strategies/chasepay';\nimport { RemoteCheckoutActionCreator, RemoteCheckoutRequestSender } from '../remote-checkout';\nimport { AmazonPayScriptLoader } from '../remote-checkout/methods/amazon-pay';\n\nimport { CustomerRequestSender, CustomerStrategyActionCreator } from '.';\nimport CustomerActionCreator from './customer-action-creator';\nimport {\n    AmazonPayCustomerStrategy,\n    BraintreeVisaCheckoutCustomerStrategy,\n    ChasePayCustomerStrategy,\n    CustomerStrategy,\n    DefaultCustomerStrategy,\n} from './strategies';\n\nexport default function createCustomerStrategyRegistry(\n    store: CheckoutStore,\n    client: CheckoutClient\n): Registry<CustomerStrategy> {\n    const registry = new Registry<CustomerStrategy>();\n    const requestSender = createRequestSender();\n    const remoteCheckoutRequestSender = new RemoteCheckoutRequestSender(requestSender);\n    const checkoutActionCreator = new CheckoutActionCreator(new CheckoutRequestSender(requestSender));\n\n    registry.register('amazon', () =>\n        new AmazonPayCustomerStrategy(\n            store,\n            new PaymentMethodActionCreator(client),\n            new RemoteCheckoutActionCreator(remoteCheckoutRequestSender),\n            remoteCheckoutRequestSender,\n            new AmazonPayScriptLoader(getScriptLoader())\n        )\n    );\n\n    registry.register('braintreevisacheckout', () =>\n        new BraintreeVisaCheckoutCustomerStrategy(\n            store,\n            checkoutActionCreator,\n            new PaymentMethodActionCreator(client),\n            new CustomerStrategyActionCreator(registry),\n            new RemoteCheckoutActionCreator(remoteCheckoutRequestSender),\n            createBraintreeVisaCheckoutPaymentProcessor(getScriptLoader()),\n            new VisaCheckoutScriptLoader(getScriptLoader())\n        )\n    );\n\n    registry.register('chasepay', () =>\n        new ChasePayCustomerStrategy(\n            store,\n            new PaymentMethodActionCreator(client),\n            new RemoteCheckoutActionCreator(remoteCheckoutRequestSender),\n            new ChasePayScriptLoader(getScriptLoader()),\n            requestSender,\n            createFormPoster()\n        )\n    );\n\n    registry.register('default', () =>\n        new DefaultCustomerStrategy(\n            store,\n            new CustomerActionCreator(\n                new CustomerRequestSender(requestSender),\n                checkoutActionCreator\n            )\n        )\n    );\n\n    return registry;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/create-customer-strategy-registry.ts","import { InvalidArgumentError } from '../error/errors';\n\nexport default class Registry<T> {\n    private _factories: { [key: string]: Factory<T> };\n    private _instances: { [key: string]: T };\n    private _options: RegistryOptions;\n\n    constructor(options?: RegistryOptions) {\n        this._factories = {};\n        this._instances = {};\n        this._options = { defaultToken: 'default', ...options };\n    }\n\n    get(token: string = this._options.defaultToken, cacheToken: string = token): T {\n        try {\n            return this._getInstance(token, cacheToken);\n        } catch (error) {\n            return this._getInstance(this._options.defaultToken, cacheToken);\n        }\n    }\n\n    register(token: string, factory: Factory<T>): void {\n        if (this.hasFactory(token)) {\n            throw new InvalidArgumentError(`'${token}' is already registered.`);\n        }\n\n        this._factories[token] = factory;\n    }\n\n    hasFactory(token: string): boolean {\n        return !!this._factories[token];\n    }\n\n    hasInstance(token: string): boolean {\n        return !!this._instances[token];\n    }\n\n    private _getInstance(token: string, cacheToken: string): T {\n        if (!this.hasInstance(cacheToken)) {\n            const factory = this._factories[token];\n\n            if (!factory) {\n                throw new InvalidArgumentError(`'${token}' is not registered.`);\n            }\n\n            this._instances[cacheToken] = factory();\n        }\n\n        return this._instances[cacheToken];\n    }\n}\n\nexport type Factory<T> = () => T;\n\nexport interface RegistryOptions {\n    defaultToken: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/registry/registry.ts","import { Payment, PaymentMethodActionCreator } from '../..';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../../checkout';\nimport { MissingDataError, MissingDataErrorType, StandardError } from '../../../common/error/errors';\nimport { OrderActionCreator, OrderPaymentRequestBody, OrderRequestBody } from '../../../order';\nimport { PaymentArgumentInvalidError } from '../../errors';\nimport isCreditCardLike from '../../is-credit-card-like';\nimport isVaultedInstrument from '../../is-vaulted-instrument';\nimport { PaymentInstrument } from '../../payment';\nimport PaymentActionCreator from '../../payment-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../../payment-request-options';\nimport PaymentStrategy from '../payment-strategy';\n\nimport BraintreePaymentProcessor from './braintree-payment-processor';\n\nexport default class BraintreeCreditCardPaymentStrategy extends PaymentStrategy {\n    private _is3dsEnabled?: boolean;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _braintreePaymentProcessor: BraintreePaymentProcessor\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(options.methodId))\n            .then(state => {\n                const paymentMethod = state.paymentMethods.getPaymentMethod(options.methodId);\n\n                if (!paymentMethod || !paymentMethod.clientToken) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                this._braintreePaymentProcessor.initialize(paymentMethod.clientToken, options.braintree);\n                this._is3dsEnabled = paymentMethod.config.is3dsEnabled;\n\n                return super.initialize(options);\n            })\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    execute(orderRequest: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = orderRequest;\n\n        if (!payment) {\n            throw new PaymentArgumentInvalidError(['payment']);\n        }\n\n        return this._store.dispatch(\n            this._orderActionCreator.submitOrder(order, options)\n        )\n            .then(state =>\n                state.payment.isPaymentDataRequired(order.useStoreCredit) && payment ?\n                    this._preparePaymentData(payment) :\n                    Promise.resolve(payment as Payment)\n            )\n            .then(payment =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment(payment))\n            )\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._braintreePaymentProcessor.deinitialize()\n            .then(() => super.deinitialize(options));\n    }\n\n    private _handleError(error: Error): never {\n        if (error.name === 'BraintreeError') {\n            throw new StandardError(error.message);\n        }\n\n        throw error;\n    }\n\n    private _isUsingVaulting(paymentData: PaymentInstrument): boolean {\n        if (isCreditCardLike(paymentData)) {\n            return Boolean(paymentData.shouldSaveInstrument);\n        }\n\n        return isVaultedInstrument(paymentData);\n    }\n\n    private _preparePaymentData(payment: OrderPaymentRequestBody): Promise<Payment> {\n        const { paymentData } = payment;\n        const state = this._store.getState();\n\n        if (paymentData && this._isUsingVaulting(paymentData)) {\n            return Promise.resolve(payment as Payment);\n        }\n\n        const checkout = state.checkout.getCheckout();\n        const billingAddress = state.billingAddress.getBillingAddress();\n\n        if (!checkout) {\n            throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n        }\n\n        if (!billingAddress) {\n            throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n        }\n\n        const tokenizedCard = this._is3dsEnabled ?\n            this._braintreePaymentProcessor.verifyCard(payment, billingAddress, checkout.grandTotal) :\n            this._braintreePaymentProcessor.tokenizeCard(payment, billingAddress);\n\n        return this._braintreePaymentProcessor.appendSessionId(tokenizedCard)\n            .then(paymentData => ({ ...payment, paymentData }));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-credit-card-payment-strategy.ts","import isVaultedInstrument from './is-vaulted-instrument';\nimport { CreditCardInstrument, PaymentInstrument } from './payment';\n\nexport default function isCreditCardLike(instrument: PaymentInstrument): instrument is CreditCardInstrument {\n    const card = instrument as CreditCardInstrument;\n\n    return !isVaultedInstrument(card) &&\n        typeof card.ccName === 'string' &&\n        typeof card.ccNumber === 'string' &&\n        typeof card.ccType === 'string' &&\n        typeof card.ccExpiry === 'object' &&\n        typeof card.ccExpiry.month === 'string' &&\n        typeof card.ccExpiry.year === 'string';\n    }\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/is-credit-card-like.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class OrderFinalizationNotRequiredError extends StandardError {\n    constructor() {\n        super('The current order does not need to be finalized at this stage.');\n\n        this.type = 'order_finalization_not_required';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/order/errors/order-finalization-not-required-error.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../../checkout';\nimport { MissingDataError, MissingDataErrorType, NotInitializedError, NotInitializedErrorType, StandardError } from '../../../common/error/errors';\nimport { OrderActionCreator, OrderPaymentRequestBody, OrderRequestBody } from '../../../order';\nimport { PaymentArgumentInvalidError } from '../../errors';\nimport Payment from '../../payment';\nimport PaymentActionCreator from '../../payment-action-creator';\nimport PaymentMethod from '../../payment-method';\nimport PaymentMethodActionCreator from '../../payment-method-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../../payment-request-options';\nimport PaymentStrategy from '../payment-strategy';\n\nimport BraintreePaymentProcessor from './braintree-payment-processor';\n\nexport default class BraintreePaypalPaymentStrategy extends PaymentStrategy {\n    private _paymentMethod?: PaymentMethod;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _braintreePaymentProcessor: BraintreePaymentProcessor,\n        private _credit: boolean = false\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const { braintree: braintreeOptions, methodId } = options;\n\n        this._paymentMethod = this._store.getState().paymentMethods.getPaymentMethod(methodId);\n\n        if (this._paymentMethod && this._paymentMethod.nonce) {\n            return super.initialize(options);\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                if (!this._paymentMethod || !this._paymentMethod.clientToken) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                this._braintreePaymentProcessor.initialize(this._paymentMethod.clientToken, braintreeOptions);\n\n                return this._braintreePaymentProcessor.preloadPaypal();\n            })\n            .then(() => super.initialize(options))\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    execute(orderRequest: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = orderRequest;\n\n        if (!payment) {\n            throw new PaymentArgumentInvalidError(['payment']);\n        }\n\n        return Promise.all([\n                payment ? this._preparePaymentData(payment) : Promise.resolve(payment),\n                this._store.dispatch(this._orderActionCreator.submitOrder(order, options)),\n            ])\n            .then(([payment]) =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment(payment))\n            )\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    deinitialize(options: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._braintreePaymentProcessor.deinitialize()\n            .then(() => super.deinitialize(options));\n    }\n\n    private _handleError(error: Error): never {\n        if (error.name === 'BraintreeError') {\n            throw new StandardError(error.message);\n        }\n\n        throw error;\n    }\n\n    private _preparePaymentData(payment: OrderPaymentRequestBody): Promise<Payment> {\n        const state = this._store.getState();\n        const checkout = state.checkout.getCheckout();\n        const config = state.config.getStoreConfig();\n\n        if (!checkout) {\n            throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n        }\n\n        if (!config) {\n            throw new MissingDataError(MissingDataErrorType.MissingCheckoutConfig);\n        }\n\n        if (!this._paymentMethod) {\n            throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n        }\n\n        const { currency, storeProfile: { storeLanguage } } = config;\n        const { method, nonce } = this._paymentMethod;\n\n        if (nonce) {\n            return Promise.resolve({ ...payment, paymentData: { nonce, method } });\n        }\n\n        const tokenizedCard = this._braintreePaymentProcessor\n            .paypal(checkout.grandTotal, storeLanguage, currency.code, this._credit);\n\n        return this._braintreePaymentProcessor.appendSessionId(tokenizedCard)\n            .then(paymentData => ({ ...payment, paymentData: { ...paymentData, method } }));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-paypal-payment-strategy.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport BraintreePaymentProcessor from './braintree-payment-processor';\nimport BraintreeScriptLoader from './braintree-script-loader';\nimport BraintreeSDKCreator from './braintree-sdk-creator';\n\nexport default function createBraintreePaymentProcessor(scriptLoader: ScriptLoader) {\n    const braintreeScriptLoader = new BraintreeScriptLoader(scriptLoader);\n    const braintreeSDKCreator = new BraintreeSDKCreator(braintreeScriptLoader);\n\n    return new BraintreePaymentProcessor(braintreeSDKCreator);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/create-braintree-payment-processor.ts","import { createRequestSender } from '@bigcommerce/request-sender';\nimport { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport BraintreeScriptLoader from './braintree-script-loader';\nimport BraintreeSDKCreator from './braintree-sdk-creator';\nimport BraintreeVisaCheckoutPaymentProcessor from './braintree-visacheckout-payment-processor';\n\nexport default function createBraintreeVisaCheckoutPaymentProcessor(scriptLoader: ScriptLoader) {\n    const braintreeScriptLoader = new BraintreeScriptLoader(scriptLoader);\n    const braintreeSDKCreator = new BraintreeSDKCreator(braintreeScriptLoader);\n    const requestSender = createRequestSender();\n\n    return new BraintreeVisaCheckoutPaymentProcessor(braintreeSDKCreator, requestSender);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/create-braintree-visacheckout-payment-processor.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { StandardError } from '../../../common/error/errors';\n\nimport { VisaCheckoutHostWindow, VisaCheckoutSDK } from './visacheckout';\n\nexport default class VisaCheckoutScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader,\n        private _window: VisaCheckoutHostWindow = window\n    ) {}\n\n    load(testMode?: boolean): Promise<VisaCheckoutSDK> {\n        return this._scriptLoader\n            .loadScript(`//${testMode ? 'sandbox-' : ''}assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js`)\n            .then(() => {\n                if (!this._window.V) {\n                    throw new StandardError();\n                }\n\n                return this._window.V;\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/visacheckout-script-loader.ts","import {\n    PaymentActionCreator,\n    PaymentInitializeOptions,\n    PaymentMethod,\n    PaymentMethodActionCreator,\n    PaymentRequestOptions,\n    PaymentStrategyActionCreator,\n} from '../..';\nimport { CheckoutActionCreator, CheckoutStore, InternalCheckoutSelectors } from '../../../checkout';\nimport { InvalidArgumentError, MissingDataError, MissingDataErrorType, StandardError } from '../../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../../order';\nimport PaymentStrategy from '../payment-strategy';\n\nimport { BraintreeVisaCheckoutPaymentProcessor, VisaCheckoutScriptLoader } from '.';\nimport { VisaCheckoutPaymentSuccessPayload } from './visacheckout';\n\nexport default class BraintreeVisaCheckoutPaymentStrategy extends PaymentStrategy {\n    private _paymentMethod?: PaymentMethod;\n\n    constructor(\n        store: CheckoutStore,\n        private _checkoutActionCreator: CheckoutActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _paymentStrategyActionCreator: PaymentStrategyActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _orderActionCreator: OrderActionCreator,\n        private _braintreeVisaCheckoutPaymentProcessor: BraintreeVisaCheckoutPaymentProcessor,\n        private _visaCheckoutScriptLoader: VisaCheckoutScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const { braintreevisacheckout: visaCheckoutOptions, methodId } = options;\n\n        if (!visaCheckoutOptions) {\n            throw new InvalidArgumentError('Unable to initialize payment because \"options.braintreevisacheckout\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                const checkout = state.checkout.getCheckout();\n                const storeConfig = state.config.getStoreConfig();\n\n                if (!checkout) {\n                    throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n                }\n\n                if (!storeConfig) {\n                    throw new MissingDataError(MissingDataErrorType.MissingCheckoutConfig);\n                }\n\n                if (!this._paymentMethod || !this._paymentMethod.clientToken) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                const {\n                    onError = () => {},\n                    onPaymentSelect = () => {},\n                } = visaCheckoutOptions;\n\n                const initOptions = {\n                    locale: storeConfig.storeProfile.storeLanguage,\n                    collectShipping: false,\n                    subtotal: checkout.subtotal,\n                    currencyCode: storeConfig.currency.code,\n                };\n\n                return Promise.all([\n                    this._visaCheckoutScriptLoader.load(this._paymentMethod.config.testMode),\n                    this._braintreeVisaCheckoutPaymentProcessor.initialize(this._paymentMethod.clientToken, initOptions),\n                ])\n                .then(([visaCheckout, visaInitOptions]) => {\n                    visaCheckout.init(visaInitOptions);\n                    visaCheckout.on('payment.success', (paymentSuccessPayload: VisaCheckoutPaymentSuccessPayload) =>\n                        this._paymentInstrumentSelected(paymentSuccessPayload)\n                            .then(() => onPaymentSelect())\n                            .catch(error => onError(error))\n                    );\n                    visaCheckout.on('payment.error', (payment, error) => onError(error));\n                });\n            })\n            .then(() => super.initialize(options));\n    }\n\n    execute(orderRequest: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = orderRequest;\n\n        if (!payment) {\n            throw new InvalidArgumentError('Unable to submit payment because \"payload.payment\" argument is not provided.');\n        }\n\n        if (!this._paymentMethod || !this._paymentMethod.initializationData || !this._paymentMethod.initializationData.nonce) {\n            throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n        }\n\n        const { nonce } = this._paymentMethod.initializationData;\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment({ ...payment, paymentData: { nonce } }))\n            )\n            .catch((error: Error) => this._handleError(error));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._braintreeVisaCheckoutPaymentProcessor.deinitialize()\n            .then(() => super.deinitialize(options));\n    }\n\n    private _paymentInstrumentSelected(paymentSuccessPayload: VisaCheckoutPaymentSuccessPayload) {\n        const state = this._store.getState();\n\n        if (!this._paymentMethod) {\n            throw new Error('Payment method not initialized');\n        }\n\n        const { id: methodId } = this._paymentMethod;\n\n        return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction(() => {\n            return this._braintreeVisaCheckoutPaymentProcessor.handleSuccess(\n                paymentSuccessPayload,\n                state.shippingAddress.getShippingAddress(),\n                state.billingAddress.getBillingAddress()\n            )\n            .then(() => Promise.all([\n                this._store.dispatch(this._checkoutActionCreator.loadCurrentCheckout()),\n                this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId)),\n            ]));\n        }, { methodId }), { queueId: 'widgetInteraction' });\n    }\n\n    private _handleError(error: Error): never {\n        if (error.name === 'BraintreeError') {\n            throw new StandardError(error.message);\n        }\n\n        throw error;\n    }\n}\n\n/**\n * A set of options that are required to initialize the Visa Checkout payment\n * method provided by Braintree.\n *\n * If the customer chooses to pay with Visa Checkout, they will be asked to\n * enter their payment details via a modal. You can hook into events emitted by\n * the modal by providing the callbacks listed below.\n */\nexport interface BraintreeVisaCheckoutPaymentInitializeOptions {\n    /**\n     * A callback that gets called when Visa Checkout fails to initialize or\n     * selects a payment option.\n     *\n     * @param error - The error object describing the failure.\n     */\n    onError?(error: Error): void;\n\n    /**\n     * A callback that gets called when the customer selects a payment option.\n     */\n    onPaymentSelect?(): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/braintree/braintree-visacheckout-payment-strategy.ts","export { default as ChasePayScriptLoader } from './chasepay-script-loader';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/chasepay/index.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { StandardError } from '../../../common/error/errors';\n\nimport { ChasePayHostWindow } from '../chasepay/chasepay';\n\nexport default class ChasePayScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader,\n        public _window: ChasePayHostWindow = window\n    ) {}\n\n    load(testMode?: boolean): Promise<any> {\n        return this._scriptLoader\n            .loadScript(`//pwc${testMode ? 'psb' : ''}.chase.com/pwc/checkout/js/v20170521/list.action?type=raw&applId=PWC&channelId=CWC&version=1`)\n            .then(() => {\n                if (!this._window.JPMC) {\n                    throw new StandardError();\n                }\n\n                return this._window.JPMC;\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/chasepay/chasepay-script-loader.ts","export { default as AmazonPayCustomerStrategy, AmazonPayCustomerInitializeOptions } from './amazon-pay-customer-strategy';\nexport { default as CustomerStrategy } from './customer-strategy';\nexport { default as DefaultCustomerStrategy } from './default-customer-strategy';\nexport { default as BraintreeVisaCheckoutCustomerStrategy, BraintreeVisaCheckoutCustomerInitializeOptions } from './braintree-visacheckout-customer-strategy';\nexport { default as ChasePayCustomerStrategy, ChasePayCustomerInitializeOptions } from './chasepay-customer-strategy';\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/index.ts","import { CheckoutStore, InternalCheckoutSelectors} from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, MissingDataErrorType, NotImplementedError, NotInitializedError, NotInitializedErrorType, StandardError } from '../../common/error/errors';\nimport { PaymentMethod, PaymentMethodActionCreator } from '../../payment';\nimport { RemoteCheckoutActionCreator, RemoteCheckoutRequestSender } from '../../remote-checkout';\nimport { AmazonPayLoginButton, AmazonPayScriptLoader, AmazonPayWidgetError, AmazonPayWindow } from '../../remote-checkout/methods/amazon-pay';\nimport CustomerCredentials from '../customer-credentials';\nimport { CustomerInitializeOptions, CustomerRequestOptions } from '../customer-request-options';\n\nimport CustomerStrategy from './customer-strategy';\n\nexport default class AmazonPayCustomerStrategy extends CustomerStrategy {\n    private _paymentMethod?: PaymentMethod;\n    private _window: AmazonPayWindow;\n\n    constructor(\n        store: CheckoutStore,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _remoteCheckoutRequestSender: RemoteCheckoutRequestSender,\n        private _scriptLoader: AmazonPayScriptLoader\n    ) {\n        super(store);\n\n        this._window = window;\n    }\n\n    initialize(options: CustomerInitializeOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        const { amazon: amazonOptions, methodId } = options;\n\n        if (!amazonOptions || !methodId) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.amazon\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => new Promise((resolve, reject) => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                if (!this._paymentMethod) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                const { onError = () => {} } = amazonOptions;\n                const onReady = () => {\n                    this._createSignInButton({\n                        ...amazonOptions,\n                        onError: error => {\n                            reject(error);\n                            onError(error);\n                        },\n                    });\n\n                    resolve();\n                };\n\n                this._scriptLoader.loadWidget(this._paymentMethod, onReady)\n                    .catch(reject);\n            }))\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        this._paymentMethod = undefined;\n\n        return super.deinitialize(options);\n    }\n\n    signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        throw new NotImplementedError(\n            'In order to sign in via AmazonPay, the shopper must click on \"Login with Amazon\" button.'\n        );\n    }\n\n    signOut(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const payment = state.payment.getPaymentId();\n\n        if (!payment) {\n            return Promise.resolve(this._store.getState());\n        }\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.signOut(payment.providerId, options)\n        );\n    }\n\n    private _createSignInButton(options: AmazonPayCustomerInitializeOptions): AmazonPayLoginButton {\n        if (!this._paymentMethod || !this._window.OffAmazonPayments) {\n            throw new NotInitializedError(NotInitializedErrorType.CustomerNotInitialized);\n        }\n\n        if (!this._paymentMethod.config.merchantId) {\n            throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n        }\n\n        const { initializationData } = this._paymentMethod;\n\n        return new this._window.OffAmazonPayments.Button(options.container, this._paymentMethod.config.merchantId, {\n            color: options.color || 'Gold',\n            size: options.size || 'small',\n            type: 'PwA',\n            useAmazonAddressBook: true,\n            onError: options.onError,\n            authorization: () => {\n                this._handleAuthorization(initializationData);\n            },\n        });\n    }\n\n    private _handleAuthorization(options: AuthorizationOptions): void {\n        this._remoteCheckoutRequestSender.generateToken()\n            .then(({ body }) => {\n                if (!this._window.amazon) {\n                    throw new NotInitializedError(NotInitializedErrorType.ShippingNotInitialized);\n                }\n\n                this._window.amazon.Login.authorize({\n                    popup: false,\n                    scope: 'payments:shipping_address payments:billing_address payments:widget profile',\n                    state: `${options.tokenPrefix}${body.token}`,\n                }, options.redirectUrl);\n\n                this._remoteCheckoutRequestSender.trackAuthorizationEvent();\n            });\n    }\n}\n\n/**\n * A set of options that are required to initialize the customer step of\n * checkout to support Amazon Pay.\n *\n * When AmazonPay is initialized, a sign-in button will be inserted into the\n * DOM. When the customer clicks on it, they will be redirected to Amazon to\n * sign in.\n */\nexport interface AmazonPayCustomerInitializeOptions {\n    /**\n     * The ID of a container which the sign-in button should insert into.\n     */\n    container: string;\n\n    /**\n     * The colour of the sign-in button.\n     */\n    color?: 'Gold' | 'LightGray' | 'DarkGray';\n\n    /**\n     * The size of the sign-in button.\n     */\n    size?: 'small' | 'medium' | 'large' | 'x-large';\n\n    /**\n     * A callback that gets called if unable to initialize the widget or select\n     * one of the address options provided by the widget.\n     *\n     * @param error - The error object describing the failure.\n     */\n    onError?(error: AmazonPayWidgetError | StandardError): void;\n}\n\ninterface AuthorizationOptions {\n    redirectUrl: string;\n    tokenPrefix: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/amazon-pay-customer-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport CustomerActionCreator from '../customer-action-creator';\nimport CustomerCredentials from '../customer-credentials';\nimport { CustomerRequestOptions } from '../customer-request-options';\n\nimport CustomerStrategy from './customer-strategy';\n\nexport default class DefaultCustomerStrategy extends CustomerStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _customerActionCreator: CustomerActionCreator\n    ) {\n        super(store);\n    }\n\n    signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._customerActionCreator.signInCustomer(credentials, options)\n        );\n    }\n\n    signOut(options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._customerActionCreator.signOutCustomer(options)\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/default-customer-strategy.ts","import { CustomerStrategyActionCreator } from '..';\nimport { CheckoutActionCreator, CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, MissingDataErrorType, NotImplementedError } from '../../common/error/errors';\nimport { PaymentMethod, PaymentMethodActionCreator } from '../../payment';\nimport { BraintreeVisaCheckoutPaymentProcessor } from '../../payment/strategies/braintree';\nimport { VisaCheckoutPaymentSuccessPayload } from '../../payment/strategies/braintree/visacheckout';\nimport VisaCheckoutScriptLoader from '../../payment/strategies/braintree/visacheckout-script-loader';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport CustomerCredentials from '../customer-credentials';\nimport { CustomerInitializeOptions } from '../customer-request-options';\n\nimport CustomerStrategy from './customer-strategy';\n\nexport default class BraintreeVisaCheckoutCustomerStrategy extends CustomerStrategy {\n    private _paymentMethod?: PaymentMethod;\n    private _buttonClassName: string = 'visa-checkout-wrapper';\n\n    constructor(\n        store: CheckoutStore,\n        private _checkoutActionCreator: CheckoutActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _customerStrategyActionCreator: CustomerStrategyActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _braintreeVisaCheckoutPaymentProcessor: BraintreeVisaCheckoutPaymentProcessor,\n        private _visaCheckoutScriptLoader: VisaCheckoutScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: CustomerInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const { braintreevisacheckout: visaCheckoutOptions, methodId } = options;\n\n        if (!visaCheckoutOptions || !methodId) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.braintreevisacheckout\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                const checkout = state.checkout.getCheckout();\n                const storeConfig = state.config.getStoreConfig();\n\n                if (!checkout) {\n                    throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n                }\n\n                if (!storeConfig) {\n                    throw new MissingDataError(MissingDataErrorType.MissingCheckoutConfig);\n                }\n\n                if (!this._paymentMethod || !this._paymentMethod.clientToken) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                const {\n                    container,\n                    onError = () => {},\n                } = visaCheckoutOptions;\n\n                const initOptions = {\n                    locale: storeConfig.storeProfile.storeLanguage,\n                    collectShipping: true,\n                    subtotal: checkout.subtotal,\n                    currencyCode: storeConfig.currency.code,\n                };\n\n                return Promise.all([\n                    this._visaCheckoutScriptLoader.load(this._paymentMethod.config.testMode),\n                    this._braintreeVisaCheckoutPaymentProcessor.initialize(this._paymentMethod.clientToken, initOptions),\n                ])\n                .then(([visaCheckout, initOptions]) => {\n                    const signInButton = this._createSignInButton(container, this._buttonClassName);\n\n                    visaCheckout.init(initOptions);\n                    visaCheckout.on('payment.success', (paymentSuccessPayload: VisaCheckoutPaymentSuccessPayload) =>\n                        this._paymentInstrumentSelected(paymentSuccessPayload)\n                            .catch(error => onError(error))\n                    );\n                    visaCheckout.on('payment.error', (payment, error) => onError(error));\n\n                    return signInButton;\n                })\n                .then(signInButton => { signInButton.style.visibility = 'visible'; });\n            })\n            .then(() => super.initialize(options));\n    }\n\n    signIn(credentials: CustomerCredentials, options?: any): Promise<InternalCheckoutSelectors> {\n        throw new NotImplementedError(\n            'In order to sign in via VisaCheckout, the shopper must click on \"Visa Checkout\" button.'\n        );\n    }\n\n    signOut(options?: any): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.signOut('braintreevisacheckout', options)\n        );\n    }\n\n    deinitialize(options?: any): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        this._paymentMethod = undefined;\n\n        return this._braintreeVisaCheckoutPaymentProcessor.deinitialize()\n            .then(() => super.deinitialize(options));\n    }\n\n    private _paymentInstrumentSelected(paymentSuccessPayload: VisaCheckoutPaymentSuccessPayload) {\n        const state = this._store.getState();\n\n        if (!this._paymentMethod) {\n            throw new Error('Payment method not initialized');\n        }\n\n        const { id: methodId } = this._paymentMethod;\n\n        return this._store.dispatch(\n            this._customerStrategyActionCreator.widgetInteraction(() => {\n                return this._braintreeVisaCheckoutPaymentProcessor.handleSuccess(\n                    paymentSuccessPayload,\n                    state.shippingAddress.getShippingAddress(),\n                    state.billingAddress.getBillingAddress()\n                )\n                .then(() => this._store.dispatch(this._checkoutActionCreator.loadCurrentCheckout()));\n        }, { methodId }), { queueId: 'widgetInteraction' });\n    }\n\n    private _createSignInButton(containerId: string, buttonClass: string): HTMLElement {\n        const container = document.querySelector(`#${containerId}`);\n\n        if (!container) {\n            throw new Error('Need a container to place the button');\n        }\n\n        return (container.querySelector('.' + buttonClass) as HTMLElement) ||\n            this._insertVisaCheckoutButton(container, buttonClass);\n    }\n\n    private _insertVisaCheckoutButton(container: Element, buttonClass: string): HTMLElement {\n        const buttonSource = 'https://secure.checkout.visa.com/wallet-services-web/xo/button.png?acceptCanadianVisaDebit=false&cobrand=true&size=154';\n        const buttonTemplate = `\n            <img\n                alt=\"Visa Checkout\"\n                class=\"v-button\"\n                role=\"button\"\n                src=\"${buttonSource}\"\n                />\n            <a class=\"v-learn v-learn-default\" style=\"text-align: right; display: block; font-size: 10px; color: #003366;\" href=\"#\" data-locale=\"en_US\">Tell Me More</a>`;\n\n        const visaCheckoutButton = document.createElement('div');\n        visaCheckoutButton.style.visibility = 'hidden';\n        visaCheckoutButton.className = buttonClass;\n        visaCheckoutButton.innerHTML = buttonTemplate;\n\n        container.appendChild(visaCheckoutButton);\n        return visaCheckoutButton;\n    }\n}\n\nexport interface BraintreeVisaCheckoutCustomerInitializeOptions {\n    container: string;\n    onError?(error: Error): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/braintree-visacheckout-customer-strategy.ts","import FormPoster from '@bigcommerce/form-poster/lib/form-poster';\nimport { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, MissingDataErrorType, NotImplementedError, NotInitializedError, NotInitializedErrorType } from '../../common/error/errors';\nimport { toFormUrlEncoded } from '../../common/http-request';\nimport { PaymentMethod, PaymentMethodActionCreator } from '../../payment';\nimport { ChasePayScriptLoader } from '../../payment/strategies/chasepay';\nimport { ChasePaySuccessPayload } from '../../payment/strategies/chasepay/chasepay';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport CustomerCredentials from '../customer-credentials';\nimport {CustomerInitializeOptions, CustomerRequestOptions} from '../customer-request-options';\n\nimport CustomerStrategy from './customer-strategy';\n\nexport default class ChasePayCustomerStrategy extends CustomerStrategy {\n    private _paymentMethod?: PaymentMethod;\n\n    constructor(\n        store: CheckoutStore,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _chasePayScriptLoader: ChasePayScriptLoader,\n        private _requestSender: RequestSender,\n        private _formPoster: FormPoster\n    ) {\n        super(store);\n    }\n\n    initialize(options: CustomerInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const { chasepay: chasePayOptions, methodId } = options;\n\n        if (!chasePayOptions || !methodId) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.chasepay\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                const cart = state.cart.getCart();\n                const storeConfig = state.config.getStoreConfig();\n\n                if (!cart) {\n                    throw new MissingDataError(MissingDataErrorType.MissingCart);\n                }\n\n                if (!storeConfig) {\n                    throw new MissingDataError(MissingDataErrorType.MissingCheckoutConfig);\n                }\n\n                if (!this._paymentMethod || !this._paymentMethod.initializationData.digitalSessionId) {\n                    throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n                }\n\n                const { container } = chasePayOptions;\n\n                return this._chasePayScriptLoader.load(this._paymentMethod.config.testMode)\n                    .then(JPMC => {\n                        const ChasePay = JPMC.ChasePay;\n\n                        if (ChasePay.isChasePayUp) {\n                            ChasePay.insertButtons({\n                                containers: [container],\n                            });\n                        }\n\n                        ChasePay.on(ChasePay.EventType.START_CHECKOUT, () => {\n                            this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n                                .then(() => {\n                                    const state = this._store.getState();\n                                    const method = state.paymentMethods.getPaymentMethod(methodId);\n                                    const sessionId = method && method.initializationData && method.initializationData.digitalSessionId;\n\n                                    if (sessionId) {\n                                        ChasePay.startCheckout(sessionId);\n                                    }\n                                });\n                        });\n\n                        ChasePay.on(ChasePay.EventType.COMPLETE_CHECKOUT, (payload: ChasePaySuccessPayload) => {\n                            const state = this._store.getState();\n                            const method = state.paymentMethods.getPaymentMethod(methodId);\n                            const requestId = method && method.initializationData && method.initializationData.merchantRequestId;\n\n                            if (requestId) {\n                                this._setExternalCheckoutData(payload, requestId)\n                                    .then(() => {\n                                        this._reloadPage();\n                                });\n                            }\n                        });\n                    });\n            })\n            .then(() => super.initialize(options));\n    }\n\n    signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Promise<InternalCheckoutSelectors> {\n        throw new NotImplementedError(\n            'In order to sign in via Chase Pay, the shopper must click on \"Visa Checkout\" button.'\n        );\n    }\n\n    signOut(options?: any): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const payment = state.payment.getPaymentId();\n\n        if (!payment) {\n            return Promise.resolve(this._store.getState());\n        }\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.signOut(payment.providerId, options)\n        );\n    }\n\n    private _setExternalCheckoutData(payload: ChasePaySuccessPayload, requestId: string): Promise<Response> {\n        const url = `checkout.php?provider=chasepay&action=set_external_checkout`;\n        const options = {\n            headers: {\n                Accept: 'text/html',\n                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n            },\n            body: toFormUrlEncoded({\n                sessionToken: payload.sessionToken,\n                merchantRequestId: requestId,\n            }),\n            method: 'post',\n        };\n\n        return this._requestSender.sendRequest(url, options);\n    }\n\n    private _reloadPage() {\n        this._formPoster.postForm('/checkout.php', {\n            headers: {\n                Accept: 'text/html',\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            params: {\n                fromChasePay: true,\n            },\n        });\n    }\n}\n\nexport interface ChasePayCustomerInitializeOptions {\n    container: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/strategies/chasepay-customer-strategy.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { BillingAddressAction, BillingAddressActionType } from '../billing/billing-address-actions';\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\n\nimport Customer from './customer';\nimport CustomerState from './customer-state';\n\nconst DEFAULT_STATE: CustomerState = {};\n\nexport default function customerReducer(\n    state: CustomerState = DEFAULT_STATE,\n    action: CheckoutAction | BillingAddressAction\n): CustomerState {\n    const reducer = combineReducers<CustomerState, CheckoutAction | BillingAddressAction >({\n        data: dataReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: Customer | undefined,\n    action: CheckoutAction | BillingAddressAction\n): Customer | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return action.payload ? { ...data, ...action.payload.customer } : data;\n\n    case BillingAddressActionType.UpdateBillingAddressSucceeded:\n        return action.payload && action.payload.billingAddress ? { ...data, email: action.payload.billingAddress.email } as Customer : data;\n\n    default:\n        return data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport CustomerCredentials from './customer-credentials';\nimport { InternalCustomerResponseBody } from './internal-customer-responses';\n\nexport default class CustomerRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    signInCustomer(credentials: CustomerCredentials, { timeout }: RequestOptions = {}): Promise<Response<InternalCustomerResponseBody>> {\n        const url = '/internalapi/v1/checkout/customer';\n        const params = {\n            includes: ['quote', 'shippingOptions'].join(','),\n        };\n\n        return this._requestSender.post(url, { params, timeout, body: credentials });\n    }\n\n    signOutCustomer({ timeout }: RequestOptions = {}): Promise<Response<InternalCustomerResponseBody>> {\n        const url = '/internalapi/v1/checkout/customer';\n        const params = {\n            includes: ['quote', 'shippingOptions'].join(','),\n        };\n\n        return this._requestSender.delete(url, { params, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-request-sender.ts","import { selector } from '../common/selector';\n\nimport Customer from './customer';\nimport CustomerState from './customer-state';\n\n@selector\nexport default class CustomerSelector {\n    constructor(\n        private _customer: CustomerState\n    ) {}\n\n    getCustomer(): Customer | undefined {\n        return this._customer.data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-selector.ts","import { createAction, createErrorAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { Registry } from '../common/registry';\n\nimport CustomerCredentials from './customer-credentials';\nimport { CustomerInitializeOptions, CustomerRequestOptions } from './customer-request-options';\nimport {\n    CustomerStrategyActionType,\n    CustomerStrategyDeinitializeAction,\n    CustomerStrategyInitializeAction,\n    CustomerStrategySignInAction,\n    CustomerStrategySignOutAction,\n    CustomerStrategyWidgetAction,\n} from './customer-strategy-actions';\nimport { CustomerStrategy } from './strategies';\n\nexport default class CustomerStrategyActionCreator {\n    constructor(\n        private _strategyRegistry: Registry<CustomerStrategy>\n    ) {}\n\n    signIn(credentials: CustomerCredentials, options?: CustomerRequestOptions): Observable<CustomerStrategySignInAction> {\n        return Observable.create((observer: Observer<CustomerStrategySignInAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.SignInRequested, undefined, meta));\n\n            this._strategyRegistry.get(methodId)\n                .signIn(credentials, options)\n                .then(() => {\n                    observer.next(createAction(CustomerStrategyActionType.SignInSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(CustomerStrategyActionType.SignInFailed, error, meta));\n                });\n        });\n    }\n\n    signOut(options?: CustomerRequestOptions): Observable<CustomerStrategySignOutAction> {\n        return Observable.create((observer: Observer<CustomerStrategySignOutAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.SignOutRequested, undefined, meta));\n\n            this._strategyRegistry.get(methodId)\n                .signOut(options)\n                .then(() => {\n                    observer.next(createAction(CustomerStrategyActionType.SignOutSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(CustomerStrategyActionType.SignOutFailed, error, meta));\n                });\n        });\n    }\n\n    initialize(options?: CustomerInitializeOptions): Observable<CustomerStrategyInitializeAction> {\n        return Observable.create((observer: Observer<CustomerStrategyInitializeAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.InitializeRequested, undefined, meta));\n\n            this._strategyRegistry.get(methodId)\n                .initialize(options)\n                .then(() => {\n                    observer.next(createAction(CustomerStrategyActionType.InitializeSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(CustomerStrategyActionType.InitializeFailed, error, meta));\n                });\n        });\n    }\n\n    deinitialize(options?: CustomerRequestOptions): Observable<CustomerStrategyDeinitializeAction> {\n        return Observable.create((observer: Observer<CustomerStrategyDeinitializeAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.DeinitializeRequested, undefined, meta));\n\n            this._strategyRegistry.get(methodId)\n                .deinitialize(options)\n                .then(() => {\n                    observer.next(createAction(CustomerStrategyActionType.DeinitializeSucceeded, undefined, meta));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(CustomerStrategyActionType.DeinitializeFailed, error, meta));\n                });\n        });\n    }\n\n    widgetInteraction(method: () => Promise<any>, options?: CustomerRequestOptions): Observable<CustomerStrategyWidgetAction> {\n        return Observable.create((observer: Observer<CustomerStrategyWidgetAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(CustomerStrategyActionType.WidgetInteractionStarted, undefined, meta));\n\n            method().then(() => {\n                observer.next(createAction(CustomerStrategyActionType.WidgetInteractionFinished, undefined, meta));\n                observer.complete();\n            })\n            .catch(error => {\n                observer.error(createErrorAction(CustomerStrategyActionType.WidgetInteractionFailed, error, meta));\n            });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-action-creator.ts","import CustomerStrategyState from './customer-strategy-state';\n\nexport default class CustomerStrategySelector {\n    constructor(\n        private _customerStrategies: CustomerStrategyState\n    ) {}\n\n    getSignInError(methodId?: string): Error | undefined {\n        if (methodId && this._customerStrategies.errors.signInMethodId !== methodId) {\n            return;\n        }\n\n        return this._customerStrategies.errors.signInError;\n    }\n\n    getSignOutError(methodId?: string): Error | undefined {\n        if (methodId && this._customerStrategies.errors.signOutMethodId !== methodId) {\n            return;\n        }\n\n        return this._customerStrategies.errors.signOutError;\n    }\n\n    getInitializeError(methodId?: string): Error | undefined {\n        if (methodId && this._customerStrategies.errors.initializeMethodId !== methodId) {\n            return;\n        }\n\n        return this._customerStrategies.errors.initializeError;\n    }\n\n    getWidgetInteractionError(methodId?: string): Error | undefined {\n        if (methodId && this._customerStrategies.errors.widgetInteractionMethodId !== methodId) {\n            return;\n        }\n\n        return this._customerStrategies.errors.widgetInteractionError;\n    }\n\n    isSigningIn(methodId?: string): boolean {\n        if (methodId && this._customerStrategies.statuses.signInMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._customerStrategies.statuses.isSigningIn;\n    }\n\n    isSigningOut(methodId?: string): boolean {\n        if (methodId && this._customerStrategies.statuses.signOutMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._customerStrategies.statuses.isSigningOut;\n    }\n\n    isInitializing(methodId?: string): boolean {\n        if (methodId && this._customerStrategies.statuses.initializeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._customerStrategies.statuses.isInitializing;\n    }\n\n    isWidgetInteracting(methodId?: string): boolean {\n        if (methodId && this._customerStrategies.statuses.widgetInteractionMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._customerStrategies.statuses.isWidgetInteracting;\n    }}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { CustomerStrategyAction, CustomerStrategyActionType } from './customer-strategy-actions';\nimport CustomerStrategyState, { CustomerStrategyErrorsState, CustomerStrategyStatusesState, DEFAULT_STATE } from './customer-strategy-state';\n\nexport default function customerStrategyReducer(\n    state: CustomerStrategyState = DEFAULT_STATE,\n    action: CustomerStrategyAction\n): CustomerStrategyState {\n    const reducer = combineReducers<CustomerStrategyState, CustomerStrategyAction>({\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction errorsReducer(\n    errors: CustomerStrategyErrorsState = DEFAULT_STATE.errors,\n    action: CustomerStrategyAction\n): CustomerStrategyErrorsState {\n    switch (action.type) {\n    case CustomerStrategyActionType.InitializeRequested:\n    case CustomerStrategyActionType.InitializeSucceeded:\n        return {\n            ...errors,\n            initializeError: undefined,\n            initializeMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.InitializeFailed:\n        return {\n            ...errors,\n            initializeError: action.payload,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.DeinitializeRequested:\n    case CustomerStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...errors,\n            deinitializeError: undefined,\n            deinitializeMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.DeinitializeFailed:\n        return {\n            ...errors,\n            deinitializeError: action.payload,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.SignInRequested:\n    case CustomerStrategyActionType.SignInSucceeded:\n        return {\n            ...errors,\n            signInError: undefined,\n            signInMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.SignInFailed:\n        return {\n            ...errors,\n            signInError: action.payload,\n            signInMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.SignOutRequested:\n    case CustomerStrategyActionType.SignOutSucceeded:\n        return {\n            ...errors,\n            signOutError: undefined,\n            signOutMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.SignOutFailed:\n        return {\n            ...errors,\n            signOutError: action.payload,\n            signOutMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.WidgetInteractionStarted:\n    case CustomerStrategyActionType.WidgetInteractionFinished:\n        return {\n            ...errors,\n            widgetInteractionError: undefined,\n            widgetInteractionMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.WidgetInteractionFailed:\n        return {\n            ...errors,\n            widgetInteractionError: action.payload,\n            widgetInteractionMethodId: action.meta.methodId,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: CustomerStrategyStatusesState = DEFAULT_STATE.statuses,\n    action: CustomerStrategyAction\n): CustomerStrategyStatusesState {\n    switch (action.type) {\n    case CustomerStrategyActionType.InitializeRequested:\n        return {\n            ...statuses,\n            isInitializing: true,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.InitializeFailed:\n    case CustomerStrategyActionType.InitializeSucceeded:\n        return {\n            ...statuses,\n            isInitializing: false,\n            initializeMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.DeinitializeRequested:\n        return {\n            ...statuses,\n            isDeinitializing: true,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.DeinitializeFailed:\n    case CustomerStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...statuses,\n            isDeinitializing: false,\n            deinitializeMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.SignInRequested:\n        return {\n            ...statuses,\n            isSigningIn: true,\n            signInMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.SignInFailed:\n    case CustomerStrategyActionType.SignInSucceeded:\n        return {\n            ...statuses,\n            isSigningIn: false,\n            signInMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.SignOutRequested:\n        return {\n            ...statuses,\n            isSigningOut: true,\n            signOutMethodId: action.meta && action.meta.methodId,\n        };\n\n    case CustomerStrategyActionType.SignOutFailed:\n    case CustomerStrategyActionType.SignOutSucceeded:\n        return {\n            ...statuses,\n            isSigningOut: false,\n            signOutMethodId: undefined,\n        };\n\n    case CustomerStrategyActionType.WidgetInteractionStarted:\n        return {\n            ...statuses,\n            isWidgetInteracting: true,\n            widgetInteractionMethodId: action.meta.methodId,\n         };\n\n    case CustomerStrategyActionType.WidgetInteractionFinished:\n    case CustomerStrategyActionType.WidgetInteractionFailed:\n         return {\n            ...statuses,\n            isWidgetInteracting: false,\n            widgetInteractionMethodId: undefined,\n         };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-reducer.ts","export default interface CustomerStrategyState {\n    errors: CustomerStrategyErrorsState;\n    statuses: CustomerStrategyStatusesState;\n}\n\nexport interface CustomerStrategyErrorsState {\n    deinitializeError?: Error;\n    deinitializeMethodId?: string;\n    initializeError?: Error;\n    initializeMethodId?: string;\n    signInError?: Error;\n    signInMethodId?: string;\n    signOutError?: Error;\n    signOutMethodId?: string;\n    widgetInteractionError?: Error;\n    widgetInteractionMethodId?: string;\n}\n\nexport interface CustomerStrategyStatusesState {\n    deinitializeMethodId?: string;\n    initializeMethodId?: string;\n    isDeinitializing?: boolean;\n    isInitializing?: boolean;\n    isSigningIn?: boolean;\n    isSigningOut?: boolean;\n    signInMethodId?: string;\n    signOutMethodId?: string;\n    isWidgetInteracting?: boolean;\n    widgetInteractionMethodId?: string;\n}\n\nexport const DEFAULT_STATE: CustomerStrategyState = {\n    errors: {},\n    statuses: {},\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/customer-strategy-state.ts","import { mapToInternalAddress, Address } from '../address';\nimport { Cart } from '../cart';\n\nimport { Customer } from '.';\nimport InternalCustomer from './internal-customer';\n\nexport default function mapToInternalCustomer(customer: Customer, cart: Cart, billingAddress: Address): InternalCustomer {\n    return {\n        addresses: (customer.addresses || []).map(address => mapToInternalAddress(address)),\n        customerId: cart.customerId,\n        isGuest: customer.isGuest,\n        storeCredit: customer.storeCredit,\n        email: customer.email || billingAddress.email || '',\n        firstName: customer.firstName,\n        name: customer.fullName,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/customer/map-to-internal-customer.ts","import { createRequestSender } from '@bigcommerce/request-sender';\nimport { getScriptLoader } from '@bigcommerce/script-loader';\n\nimport { CheckoutClient, CheckoutStore } from '../checkout';\nimport CheckoutRequestSender from '../checkout/checkout-request-sender';\nimport { Registry } from '../common/registry';\nimport { PaymentMethodActionCreator } from '../payment';\nimport { RemoteCheckoutActionCreator, RemoteCheckoutRequestSender } from '../remote-checkout';\nimport { AmazonPayScriptLoader } from '../remote-checkout/methods/amazon-pay';\n\nimport ConsignmentActionCreator from './consignment-action-creator';\nimport { AmazonPayShippingStrategy, DefaultShippingStrategy, ShippingStrategy } from './strategies';\n\nexport default function createShippingStrategyRegistry(\n    store: CheckoutStore,\n    client: CheckoutClient\n): Registry<ShippingStrategy> {\n    const requestSender = createRequestSender();\n    const registry = new Registry<ShippingStrategy>();\n    const checkoutRequestSender = new CheckoutRequestSender(requestSender);\n\n    registry.register('amazon', () =>\n        new AmazonPayShippingStrategy(\n            store,\n            new ConsignmentActionCreator(client, checkoutRequestSender),\n            new PaymentMethodActionCreator(client),\n            new RemoteCheckoutActionCreator(new RemoteCheckoutRequestSender(requestSender)),\n            new AmazonPayScriptLoader(getScriptLoader())\n        )\n    );\n\n    registry.register('default', () =>\n        new DefaultShippingStrategy(\n            store,\n            new ConsignmentActionCreator(client, checkoutRequestSender)\n        )\n    );\n\n    return registry;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/create-shipping-strategy-registry.ts","export { default as AmazonPayShippingStrategy, AmazonPayShippingInitializeOptions } from './amazon-pay-shipping-strategy';\nexport { default as DefaultShippingStrategy } from './default-shipping-strategy';\nexport { default as ShippingStrategy } from './shipping-strategy';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/strategies/index.ts","import { createAction, createErrorAction } from '@bigcommerce/data-store';\n\nimport { isAddressEqual, mapFromInternalAddress, Address } from '../../address';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, MissingDataErrorType, NotInitializedError, NotInitializedErrorType, StandardError } from '../../common/error/errors';\nimport { PaymentMethod, PaymentMethodActionCreator } from '../../payment';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport { RemoteCheckoutSynchronizationError } from '../../remote-checkout/errors';\nimport { AmazonPayAddressBook, AmazonPayOrderReference, AmazonPayScriptLoader, AmazonPayWidgetError, AmazonPayWindow } from '../../remote-checkout/methods/amazon-pay';\nimport ConsignmentActionCreator from '../consignment-action-creator';\nimport { ShippingInitializeOptions, ShippingRequestOptions } from '../shipping-request-options';\nimport { ShippingStrategyActionType } from '../shipping-strategy-actions';\n\nimport ShippingStrategy from './shipping-strategy';\n\nexport default class AmazonPayShippingStrategy extends ShippingStrategy {\n    private _paymentMethod?: PaymentMethod;\n    private _window: AmazonPayWindow;\n\n    constructor(\n        store: CheckoutStore,\n        private _consignmentActionCreator: ConsignmentActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _scriptLoader: AmazonPayScriptLoader\n    ) {\n        super(store);\n\n        this._window = window;\n    }\n\n    initialize(options: ShippingInitializeOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        const { amazon: amazonOptions, methodId } = options;\n\n        if (!amazonOptions || !methodId) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.amazon\" argument is not provided.');\n        }\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => new Promise((resolve, reject) => {\n                this._paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                if (!this._paymentMethod) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                const onReady = () => {\n                    this._createAddressBook(amazonOptions)\n                        .then(resolve)\n                        .catch(reject);\n                };\n\n                this._scriptLoader.loadWidget(this._paymentMethod, onReady)\n                    .catch(reject);\n            }))\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        this._paymentMethod = undefined;\n\n        return super.deinitialize(options);\n    }\n\n    updateAddress(address: Address, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        return Promise.resolve(this._store.getState());\n    }\n\n    selectOption(optionId: string, options?: any): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._consignmentActionCreator.selectShippingOption(optionId, options)\n        );\n    }\n\n    private _createAddressBook(options: AmazonPayShippingInitializeOptions): Promise<AmazonPayAddressBook> {\n        return new Promise((resolve, reject) => {\n            const { container, onAddressSelect = () => {}, onError = () => {}, onReady = () => {} } = options;\n            const merchantId = this._paymentMethod && this._paymentMethod.config.merchantId;\n\n            if (!document.getElementById(container)) {\n                return reject(new InvalidArgumentError('Unable to create AmazonPay AddressBook widget without valid container ID.'));\n            }\n\n            if (!this._window.OffAmazonPayments) {\n                return reject(new NotInitializedError(NotInitializedErrorType.ShippingNotInitialized));\n            }\n\n            if (!merchantId) {\n                return reject(new MissingDataError(MissingDataErrorType.MissingPaymentMethod));\n            }\n\n            const widget = new this._window.OffAmazonPayments.Widgets.AddressBook({\n                design: {\n                    designMode: 'responsive',\n                },\n                scope: 'payments:billing_address payments:shipping_address payments:widget profile',\n                sellerId: merchantId,\n                onAddressSelect: orderReference => {\n                    this._synchronizeShippingAddress()\n                        .then(() => onAddressSelect(orderReference))\n                        .catch(onError);\n                },\n                onError: error => {\n                    reject(error);\n                    onError(error);\n                },\n                onOrderReferenceCreate: orderReference => {\n                    this._handleOrderReferenceCreate(orderReference);\n                },\n                onReady: () => {\n                    resolve();\n                    onReady();\n                },\n            });\n\n            widget.bind(container);\n\n            return widget;\n        });\n    }\n\n    private _synchronizeShippingAddress(): Promise<InternalCheckoutSelectors> {\n        const methodId = this._paymentMethod && this._paymentMethod.id;\n        const amazon = this._store.getState().remoteCheckout.getCheckout('amazon');\n        const referenceId = amazon ? amazon.referenceId : undefined;\n\n        if (!methodId || !referenceId) {\n            throw new NotInitializedError(NotInitializedErrorType.ShippingNotInitialized);\n        }\n\n        return this._store.dispatch(\n            createAction(ShippingStrategyActionType.UpdateAddressRequested, undefined, { methodId })\n        )\n            .then(() => this._store.dispatch(\n                this._remoteCheckoutActionCreator.initializeShipping(methodId, { referenceId })\n            ))\n            .then(state => {\n                const amazon = state.remoteCheckout.getCheckout('amazon');\n                const remoteAddress = amazon && amazon.shipping && amazon.shipping.address;\n                const address = state.shippingAddress.getShippingAddress();\n\n                if (remoteAddress === false) {\n                    throw new RemoteCheckoutSynchronizationError();\n                }\n\n                if (!remoteAddress || isAddressEqual(remoteAddress, address || {})) {\n                    return this._store.getState();\n                }\n\n                return this._store.dispatch(\n                    this._consignmentActionCreator.updateAddress(mapFromInternalAddress(remoteAddress))\n                );\n            })\n            .then(() => this._store.dispatch(\n                createAction(ShippingStrategyActionType.UpdateAddressSucceeded, undefined, { methodId })\n            ))\n            .catch(error => this._store.dispatch(\n                createErrorAction(ShippingStrategyActionType.UpdateAddressFailed, error, { methodId })\n            ));\n    }\n\n    private _handleOrderReferenceCreate(orderReference: AmazonPayOrderReference): void {\n        if (!this._paymentMethod) {\n            throw new NotInitializedError(NotInitializedErrorType.ShippingNotInitialized);\n        }\n\n        this._store.dispatch(\n            this._remoteCheckoutActionCreator.updateCheckout(this._paymentMethod.id as 'amazon', {\n                referenceId: orderReference.getAmazonOrderReferenceId(),\n            })\n        );\n    }\n}\n\n/**\n * A set of options that are required to initialize the shipping step of\n * checkout in order to support Amazon Pay.\n *\n * When Amazon Pay is initialized, a widget will be inserted into the DOM. The\n * widget has a list of shipping addresses for the customer to choose from.\n */\nexport interface AmazonPayShippingInitializeOptions {\n    /**\n     * The ID of a container which the address widget should insert into.\n     */\n    container: string;\n\n    /**\n     * A callback that gets called when the customer selects an address option.\n     *\n     * @param reference - The order reference provided by Amazon.\n     */\n    onAddressSelect?(reference: AmazonPayOrderReference): void;\n\n    /**\n     * A callback that gets called if unable to initialize the widget or select\n     * one of the address options provided by the widget.\n     *\n     * @param error - The error object describing the failure of the initialization.\n     */\n    onError?(error: AmazonPayWidgetError | StandardError): void;\n\n    /**\n     * A callback that gets called when the widget is loaded and ready to be\n     * interacted with.\n     */\n    onReady?(): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/strategies/amazon-pay-shipping-strategy.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class RemoteCheckoutSynchronizationError extends StandardError {\n    constructor(\n        public error?: Error\n    ) {\n        super('Unable to synchronize your checkout details with a third party provider. Please try again later.');\n\n        this.type = 'remote_checkout_synchronization';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-checkout/errors/remote-checkout-synchronization-error.ts","import { Address } from '../../address';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport ConsignmentActionCreator from '../consignment-action-creator';\nimport { ShippingRequestOptions } from '../shipping-request-options';\n\nimport ShippingStrategy from './shipping-strategy';\n\nexport default class DefaultShippingStrategy extends ShippingStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _consignmentActionCreator: ConsignmentActionCreator\n    ) {\n        super(store);\n    }\n\n    updateAddress(address: Address, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._consignmentActionCreator.updateAddress(address, options)\n        );\n    }\n\n    selectOption(optionId: string, options?: ShippingRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._consignmentActionCreator.selectShippingOption(optionId, options)\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/strategies/default-shipping-strategy.ts","import { selector } from '../common/selector';\n\nimport Consignment from './consignment';\nimport ConsignmentState from './consignment-state';\n\n@selector\nexport default class ConsignmentSelector {\n    constructor(\n        private _consignments: ConsignmentState\n    ) {}\n\n    getConsignments(): Consignment[] | undefined {\n        return this._consignments.data;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._consignments.errors.loadError;\n    }\n\n    getCreateError(): Error | undefined {\n        return this._consignments.errors.createError;\n    }\n\n    getUpdateError(): Error | undefined {\n        return this._consignments.errors.updateError;\n    }\n\n    isLoading(): boolean {\n        return this._consignments.statuses.isLoading === true;\n    }\n\n    isCreating(): boolean {\n        return this._consignments.statuses.isCreating === true;\n    }\n\n    isUpdating(): boolean {\n        return this._consignments.statuses.isUpdating === true;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/consignment-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\nimport { CustomerAction, CustomerActionType } from '../customer';\n\nimport Consignment from './consignment';\nimport { ConsignmentAction, ConsignmentActionType } from './consignment-actions';\nimport ConsignmentState, { ConsignmentErrorsState, ConsignmentStatusesState } from './consignment-state';\n\nconst DEFAULT_STATE: ConsignmentState = {\n    errors: {},\n    statuses: {},\n};\n\nexport default function consignmentReducer(\n    state: ConsignmentState = DEFAULT_STATE,\n    action: ConsignmentAction | CheckoutAction\n): ConsignmentState {\n    const reducer = combineReducers<ConsignmentState, ConsignmentAction | CheckoutAction>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: Consignment[] | undefined,\n    action: ConsignmentAction | CheckoutAction | CustomerAction\n): Consignment[] | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case ConsignmentActionType.CreateConsignmentsSucceeded:\n    case ConsignmentActionType.UpdateConsignmentSucceeded:\n        return action.payload ? action.payload.consignments : data;\n\n    case CustomerActionType.SignOutCustomerSucceeded:\n        return [];\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(\n    errors: ConsignmentErrorsState = DEFAULT_STATE.errors,\n    action: ConsignmentAction | CheckoutAction\n): ConsignmentErrorsState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return { ...errors, loadError: undefined };\n\n    case CheckoutActionType.LoadCheckoutFailed:\n        return { ...errors, loadError: action.payload };\n\n    case ConsignmentActionType.CreateConsignmentsRequested:\n    case ConsignmentActionType.CreateConsignmentsSucceeded:\n        return { ...errors, createError: undefined };\n\n    case ConsignmentActionType.CreateConsignmentsFailed:\n        return { ...errors, createError: action.payload };\n\n    case ConsignmentActionType.UpdateConsignmentSucceeded:\n    case ConsignmentActionType.UpdateConsignmentRequested:\n        return { ...errors, updateError: undefined };\n\n    case ConsignmentActionType.UpdateConsignmentFailed:\n        return { ...errors, updateError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: ConsignmentStatusesState = DEFAULT_STATE.statuses,\n    action: ConsignmentAction | CheckoutAction\n): ConsignmentStatusesState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n        return { ...statuses, isLoading: true };\n\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case CheckoutActionType.LoadCheckoutFailed:\n        return { ...statuses, isLoading: false };\n\n    case ConsignmentActionType.CreateConsignmentsRequested:\n        return { ...statuses, isCreating: true };\n\n    case ConsignmentActionType.CreateConsignmentsSucceeded:\n    case ConsignmentActionType.CreateConsignmentsFailed:\n        return { ...statuses, isCreating: false };\n\n    case ConsignmentActionType.UpdateConsignmentRequested:\n        return { ...statuses, isUpdating: true };\n\n    case ConsignmentActionType.UpdateConsignmentSucceeded:\n    case ConsignmentActionType.UpdateConsignmentFailed:\n        return { ...statuses, isUpdating: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/consignment-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { Checkout } from '../checkout';\nimport { ContentType, RequestOptions } from '../common/http-request';\n\nimport { ConsignmentsRequestBody, ConsignmentRequestBody } from './consignment';\n\nconst DEFAULT_PARAMS = {\n    include: [\n        'consignments.availableShippingOptions',\n        'cart.lineItems.physicalItems.options',\n        'cart.lineItems.digitalItems.options',\n        'customer',\n        'promotions.banners',\n    ].join(','),\n};\n\nexport default class ConsignmentRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    createConsignments(checkoutId: string, consignments: ConsignmentsRequestBody, { timeout }: RequestOptions = {}): Promise<Response<Checkout>> {\n        const url = `/api/storefront/checkouts/${checkoutId}/consignments`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.post(url, { body: consignments, params: DEFAULT_PARAMS, headers, timeout });\n    }\n\n    updateConsignment(checkoutId: string, consignment: ConsignmentRequestBody, { timeout }: RequestOptions = {}): Promise<Response<Checkout>> {\n        const { id, ...body } = consignment;\n        const url = `/api/storefront/checkouts/${checkoutId}/consignments/${id}`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.put(url, { params: DEFAULT_PARAMS, body, headers, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/consignment-request-sender.ts","import { selector } from '../common/selector';\n\nimport { Address } from '../address';\nimport ConfigState from '../config/config-state';\n\nimport ConsignmentState from './consignment-state';\n\n@selector\nexport default class ShippingAddressSelector {\n    constructor(\n        private _consignments: ConsignmentState,\n        private _config: ConfigState\n    ) {}\n\n    getShippingAddress(): Address | undefined {\n        const consignments = this._consignments.data;\n        const context = this._config.data && this._config.data.context;\n\n        if (!consignments || !consignments[0]) {\n            if (!context || !context.geoCountryCode) {\n                return;\n            }\n\n            return {\n                firstName: '',\n                lastName: '',\n                company: '',\n                address1: '',\n                address2: '',\n                city: '',\n                stateOrProvince: '',\n                stateOrProvinceCode: '',\n                postalCode: '',\n                country: '',\n                phone: '',\n                customFields: [],\n                countryCode: context.geoCountryCode,\n            };\n        }\n\n        return {\n            ...consignments[0].shippingAddress,\n            id: consignments[0].id,\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-address-selector.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport * as actionTypes from './shipping-country-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action<T>\n */\nexport default class ShippingCountryActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadCountries(options?: RequestOptions): Observable<Action> {\n        return Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_SHIPPING_COUNTRIES_REQUESTED));\n\n            this._checkoutClient.loadShippingCountries(options)\n                .then(response => {\n                    observer.next(createAction(actionTypes.LOAD_SHIPPING_COUNTRIES_SUCCEEDED, response.body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_SHIPPING_COUNTRIES_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\nimport { CountryResponseBody } from '../geography';\n\nexport default class ShippingCountryRequestSender {\n    constructor(\n        private _requestSender: RequestSender,\n        private _config: { locale?: string }\n    ) {}\n\n    loadCountries({ timeout }: RequestOptions = {}): Promise<Response<CountryResponseBody>> {\n        const url = '/internalapi/v1/shipping/countries';\n        const headers = {\n            'Accept-Language': this._config.locale,\n        };\n\n        return this._requestSender.get(url, { headers, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-request-sender.ts","import { selector } from '../common/selector';\nimport { Country } from '../geography';\n\nimport ShippingCountryState from './shipping-country-state';\n\n@selector\nexport default class ShippingCountrySelector {\n    constructor(\n        private _shippingCountries: ShippingCountryState\n    ) {}\n\n    getShippingCountries(): Country[] | undefined {\n        return this._shippingCountries.data;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._shippingCountries.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._shippingCountries.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { Country } from '../geography';\n\nimport * as actionTypes from './shipping-country-action-types';\nimport ShippingCountryState, { ShippingCountryErrorsState, ShippingCountryStatusesState } from './shipping-country-state';\n\nconst DEFAULT_STATE: ShippingCountryState = {\n    errors: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function shippingCountryReducer(state: ShippingCountryState = DEFAULT_STATE, action: Action): ShippingCountryState {\n    const reducer = combineReducers<ShippingCountryState>({\n        errors: errorsReducer,\n        data: dataReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: Country[] | undefined, action: Action): Country[] | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_SUCCEEDED:\n        return action.payload || [];\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: ShippingCountryErrorsState = DEFAULT_STATE.errors, action: Action): ShippingCountryErrorsState {\n    switch (action.type) {\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_REQUESTED:\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: ShippingCountryStatusesState = DEFAULT_STATE.statuses, action: Action): ShippingCountryStatusesState {\n    switch (action.type) {\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_SUCCEEDED:\n    case actionTypes.LOAD_SHIPPING_COUNTRIES_FAILED:\n        return { ...statuses, isLoading: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-country-reducer.ts","import { selector } from '../common/selector';\n\nimport Consignment from './consignment';\nimport ConsignmentState from './consignment-state';\nimport ShippingOption from './shipping-option';\n\n@selector\nexport default class ShippingOptionSelector {\n    constructor(\n        private _consignments: ConsignmentState\n    ) {}\n\n    getShippingOptions(): ShippingOption[] | undefined {\n        const consignment = this._getConsignment();\n\n        return consignment && consignment.availableShippingOptions;\n    }\n\n    getSelectedShippingOption(): ShippingOption | undefined {\n        const consignment = this._getConsignment();\n\n        return consignment && consignment.selectedShippingOption;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._consignments.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._consignments.statuses.isLoading;\n    }\n\n    getUpdateError(): Error | undefined {\n        return this._consignments.errors.updateError;\n    }\n\n    isUpdating(): boolean {\n        return !!this._consignments.statuses.isUpdating;\n    }\n\n    getCreateError(): Error | undefined {\n        return this._consignments.errors.createError;\n    }\n\n    isCreating(): boolean {\n        return !!this._consignments.statuses.isCreating;\n    }\n\n    private _getConsignment(): Consignment | undefined {\n        if (!this._consignments.data) {\n            return;\n        }\n\n        return this._consignments.data[0];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-option-selector.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { Address } from '../address';\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { Registry } from '../common/registry';\n\nimport { ShippingInitializeOptions, ShippingRequestOptions } from './shipping-request-options';\nimport {\n    ShippingStrategyActionType,\n    ShippingStrategyDeinitializeAction,\n    ShippingStrategyInitializeAction,\n    ShippingStrategySelectOptionAction,\n    ShippingStrategyUpdateAddressAction,\n} from './shipping-strategy-actions';\nimport { ShippingStrategy } from './strategies';\n\nexport default class ShippingStrategyActionCreator {\n    constructor(\n        private _strategyRegistry: Registry<ShippingStrategy>\n    ) {}\n\n    updateAddress(address: Address, options?: ShippingRequestOptions): ThunkAction<ShippingStrategyUpdateAddressAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ShippingStrategyUpdateAddressAction>) => {\n            const payment = store.getState().payment.getPaymentId();\n            const methodId = options && options.methodId || payment && payment.providerId;\n\n            observer.next(createAction(ShippingStrategyActionType.UpdateAddressRequested, undefined, { methodId }));\n\n            this._strategyRegistry.get(methodId)\n                .updateAddress(address, { ...options, methodId })\n                .then(() => {\n                    observer.next(createAction(ShippingStrategyActionType.UpdateAddressSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(ShippingStrategyActionType.UpdateAddressFailed, error, { methodId }));\n                });\n        });\n    }\n\n    selectOption(shippingOptionId: string, options?: ShippingRequestOptions): ThunkAction<ShippingStrategySelectOptionAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ShippingStrategySelectOptionAction>) => {\n            const payment = store.getState().payment.getPaymentId();\n            const methodId = options && options.methodId || payment && payment.providerId;\n\n            observer.next(createAction(ShippingStrategyActionType.SelectOptionRequested, undefined, { methodId }));\n\n            this._strategyRegistry.get(methodId)\n                .selectOption(shippingOptionId, { ...options, methodId })\n                .then(() => {\n                    observer.next(createAction(ShippingStrategyActionType.SelectOptionSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(ShippingStrategyActionType.SelectOptionFailed, error, { methodId }));\n                });\n        });\n    }\n\n    initialize(options?: ShippingInitializeOptions): ThunkAction<ShippingStrategyInitializeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ShippingStrategyInitializeAction>) => {\n            const payment = store.getState().payment.getPaymentId();\n            const methodId = options && options.methodId || payment && payment.providerId;\n            const mergedOptions = { ...options, methodId };\n\n            observer.next(createAction(ShippingStrategyActionType.InitializeRequested, undefined, { methodId }));\n\n            this._strategyRegistry.get(methodId)\n                .initialize(mergedOptions)\n                .then(() => {\n                    observer.next(createAction(ShippingStrategyActionType.InitializeSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(ShippingStrategyActionType.InitializeFailed, error, { methodId }));\n                });\n        });\n    }\n\n    deinitialize(options?: ShippingRequestOptions): ThunkAction<ShippingStrategyDeinitializeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ShippingStrategyDeinitializeAction>) => {\n            const payment = store.getState().payment.getPaymentId();\n            const methodId = options && options.methodId || payment && payment.providerId;\n\n            observer.next(createAction(ShippingStrategyActionType.DeinitializeRequested, undefined, { methodId }));\n\n            this._strategyRegistry.get(methodId)\n                .deinitialize({ ...options, methodId })\n                .then(() => {\n                    observer.next(createAction(ShippingStrategyActionType.DeinitializeSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(ShippingStrategyActionType.DeinitializeFailed, error, { methodId }));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-action-creator.ts","import { selector } from '../common/selector';\n\nimport ShippingStrategyState from './shipping-strategy-state';\n\n@selector\nexport default class ShippingStrategySelector {\n    constructor(\n        private _shippingStrategies: ShippingStrategyState\n    ) {}\n\n    getUpdateAddressError(methodId?: string): Error | undefined {\n        if (methodId && this._shippingStrategies.errors.updateAddressMethodId !== methodId) {\n            return;\n        }\n\n        return this._shippingStrategies.errors.updateAddressError;\n    }\n\n    getSelectOptionError(methodId?: string): Error | undefined {\n        if (methodId && this._shippingStrategies.errors.selectOptionMethodId !== methodId) {\n            return;\n        }\n\n        return this._shippingStrategies.errors.selectOptionError;\n    }\n\n    getInitializeError(methodId?: string): Error | undefined {\n        if (methodId && this._shippingStrategies.errors.initializeMethodId !== methodId) {\n            return;\n        }\n\n        return this._shippingStrategies.errors.initializeError;\n    }\n\n    isUpdatingAddress(methodId?: string): boolean {\n        if (methodId && this._shippingStrategies.statuses.updateAddressMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._shippingStrategies.statuses.isUpdatingAddress;\n    }\n\n    isSelectingOption(methodId?: string): boolean {\n        if (methodId && this._shippingStrategies.statuses.selectOptionMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._shippingStrategies.statuses.isSelectingOption;\n    }\n\n    isInitializing(methodId?: string): boolean {\n        if (methodId && this._shippingStrategies.statuses.initializeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._shippingStrategies.statuses.isInitializing;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { ShippingStrategyAction, ShippingStrategyActionType } from './shipping-strategy-actions';\nimport ShippingStrategyState, { DEFAULT_STATE, ShippingStrategyErrorsState, ShippingStrategyStatusesState } from './shipping-strategy-state';\n\nexport default function shippingStrategyReducer(\n    state: ShippingStrategyState = DEFAULT_STATE,\n    action: ShippingStrategyAction\n): ShippingStrategyState {\n    const reducer = combineReducers<ShippingStrategyState, ShippingStrategyAction>({\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction errorsReducer(\n    errors: ShippingStrategyErrorsState = DEFAULT_STATE.errors,\n    action: ShippingStrategyAction\n): ShippingStrategyErrorsState {\n    switch (action.type) {\n    case ShippingStrategyActionType.InitializeRequested:\n    case ShippingStrategyActionType.InitializeSucceeded:\n        return {\n            ...errors,\n            initializeError: undefined,\n            initializeMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.InitializeFailed:\n        return {\n            ...errors,\n            initializeError: action.payload,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.DeinitializeRequested:\n    case ShippingStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...errors,\n            deinitializeError: undefined,\n            deinitializeMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.DeinitializeFailed:\n        return {\n            ...errors,\n            deinitializeError: action.payload,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.UpdateAddressRequested:\n    case ShippingStrategyActionType.UpdateAddressSucceeded:\n        return {\n            ...errors,\n            updateAddressError: undefined,\n            updateAddressMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.UpdateAddressFailed:\n        return {\n            ...errors,\n            updateAddressError: action.payload,\n            updateAddressMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.SelectOptionRequested:\n    case ShippingStrategyActionType.SelectOptionSucceeded:\n        return {\n            ...errors,\n            selectOptionError: undefined,\n            selectOptionMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.SelectOptionFailed:\n        return {\n            ...errors,\n            selectOptionError: action.payload,\n            selectOptionMethodId: action.meta && action.meta.methodId,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: ShippingStrategyStatusesState = DEFAULT_STATE.statuses,\n    action: ShippingStrategyAction\n): ShippingStrategyStatusesState {\n    switch (action.type) {\n    case ShippingStrategyActionType.InitializeRequested:\n        return {\n            ...statuses,\n            isInitializing: true,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.InitializeFailed:\n    case ShippingStrategyActionType.InitializeSucceeded:\n        return {\n            ...statuses,\n            isInitializing: false,\n            initializeMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.DeinitializeRequested:\n        return {\n            ...statuses,\n            isDeinitializing: true,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.DeinitializeFailed:\n    case ShippingStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...statuses,\n            isDeinitializing: false,\n            deinitializeMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.UpdateAddressRequested:\n        return {\n            ...statuses,\n            isUpdatingAddress: true,\n            updateAddressMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.UpdateAddressFailed:\n    case ShippingStrategyActionType.UpdateAddressSucceeded:\n        return {\n            ...statuses,\n            isUpdatingAddress: false,\n            updateAddressMethodId: undefined,\n        };\n\n    case ShippingStrategyActionType.SelectOptionRequested:\n        return {\n            ...statuses,\n            isSelectingOption: true,\n            selectOptionMethodId: action.meta && action.meta.methodId,\n        };\n\n    case ShippingStrategyActionType.SelectOptionFailed:\n    case ShippingStrategyActionType.SelectOptionSucceeded:\n        return {\n            ...statuses,\n            isSelectingOption: false,\n            selectOptionMethodId: undefined,\n        };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-reducer.ts","export default interface ShippingStrategyState {\n    errors: ShippingStrategyErrorsState;\n    statuses: ShippingStrategyStatusesState;\n}\n\nexport interface ShippingStrategyErrorsState {\n    deinitializeError?: Error;\n    deinitializeMethodId?: string;\n    initializeError?: Error;\n    initializeMethodId?: string;\n    updateAddressError?: Error;\n    updateAddressMethodId?: string;\n    selectOptionError?: Error;\n    selectOptionMethodId?: string;\n}\n\nexport interface ShippingStrategyStatusesState {\n    deinitializeMethodId?: string;\n    initializeMethodId?: string;\n    isDeinitializing?: boolean;\n    isInitializing?: boolean;\n    isUpdatingAddress?: boolean;\n    isSelectingOption?: boolean;\n    updateAddressMethodId?: string;\n    selectOptionMethodId?: string;\n}\n\nexport const DEFAULT_STATE: ShippingStrategyState = {\n    errors: {},\n    statuses: {},\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/shipping-strategy-state.ts","import Consignment from './consignment';\nimport { InternalShippingOptionList } from './internal-shipping-option';\nimport mapToInternalShippingOption from './map-to-internal-shipping-option';\n\nexport default function mapToInternalShippingOptions(consignments: Consignment[]): InternalShippingOptionList {\n    return consignments.reduce((result, consignment) => {\n        let shippingOptions;\n\n        if (consignment.availableShippingOptions && consignment.availableShippingOptions.length) {\n            shippingOptions = consignment.availableShippingOptions;\n        } else if (consignment.selectedShippingOption) {\n            shippingOptions = [consignment.selectedShippingOption];\n        }\n\n        return {\n            ...result,\n            [consignment.id]: (shippingOptions || []).map(option => {\n                const selectedOptionId = consignment.selectedShippingOption && consignment.selectedShippingOption.id;\n\n                return mapToInternalShippingOption(\n                    option,\n                    option.id === selectedOptionId\n                );\n            }),\n        };\n    }, {});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shipping/map-to-internal-shipping-options.ts","export { default as AfterpayPaymentStrategy } from './afterpay-payment-strategy';\nexport { default as AmazonPayPaymentStrategy, AmazonPayPaymentInitializeOptions } from './amazon-pay-payment-strategy';\nexport { default as CreditCardPaymentStrategy } from './credit-card-payment-strategy';\nexport { default as KlarnaPaymentStrategy, KlarnaPaymentInitializeOptions } from './klarna-payment-strategy';\nexport { default as LegacyPaymentStrategy } from './legacy-payment-strategy';\nexport { default as NoPaymentDataRequiredPaymentStrategy } from './no-payment-data-required-strategy';\nexport { default as OfflinePaymentStrategy } from './offline-payment-strategy';\nexport { default as OffsitePaymentStrategy } from './offsite-payment-strategy';\nexport { default as PaymentStrategy } from './payment-strategy';\nexport { default as PaypalExpressPaymentStrategy } from './paypal-express-payment-strategy';\nexport { default as PaypalProPaymentStrategy } from './paypal-pro-payment-strategy';\nexport { default as SagePayPaymentStrategy } from './sage-pay-payment-strategy';\nexport { default as WepayPaymentStrategy } from './wepay-payment-strategy';\n\nexport { BraintreeCreditCardPaymentStrategy, BraintreePaymentInitializeOptions, BraintreePaypalPaymentStrategy, BraintreeVisaCheckoutPaymentStrategy, BraintreeVisaCheckoutPaymentInitializeOptions } from './braintree';\nexport { SquarePaymentStrategy, SquarePaymentInitializeOptions } from './square';\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/index.ts","import { CheckoutStore, CheckoutValidator, InternalCheckoutSelectors } from '../../checkout';\nimport { MissingDataError, MissingDataErrorType, NotInitializedError, NotInitializedErrorType } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport { AfterpayScriptLoader, AfterpaySdk } from '../../remote-checkout/methods/afterpay';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport PaymentMethod from '../payment-method';\nimport PaymentMethodActionCreator from '../payment-method-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class AfterpayPaymentStrategy extends PaymentStrategy {\n    private _afterpaySdk?: AfterpaySdk;\n\n    constructor(\n        store: CheckoutStore,\n        private _checkoutValidator: CheckoutValidator,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _afterpayScriptLoader: AfterpayScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        const state = this._store.getState();\n        const paymentMethod = state.paymentMethods.getPaymentMethod(options.methodId, options.gatewayId);\n        const config = state.config.getStoreConfig();\n        const storeCountryName = config ? config.storeProfile.storeCountry : '';\n\n        if (!paymentMethod) {\n            throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n        }\n\n        return this._afterpayScriptLoader.load(paymentMethod, this._mapCountryToISO2(storeCountryName))\n            .then(afterpaySdk => {\n                this._afterpaySdk = afterpaySdk;\n            })\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        if (this._afterpaySdk) {\n            this._afterpaySdk = undefined;\n        }\n\n        return super.deinitialize(options);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const paymentId = payload.payment && payload.payment.gatewayId;\n\n        if (!paymentId) {\n            throw new PaymentArgumentInvalidError(['payment.gatewayId']);\n        }\n\n        const useStoreCredit = !!payload.useStoreCredit;\n        const customerMessage = payload.customerMessage ? payload.customerMessage : '';\n        const state = this._store.getState();\n        const config = state.config.getStoreConfig();\n        const storeCountryName = config ? config.storeProfile.storeCountry : '';\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.initializePayment(paymentId, { useStoreCredit, customerMessage })\n        )\n            .then(state => this._checkoutValidator.validate(state.checkout.getCheckout(), options))\n            .then(() => this._store.dispatch(\n                this._paymentMethodActionCreator.loadPaymentMethod(paymentId, options)\n            ))\n            .then(state => this._displayModal(storeCountryName, state.paymentMethods.getPaymentMethod(paymentId)))\n            // Afterpay will handle the rest of the flow so return a promise that doesn't really resolve\n            .then(() => new Promise<never>(() => {}));\n    }\n\n    finalize(options: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(this._remoteCheckoutActionCreator.loadSettings(options.methodId))\n            .then(state => {\n                const payment = state.payment.getPaymentId();\n                const config = state.config.getContextConfig();\n                const afterpay = state.remoteCheckout.getCheckout('afterpay');\n\n                if (!payment) {\n                    throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n                }\n\n                if (!config || !config.payment.token) {\n                    throw new MissingDataError(MissingDataErrorType.MissingCheckoutConfig);\n                }\n\n                if (!afterpay || !afterpay.settings) {\n                    throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n                }\n\n                const orderPayload = {\n                    useStoreCredit: afterpay.settings.useStoreCredit,\n                    customerMessage: afterpay.settings.customerMessage,\n                };\n\n                const paymentPayload = {\n                    methodId: payment.providerId,\n                    paymentData: { nonce: config.payment.token },\n                };\n\n                return this._store.dispatch(this._orderActionCreator.submitOrder(orderPayload, options))\n                    .then(() => this._store.dispatch(this._paymentActionCreator.submitPayment(paymentPayload)));\n            });\n    }\n\n    private _displayModal(countryName: string, paymentMethod?: PaymentMethod): void {\n        if (!this._afterpaySdk || !paymentMethod || !paymentMethod.clientToken) {\n            throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n        }\n\n        this._afterpaySdk.initialize({ countryCode: this._mapCountryToISO2(countryName)});\n        this._afterpaySdk.display({ token: paymentMethod.clientToken });\n    }\n\n    private _mapCountryToISO2(countryName: string): string {\n        switch (countryName) {\n        case 'Australia':\n            return 'AU';\n\n        case 'New Zealand':\n            return 'NZ';\n\n        case 'United States':\n            return 'US';\n\n        default:\n            return 'AU';\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/afterpay-payment-strategy.ts","import { noop } from 'lodash';\n\nimport { isAddressEqual, mapFromInternalAddress, mapToInternalAddress } from '../../address';\nimport { BillingAddressActionCreator } from '../../billing';\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, MissingDataErrorType, NotInitializedError, NotInitializedErrorType, RequestError, StandardError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport { RemoteCheckoutSynchronizationError } from '../../remote-checkout/errors';\nimport {\n    AmazonPayOrderReference,\n    AmazonPayScriptLoader,\n    AmazonPayWallet,\n    AmazonPayWalletOptions,\n    AmazonPayWidgetError,\n    AmazonPayWindow,\n} from '../../remote-checkout/methods/amazon-pay';\nimport PaymentMethod from '../payment-method';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class AmazonPayPaymentStrategy extends PaymentStrategy {\n    private _paymentMethod?: PaymentMethod;\n    private _walletOptions?: AmazonPayPaymentInitializeOptions;\n    private _window: AmazonPayWindow;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _billingAddressActionCreator: BillingAddressActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _scriptLoader: AmazonPayScriptLoader\n    ) {\n        super(store);\n\n        this._window = window;\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        const { amazon: amazonOptions, methodId } = options;\n        const state = this._store.getState();\n        const paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n        if (!amazonOptions) {\n            throw new InvalidArgumentError('Unable to initialize payment because \"options.amazon\" argument is not provided.');\n        }\n\n        if (!paymentMethod) {\n            throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n        }\n\n        this._walletOptions = amazonOptions;\n        this._paymentMethod = paymentMethod;\n\n        return new Promise((resolve, reject) => {\n            const onReady = () => {\n                this._createWallet(amazonOptions)\n                    .then(resolve)\n                    .catch(reject);\n            };\n\n            this._scriptLoader.loadWidget(paymentMethod, onReady)\n                .catch(reject);\n        })\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize(options);\n        }\n\n        this._walletOptions = undefined;\n\n        return super.deinitialize(options);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const referenceId = this._getOrderReferenceId();\n\n        if (!referenceId) {\n            throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n        }\n\n        if (!payload.payment) {\n            throw new InvalidArgumentError('Unable to proceed because \"payload.payment.methodId\" argument is not provided.');\n        }\n\n        const { payment: { paymentData, ...paymentPayload }, useStoreCredit = false } = payload;\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.initializePayment(paymentPayload.methodId, { referenceId, useStoreCredit })\n        )\n            .then(() => this._store.dispatch(\n                this._orderActionCreator.submitOrder({\n                    ...payload,\n                    payment: paymentPayload,\n                }, options)\n            ))\n            .catch(error => {\n                if (error instanceof RequestError && error.body.type === 'provider_widget_error' && this._walletOptions) {\n                    return this._createWallet(this._walletOptions)\n                        .then(() => Promise.reject(error));\n                }\n\n                return Promise.reject(error);\n            });\n    }\n\n    private _getMerchantId(): string | undefined {\n        return this._paymentMethod && this._paymentMethod.config.merchantId;\n    }\n\n    private _getOrderReferenceId(): string | undefined {\n        const state = this._store.getState();\n        const amazon = state.remoteCheckout.getCheckout('amazon');\n\n        return amazon ? amazon.referenceId : undefined;\n    }\n\n    private _createWallet(options: AmazonPayPaymentInitializeOptions): Promise<AmazonPayWallet> {\n        return new Promise((resolve, reject) => {\n            const { container, onError = noop, onPaymentSelect = noop, onReady = noop } = options;\n            const referenceId = this._getOrderReferenceId();\n            const merchantId = this._getMerchantId();\n\n            if (!document.getElementById(container)) {\n                return reject(new InvalidArgumentError('Unable to create AmazonPay Wallet widget without valid container ID.'));\n            }\n\n            if (!this._window.OffAmazonPayments) {\n                return reject(new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized));\n            }\n\n            if (!merchantId) {\n                return reject(new MissingDataError(MissingDataErrorType.MissingPaymentMethod));\n            }\n\n            const walletOptions: AmazonPayWalletOptions = {\n                design: { designMode: 'responsive' },\n                scope: 'payments:billing_address payments:shipping_address payments:widget profile',\n                sellerId: merchantId,\n                onError: error => {\n                    reject(error);\n                    onError(error);\n                },\n                onPaymentSelect: orderReference => {\n                    this._synchronizeBillingAddress()\n                        .then(() => onPaymentSelect(orderReference))\n                        .catch(onError);\n                },\n                onReady: orderReference => {\n                    resolve();\n                    onReady(orderReference);\n                },\n            };\n\n            if (referenceId) {\n                walletOptions.amazonOrderReferenceId = referenceId;\n            } else {\n                walletOptions.onOrderReferenceCreate = orderReference => {\n                    if (!this._paymentMethod) {\n                        throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n                    }\n\n                    this._store.dispatch(\n                        this._remoteCheckoutActionCreator.updateCheckout(this._paymentMethod.id as 'amazon', {\n                            referenceId: orderReference.getAmazonOrderReferenceId(),\n                        })\n                    );\n                };\n            }\n\n            const widget = new this._window.OffAmazonPayments.Widgets.Wallet(walletOptions);\n\n            widget.bind(container);\n\n            return widget;\n        });\n    }\n\n    private _synchronizeBillingAddress(): Promise<InternalCheckoutSelectors> {\n        const referenceId = this._getOrderReferenceId();\n        const methodId = this._paymentMethod && this._paymentMethod.id;\n\n        if (!methodId || !referenceId) {\n            throw new RemoteCheckoutSynchronizationError();\n        }\n\n        return this._store.dispatch(\n            this._remoteCheckoutActionCreator.initializeBilling(methodId, { referenceId })\n        )\n            .then(state => {\n                const amazon = state.remoteCheckout.getCheckout('amazon');\n                const remoteAddress = amazon && amazon.billing && amazon.billing.address;\n                const billingAddress = state.billingAddress.getBillingAddress();\n                const internalBillingAddress = billingAddress && mapToInternalAddress(billingAddress);\n\n                if (remoteAddress === false) {\n                    throw new RemoteCheckoutSynchronizationError();\n                }\n\n                if (!remoteAddress || isAddressEqual(remoteAddress, internalBillingAddress || {})) {\n                    return this._store.getState();\n                }\n\n                return this._store.dispatch(\n                    this._billingAddressActionCreator.updateAddress(mapFromInternalAddress(remoteAddress))\n                );\n            });\n    }\n}\n\n/**\n * A set of options that are required to initialize the Amazon Pay payment\n * method.\n *\n * When AmazonPay is initialized, a widget will be inserted into the DOM. The\n * widget has a list of payment options for the customer to choose from.\n */\nexport interface AmazonPayPaymentInitializeOptions {\n    /**\n     * The ID of a container which the payment widget should insert into.\n     */\n    container: string;\n\n    /**\n     * A callback that gets called if unable to initialize the widget or select\n     * one of the payment options.\n     *\n     * @param error - The error object describing the failure.\n     */\n    onError?(error: AmazonPayWidgetError | StandardError): void;\n\n    /**\n     * A callback that gets called when the customer selects one of the payment\n     * options provided by the widget.\n     *\n     * @param reference - The order reference provided by Amazon.\n     */\n    onPaymentSelect?(reference: AmazonPayOrderReference): void;\n\n    /**\n     * A callback that gets called when the widget is loaded and ready to be\n     * interacted with.\n     *\n     * @param reference - The order reference provided by Amazon.\n     */\n    onReady?(reference: AmazonPayOrderReference): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/amazon-pay-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { InvalidArgumentError, MissingDataError, MissingDataErrorType, NotInitializedError, NotInitializedErrorType } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { RemoteCheckoutActionCreator } from '../../remote-checkout';\nimport { KlarnaCredit, KlarnaLoadResponse, KlarnaScriptLoader } from '../../remote-checkout/methods/klarna';\nimport PaymentMethodActionCreator from '../payment-method-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class KlarnaPaymentStrategy extends PaymentStrategy {\n    private _klarnaCredit?: KlarnaCredit;\n    private _unsubscribe?: (() => void);\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentMethodActionCreator: PaymentMethodActionCreator,\n        private _remoteCheckoutActionCreator: RemoteCheckoutActionCreator,\n        private _klarnaScriptLoader: KlarnaScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        return this._klarnaScriptLoader.load()\n            .then(klarnaCredit => { this._klarnaCredit = klarnaCredit; })\n            .then(() => {\n                this._unsubscribe = this._store.subscribe(\n                    () => this._loadWidget(options),\n                    state => {\n                        const checkout = state.checkout.getCheckout();\n\n                        return checkout && checkout.grandTotal;\n                    }\n                );\n\n                return this._loadWidget(options);\n            })\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (this._unsubscribe) {\n            this._unsubscribe();\n        }\n\n        return super.deinitialize(options);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (!payload.payment) {\n            throw new InvalidArgumentError('Unable to proceed because \"payload.payment\" argument is not provided.');\n        }\n\n        const { payment: { paymentData, ...paymentPayload } } = payload;\n\n        return this._authorize()\n            .then(({ authorization_token: authorizationToken }) => this._store.dispatch(\n                this._remoteCheckoutActionCreator.initializePayment(paymentPayload.methodId, { authorizationToken })\n            ))\n            .then(() => this._store.dispatch(\n                this._orderActionCreator.submitOrder({\n                    ...payload,\n                    payment: paymentPayload,\n                    // Note: API currently doesn't support using Store Credit with Klarna.\n                    // To prevent deducting customer's store credit, set it as false.\n                    useStoreCredit: false,\n                }, options)\n            ));\n    }\n\n    private _loadWidget(options: PaymentInitializeOptions): Promise<KlarnaLoadResponse> {\n        if (!options.klarna) {\n            throw new InvalidArgumentError('Unable to load widget because \"options.klarna\" argument is not provided.');\n        }\n\n        const { methodId, klarna: { container, onLoad } } = options;\n\n        return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(methodId))\n            .then(state => new Promise<KlarnaLoadResponse>((resolve, reject) => {\n                const paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n                if (!paymentMethod) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                if (!this._klarnaCredit || !paymentMethod.clientToken) {\n                    throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n                }\n\n                this._klarnaCredit.init({ client_token: paymentMethod.clientToken });\n\n                this._klarnaCredit.load({ container }, response => {\n                    if (onLoad) {\n                        onLoad(response);\n                    }\n\n                    if (!response.show_form) {\n                        reject(response);\n                    } else {\n                        resolve(response);\n                    }\n                });\n            }));\n    }\n\n    private _authorize(): Promise<any> {\n        return new Promise((resolve, reject) => {\n            if (!this._klarnaCredit) {\n                throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n            }\n\n            this._klarnaCredit.authorize({}, res => {\n                if (!res.approved) {\n                    reject(res);\n                } else {\n                    resolve(res);\n                }\n            });\n        });\n    }\n}\n\n/**\n * A set of options that are required to initialize the Klarna payment method.\n *\n * When Klarna is initialized, a widget will be inserted into the DOM. The\n * widget has a list of payment options for the customer to choose from.\n */\nexport interface KlarnaPaymentInitializeOptions {\n    /**\n     * The ID of a container which the payment widget should insert into.\n     */\n    container: string;\n\n    /**\n     * A callback that gets called when the widget is loaded and ready to be\n     * interacted with.\n     *\n     * @param response - The result of the initialization. It indicates whether\n     * or not the widget is loaded successfully.\n     */\n    onLoad?(response: KlarnaLoadResponse): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/klarna-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class LegacyPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(this._orderActionCreator.submitOrder(payload, options));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/legacy-payment-strategy.ts","import { omit } from 'lodash';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class NoPaymentDataRequiredPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(orderRequest: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        return this._store.dispatch(\n            this._orderActionCreator.submitOrder(omit(orderRequest, 'payment'), options)\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/no-payment-data-required-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentRequestOptions } from '../payment-request-options';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class OfflinePaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const action = this._orderActionCreator.submitOrder({\n            ...payload,\n            payment: payload.payment ? { methodId: payload.payment.methodId } : undefined,\n        }, options);\n\n        return this._store.dispatch(action);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/offline-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentRequestOptions } from '../payment-request-options';\nimport * as paymentStatusTypes from '../payment-status-types';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class OffsitePaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = payload;\n        const paymentData = payment && payment.paymentData;\n        const orderPayload = payment && payment.gatewayId === 'adyen' ? payload : order;\n\n        if (!payment || !paymentData) {\n            throw new PaymentArgumentInvalidError(['payment.paymentData']);\n        }\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(orderPayload, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.initializeOffsitePayment({ ...payment, paymentData }))\n            );\n    }\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const order = state.order.getOrder();\n        const status = state.payment.getPaymentStatus();\n\n        if (order && (status === paymentStatusTypes.ACKNOWLEDGE || status === paymentStatusTypes.FINALIZE)) {\n            return this._store.dispatch(this._orderActionCreator.finalizeOrder(order.orderId, options));\n        }\n\n        return super.finalize();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/offsite-payment-strategy.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { MissingDataError, MissingDataErrorType } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport PaymentMethod from '../payment-method';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\nimport * as paymentStatusTypes from '../payment-status-types';\n\nimport PaymentStrategy from './payment-strategy';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class PaypalExpressPaymentStrategy extends PaymentStrategy {\n    private _paypalSdk: any;\n    private _paymentMethod?: PaymentMethod;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _scriptLoader: ScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n\n        this._paymentMethod = state.paymentMethods.getPaymentMethod(options.methodId);\n\n        if (!this._isInContextEnabled() || this._isInitialized) {\n            return super.initialize(options);\n        }\n\n        return this._scriptLoader.loadScript('//www.paypalobjects.com/api/checkout.min.js')\n            .then(() => {\n                this._paypalSdk = (window as any).paypal;\n\n                if (!this._paymentMethod || !this._paymentMethod.config.merchantId) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                this._paypalSdk.checkout.setup(this._paymentMethod.config.merchantId, {\n                    button: 'paypal-button',\n                    environment: this._paymentMethod.config.testMode ? 'sandbox' : 'production',\n                });\n            })\n            .then(() => super.initialize(options));\n    }\n\n    deinitialize(): Promise<InternalCheckoutSelectors> {\n        if (!this._isInitialized) {\n            return super.deinitialize();\n        }\n\n        if (this._isInContextEnabled() && this._paypalSdk) {\n            this._paypalSdk.checkout.closeFlow();\n            this._paypalSdk = null;\n        }\n\n        return super.deinitialize();\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isAcknowledgedOrFinalized()) {\n            return this._store.dispatch(this._orderActionCreator.submitOrder(payload, options));\n        }\n\n        if (!this._isInContextEnabled()) {\n            return this._store.dispatch(this._orderActionCreator.submitOrder(payload, options))\n                .then(state => {\n                    const redirectUrl = state.payment.getPaymentRedirectUrl();\n\n                    if (redirectUrl) {\n                        window.location.assign(redirectUrl);\n                    }\n\n                    // We need to hold execution so the consumer does not redirect us somewhere else\n                    return new Promise<never>(() => {});\n                });\n        }\n\n        this._paypalSdk.checkout.initXO();\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(payload, options))\n            .then(state => {\n                const redirectUrl = state.payment.getPaymentRedirectUrl();\n\n                if (redirectUrl) {\n                    this._paypalSdk.checkout.startFlow(redirectUrl);\n                }\n\n                // We need to hold execution so the consumer does not redirect us somewhere else\n                return new Promise<never>(() => {});\n            })\n            .catch(error => {\n                this._paypalSdk.checkout.closeFlow();\n\n                return Promise.reject(error);\n            });\n    }\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const order = state.order.getOrder();\n\n        if (order && this._isAcknowledgedOrFinalized()) {\n            return this._store.dispatch(this._orderActionCreator.finalizeOrder(order.orderId, options));\n        }\n\n        return super.finalize();\n    }\n\n    private _isAcknowledgedOrFinalized(): boolean {\n        const state = this._store.getState();\n\n        return state.payment.getPaymentStatus() === paymentStatusTypes.ACKNOWLEDGE\n            || state.payment.getPaymentStatus() === paymentStatusTypes.FINALIZE;\n    }\n\n    private _isInContextEnabled(): boolean {\n        return !!(this._paymentMethod && this._paymentMethod.config.merchantId);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/paypal-express-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentRequestOptions } from '../payment-request-options';\nimport * as paymentStatusTypes from '../payment-status-types';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class PaypalProPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        if (this._isPaymentAcknowledged()) {\n            return this._store.dispatch(\n                this._orderActionCreator.submitOrder({\n                    ...payload,\n                    payment: payload.payment ? { methodId: payload.payment.methodId } : undefined,\n                }, options)\n            );\n        }\n\n        const { payment, ...order } = payload;\n        const paymentData = payment && payment.paymentData;\n\n        if (!payment || !paymentData) {\n            throw new PaymentArgumentInvalidError(['payment.paymentData']);\n        }\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment({ ...payment, paymentData }))\n            );\n    }\n\n    private _isPaymentAcknowledged(): boolean {\n        const state = this._store.getState();\n\n        return state.payment.getPaymentStatus() === paymentStatusTypes.ACKNOWLEDGE;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/paypal-pro-payment-strategy.ts","import { some } from 'lodash';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { RequestError } from '../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { PaymentArgumentInvalidError } from '../errors';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentRequestOptions } from '../payment-request-options';\nimport * as paymentStatusTypes from '../payment-status-types';\n\nimport PaymentStrategy from './payment-strategy';\n\nexport default class SagePayPaymentStrategy extends PaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _formPoster: any\n    ) {\n        super(store);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = payload;\n        const paymentData = payment && payment.paymentData;\n\n        if (!payment || !paymentData) {\n            throw new PaymentArgumentInvalidError(['payment.paymentData']);\n        }\n\n        return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n            .then(() =>\n                this._store.dispatch(this._paymentActionCreator.submitPayment({ ...payment, paymentData }))\n            )\n            .catch(error => {\n                if (!(error instanceof RequestError) || !some(error.body.errors, { code: 'three_d_secure_required' })) {\n                    return Promise.reject(error);\n                }\n\n                return new Promise(() => {\n                    this._formPoster.postForm(error.body.three_ds_result.acs_url, {\n                        PaReq: error.body.three_ds_result.payer_auth_request,\n                        TermUrl: error.body.three_ds_result.callback_url,\n                        MD: error.body.three_ds_result.merchant_data,\n                    });\n                });\n            });\n    }\n\n    finalize(options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const state = this._store.getState();\n        const order = state.order.getOrder();\n\n        if (order && state.payment.getPaymentStatus() === paymentStatusTypes.FINALIZE) {\n            return this._store.dispatch(this._orderActionCreator.finalizeOrder(order.orderId, options));\n        }\n\n        return super.finalize();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/sage-pay-payment-strategy.ts","import { merge } from 'lodash';\n\nimport { CheckoutStore, InternalCheckoutSelectors } from '../../checkout';\nimport { OrderActionCreator, OrderRequestBody } from '../../order';\nimport { WepayRiskClient } from '../../remote-checkout/methods/wepay';\nimport PaymentActionCreator from '../payment-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../payment-request-options';\n\nimport CreditCardPaymentStrategy from './credit-card-payment-strategy';\n\nexport default class WepayPaymentStrategy extends CreditCardPaymentStrategy {\n    constructor(\n        store: CheckoutStore,\n        orderActionCreator: OrderActionCreator,\n        paymentActionCreator: PaymentActionCreator,\n        private _wepayRiskClient: WepayRiskClient\n    ) {\n        super(store, orderActionCreator, paymentActionCreator);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        this._wepayRiskClient.initialize();\n\n        return super.initialize(options);\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const token = this._wepayRiskClient.getRiskToken();\n        const payloadWithToken = merge({}, payload, {\n            payment: {\n                paymentData: {\n                    extraData: {\n                        riskToken: token,\n                    },\n                },\n            },\n        });\n\n        return super.execute(payloadWithToken, options);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/wepay-payment-strategy.ts","import { CheckoutStore, InternalCheckoutSelectors } from '../../../checkout';\nimport {\n    InvalidArgumentError,\n    NotInitializedError,\n    NotInitializedErrorType,\n    StandardError,\n    TimeoutError,\n    UnsupportedBrowserError,\n} from '../../../common/error/errors';\nimport { OrderActionCreator, OrderRequestBody } from '../../../order';\nimport { NonceInstrument } from '../../payment';\nimport PaymentActionCreator from '../../payment-action-creator';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from '../../payment-request-options';\nimport PaymentStrategy from '../payment-strategy';\n\nimport SquarePaymentForm, { SquareFormElement, SquareFormOptions } from './square-form';\nimport SquareScriptLoader from './square-script-loader';\n\nexport default class SquarePaymentStrategy extends PaymentStrategy {\n    private _paymentForm?: SquarePaymentForm;\n    private _deferredRequestNonce?: DeferredPromise;\n\n    constructor(\n        store: CheckoutStore,\n        private _orderActionCreator: OrderActionCreator,\n        private _paymentActionCreator: PaymentActionCreator,\n        private _scriptLoader: SquareScriptLoader\n    ) {\n        super(store);\n    }\n\n    initialize(options: PaymentInitializeOptions): Promise<InternalCheckoutSelectors> {\n        return this._scriptLoader.load()\n            .then(createSquareForm =>\n                new Promise((resolve, reject) => {\n                    this._paymentForm = createSquareForm(\n                        this._getFormOptions(options, { resolve, reject })\n                    );\n\n                    this._paymentForm.build();\n                }))\n            .then(() => super.initialize(options));\n    }\n\n    execute(payload: OrderRequestBody, options?: PaymentRequestOptions): Promise<InternalCheckoutSelectors> {\n        const { payment, ...order } = payload;\n\n        if (!payment || !payment.methodId) {\n            throw new InvalidArgumentError('Unable to submit payment because \"payload.payment.methodId\" argument is not provided.');\n        }\n\n        const paymentName = payment.methodId;\n\n        return new Promise<NonceInstrument>((resolve, reject) => {\n            if (!this._paymentForm) {\n                throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n            }\n\n            if (this._deferredRequestNonce) {\n                this._deferredRequestNonce.reject(new TimeoutError());\n            }\n\n            this._deferredRequestNonce = { resolve, reject };\n            this._paymentForm.requestCardNonce();\n        })\n        .then(paymentData => {\n            const paymentPayload = {\n                methodId: paymentName,\n                paymentData,\n            };\n\n            return this._store.dispatch(this._orderActionCreator.submitOrder(order, options))\n                .then(() =>\n                    this._store.dispatch(this._paymentActionCreator.submitPayment(paymentPayload))\n                );\n        });\n    }\n\n    private _getFormOptions(options: PaymentInitializeOptions, deferred: DeferredPromise): SquareFormOptions {\n        const { square: squareOptions, methodId } = options;\n        const state = this._store.getState();\n        const paymentMethod = state.paymentMethods.getPaymentMethod(methodId);\n\n        if (!squareOptions || !paymentMethod) {\n            throw new InvalidArgumentError('Unable to proceed because \"options.square\" argument is not provided.');\n        }\n\n        return {\n            ...squareOptions,\n            ...paymentMethod.initializationData,\n            callbacks: {\n                paymentFormLoaded: () => {\n                    deferred.resolve();\n\n                    const state = this._store.getState();\n                    const billingAddress = state.billingAddress.getBillingAddress();\n\n                    if (!this._paymentForm) {\n                        throw new NotInitializedError(NotInitializedErrorType.PaymentNotInitialized);\n                    }\n\n                    if (billingAddress && billingAddress.postalCode) {\n                        this._paymentForm.setPostalCode(billingAddress.postalCode);\n                    }\n                },\n                unsupportedBrowserDetected: () => {\n                    deferred.reject(new UnsupportedBrowserError());\n                },\n                cardNonceResponseReceived: (errors, nonce) => {\n                    this._cardNonceResponseReceived(errors, nonce);\n                },\n            },\n        };\n    }\n\n    private _cardNonceResponseReceived(errors: any, nonce: string): void {\n        if (!this._deferredRequestNonce) {\n            throw new StandardError();\n        }\n\n        if (errors) {\n            this._deferredRequestNonce.reject(errors);\n        } else {\n            this._deferredRequestNonce.resolve({ nonce });\n        }\n    }\n}\n\nexport interface DeferredPromise {\n    resolve(resolution?: NonceInstrument): void;\n    reject(reason?: any): void;\n}\n\n/**\n * A set of options that are required to initialize the Square payment method.\n *\n * Once Square payment is initialized, credit card form fields, provided by the\n * payment provider as iframes, will be inserted into the current page. These\n * options provide a location and styling for each of the form fields.\n */\nexport interface SquarePaymentInitializeOptions {\n    /**\n     * The location to insert the credit card number form field.\n     */\n    cardNumber: SquareFormElement;\n\n    /**\n     * The location to insert the CVV form field.\n     */\n    cvv: SquareFormElement;\n\n    /**\n     * The location to insert the expiration date form field.\n     */\n    expirationDate: SquareFormElement;\n\n    /**\n     * The location to insert the postal code form field.\n     */\n    postalCode: SquareFormElement;\n\n    /**\n     * The CSS class to apply to all form fields.\n     */\n    inputClass?: string;\n\n    /**\n     * The set of CSS styles to apply to all form fields.\n     */\n    inputStyles?: Array<{ [key: string]: string }>;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/square/square-payment-strategy.ts","import { ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { SquareFormFactory, SquareFormOptions } from './square-form';\nimport SquareWindow from './square-window';\n\nexport default class SquareScriptLoader {\n    constructor(\n        private _scriptLoader: ScriptLoader\n    ) {}\n\n    load(): Promise<SquareFormFactory> {\n        const scriptURI = '//js.squareup.com/v2/paymentform';\n\n        return this._scriptLoader.loadScript(scriptURI)\n            .then(() => (options: SquareFormOptions) =>\n                new (window as SquareWindow).SqPaymentForm(options)\n            );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/strategies/square/square-script-loader.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport { mergeOrPush } from '../common/utility';\n\nimport PaymentMethod from './payment-method';\nimport * as actionTypes from './payment-method-action-types';\nimport PaymentMethodMeta from './payment-method-meta';\nimport PaymentMethodState, { PaymentMethodErrorsState, PaymentMethodStatusesState } from './payment-method-state';\n\nconst DEFAULT_STATE: PaymentMethodState = {\n    errors: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function paymentMethodReducer(state: PaymentMethodState = DEFAULT_STATE, action: Action): PaymentMethodState {\n    const reducer = combineReducers<PaymentMethodState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        meta: metaReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: PaymentMethod[] | undefined, action: Action): PaymentMethod[] | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_PAYMENT_METHOD_SUCCEEDED:\n        return mergeOrPush(data || [], action.payload.paymentMethod, {\n            id: action.payload.paymentMethod.id,\n            gateway: action.payload.paymentMethod.gateway,\n        } as any);\n\n    case actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED:\n        return action.payload.paymentMethods || [];\n\n    default:\n        return data;\n    }\n}\n\nfunction metaReducer(meta: PaymentMethodMeta | undefined, action: Action): PaymentMethodMeta | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED:\n        return action.meta ? { ...meta, ...action.meta } : meta;\n\n    default:\n        return meta;\n    }\n}\n\nfunction errorsReducer(errors: PaymentMethodErrorsState = DEFAULT_STATE.errors, action: Action): PaymentMethodErrorsState {\n    switch (action.type) {\n    case actionTypes.LOAD_PAYMENT_METHODS_REQUESTED:\n    case actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case actionTypes.LOAD_PAYMENT_METHODS_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    case actionTypes.LOAD_PAYMENT_METHOD_REQUESTED:\n    case actionTypes.LOAD_PAYMENT_METHOD_SUCCEEDED:\n        return {\n            ...errors,\n            loadMethodId: undefined,\n            loadMethodError: undefined,\n        };\n\n    case actionTypes.LOAD_PAYMENT_METHOD_FAILED:\n        return {\n            ...errors,\n            loadMethodId: action.meta.methodId,\n            loadMethodError: action.payload,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: PaymentMethodStatusesState = DEFAULT_STATE.statuses, action: Action): PaymentMethodStatusesState {\n    switch (action.type) {\n    case actionTypes.LOAD_PAYMENT_METHODS_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case actionTypes.LOAD_PAYMENT_METHODS_SUCCEEDED:\n    case actionTypes.LOAD_PAYMENT_METHODS_FAILED:\n        return { ...statuses, isLoading: false };\n\n    case actionTypes.LOAD_PAYMENT_METHOD_REQUESTED:\n        return {\n            ...statuses,\n            isLoadingMethod: true,\n            loadMethodId: action.meta.methodId,\n        };\n\n    case actionTypes.LOAD_PAYMENT_METHOD_SUCCEEDED:\n    case actionTypes.LOAD_PAYMENT_METHOD_FAILED:\n        return {\n            ...statuses,\n            isLoadingMethod: false,\n            loadMethodId: undefined,\n        };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport { PaymentMethodsResponseBody, PaymentMethodResponseBody } from './payment-method-responses';\n\nexport default class PaymentMethodRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadPaymentMethods({ timeout }: RequestOptions = {}): Promise<Response<PaymentMethodsResponseBody>> {\n        const url = '/internalapi/v1/checkout/payments';\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    loadPaymentMethod(methodId: string, { timeout }: RequestOptions = {}): Promise<Response<PaymentMethodResponseBody>> {\n        const url = `/internalapi/v1/checkout/payments/${methodId}`;\n\n        return this._requestSender.get(url, { timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-request-sender.ts","import { find } from 'lodash';\n\nimport { selector } from '../common/selector';\n\nimport PaymentMethod from './payment-method';\nimport PaymentMethodMeta from './payment-method-meta';\nimport PaymentMethodState from './payment-method-state';\n\n@selector\nexport default class PaymentMethodSelector {\n    constructor(\n        private _paymentMethods: PaymentMethodState\n    ) {}\n\n    getPaymentMethods(): PaymentMethod[] | undefined {\n        return this._paymentMethods.data;\n    }\n\n    getPaymentMethodsMeta(): PaymentMethodMeta | undefined {\n        return this._paymentMethods.meta;\n    }\n\n    getPaymentMethod(methodId: string, gatewayId?: string): PaymentMethod | undefined {\n        return gatewayId ?\n            find(this._paymentMethods.data, { id: methodId, gateway: gatewayId }) :\n            find(this._paymentMethods.data, { id: methodId });\n    }\n\n    getLoadError(): Error | undefined {\n        return this._paymentMethods.errors && this._paymentMethods.errors.loadError;\n    }\n\n    getLoadMethodError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentMethods.errors.loadMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentMethods.errors.loadMethodError;\n    }\n\n    isLoading(): boolean {\n        return !!this._paymentMethods.statuses.isLoading;\n    }\n\n    isLoadingMethod(methodId?: string): boolean {\n        if (methodId && this._paymentMethods.statuses.loadMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentMethods.statuses.isLoadingMethod;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-method-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { PaymentAction, PaymentActionType } from './payment-actions';\nimport PaymentResponseBody from './payment-response-body';\nimport PaymentState from './payment-state';\n\nexport default function paymentReducer(state: PaymentState = {}, action: PaymentAction): PaymentState {\n    const reducer = combineReducers<PaymentState, PaymentAction>({\n        data: dataReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: PaymentResponseBody | undefined, action: PaymentAction): PaymentResponseBody | undefined {\n    switch (action.type) {\n    case PaymentActionType.SubmitPaymentSucceeded:\n        return action.payload;\n\n    default:\n        return data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-reducer.ts","import { find } from 'lodash';\n\nimport { CheckoutPayment, CheckoutSelector } from '../checkout';\nimport { selector } from '../common/selector';\nimport { GatewayOrderPayment, InternalOrderPayment, OrderSelector } from '../order';\n\nimport PaymentMethod from './payment-method';\nimport { HOSTED } from './payment-method-types';\nimport { ACKNOWLEDGE, FINALIZE } from './payment-status-types';\n\n@selector\nexport default class PaymentSelector {\n    constructor(\n        private _checkout: CheckoutSelector,\n        private _order: OrderSelector\n    ) {}\n\n    getPaymentId(): { providerId: string, gatewayId?: string } | undefined {\n        const internalPayment = this._getInternalPayment();\n\n        if (internalPayment && internalPayment.id) {\n            return {\n                providerId: internalPayment.id,\n                gatewayId: internalPayment.gateway,\n            };\n        }\n\n        const payment = this._getHostedPayment() || this._getGatewayPayment();\n\n        if (payment && payment.providerId) {\n            return {\n                providerId: payment.providerId,\n                gatewayId: payment.gatewayId,\n            };\n        }\n    }\n\n    getPaymentStatus(): string | undefined {\n        const internalPayment = this._getInternalPayment();\n\n        if (internalPayment && internalPayment.status) {\n            return internalPayment.status.replace('PAYMENT_STATUS_', '');\n        }\n\n        const payment = this._getHostedPayment() || this._getGatewayPayment();\n\n        if (payment) {\n            return payment.detail.step;\n        }\n    }\n\n    getPaymentToken(): string | undefined {\n        const meta = this._order.getOrderMeta();\n\n        return meta && meta.token;\n    }\n\n    getPaymentRedirectUrl(): string | undefined {\n        const payment = this._getInternalPayment();\n\n        return payment && payment.redirectUrl;\n    }\n\n    isPaymentDataRequired(useStoreCredit: boolean = false): boolean {\n        const checkout = this._checkout.getCheckout();\n\n        if (!checkout) {\n            return false;\n        }\n\n        const grandTotal = checkout.grandTotal || 0;\n        const storeCredit = checkout.customer.storeCredit || 0;\n\n        return (useStoreCredit ? grandTotal - storeCredit : grandTotal) > 0;\n    }\n\n    isPaymentDataSubmitted(paymentMethod?: PaymentMethod): boolean {\n        if (paymentMethod && paymentMethod.nonce) {\n            return true;\n        }\n\n        return this.getPaymentStatus() === ACKNOWLEDGE || this.getPaymentStatus() === FINALIZE;\n    }\n\n    private _getInternalPayment(): InternalOrderPayment | undefined {\n        const meta = this._order.getOrderMeta();\n\n        return meta && meta.payment;\n    }\n\n    private _getGatewayPayment(): GatewayOrderPayment | undefined {\n        const order = this._order.getOrder();\n\n        return find(order && order.payments, ({ providerId }) =>\n            providerId !== 'giftcertificate' && providerId !== 'storecredit'\n        ) as GatewayOrderPayment;\n    }\n\n    private _getHostedPayment(): CheckoutPayment | undefined {\n        const checkout = this._checkout.getCheckout();\n\n        return find(checkout && checkout.payments, ({ providerType }) =>\n            providerType === HOSTED\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-selector.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { concat } from 'rxjs/observable/concat';\nimport { empty } from 'rxjs/observable/empty';\nimport { from } from 'rxjs/observable/from';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalCheckoutSelectors, ReadableCheckoutStore } from '../checkout';\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\nimport { LoadOrderAction, OrderActionCreator, OrderRequestBody } from '../order';\nimport { OrderFinalizationNotRequiredError } from '../order/errors';\n\nimport Payment from './payment';\nimport { PaymentInitializeOptions, PaymentRequestOptions } from './payment-request-options';\nimport {\n    PaymentStrategyActionType,\n    PaymentStrategyDeinitializeAction,\n    PaymentStrategyExecuteAction,\n    PaymentStrategyFinalizeAction,\n    PaymentStrategyInitializeAction,\n    PaymentStrategyWidgetAction,\n} from './payment-strategy-actions';\nimport PaymentStrategyRegistry from './payment-strategy-registry';\nimport { PaymentStrategy } from './strategies';\n\nexport default class PaymentStrategyActionCreator {\n    constructor(\n        private _strategyRegistry: PaymentStrategyRegistry,\n        private _orderActionCreator: OrderActionCreator\n    ) {}\n\n    execute(payload: OrderRequestBody, options?: RequestOptions): ThunkAction<PaymentStrategyExecuteAction | LoadOrderAction, InternalCheckoutSelectors> {\n        return store => {\n            const executeAction = new Observable((observer: Observer<PaymentStrategyExecuteAction>) => {\n                const state = store.getState();\n                const { payment = {} as Payment, useStoreCredit } = payload;\n                const meta = { methodId: payment.methodId };\n\n                let strategy: PaymentStrategy;\n\n                if (state.payment.isPaymentDataRequired(useStoreCredit)) {\n                    const method = state.paymentMethods.getPaymentMethod(payment.methodId, payment.gatewayId);\n\n                    if (!method) {\n                        throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                    }\n\n                    strategy = this._strategyRegistry.getByMethod(method);\n                } else {\n                    strategy = this._strategyRegistry.get('nopaymentdatarequired');\n                }\n\n                observer.next(createAction(PaymentStrategyActionType.ExecuteRequested, undefined, meta));\n\n                strategy\n                    .execute(payload, { ...options, methodId: payment.methodId, gatewayId: payment.gatewayId })\n                    .then(() => {\n                        observer.next(createAction(PaymentStrategyActionType.ExecuteSucceeded, undefined, meta));\n                        observer.complete();\n                    })\n                    .catch(error => {\n                        observer.error(createErrorAction(PaymentStrategyActionType.ExecuteFailed, error, meta));\n                    });\n            });\n\n            return concat(\n                this._loadOrderIfNeeded(store, options),\n                executeAction\n            );\n        };\n    }\n\n    finalize(options?: RequestOptions): ThunkAction<PaymentStrategyFinalizeAction | LoadOrderAction, InternalCheckoutSelectors> {\n        return store => {\n            const finalizeAction = new Observable((observer: Observer<PaymentStrategyFinalizeAction>) => {\n                const state = store.getState();\n                const order = state.order.getOrder();\n                const payment = state.payment.getPaymentId();\n\n                if (!order) {\n                    throw new MissingDataError(MissingDataErrorType.MissingOrder);\n                }\n\n                if (!payment) {\n                    throw new OrderFinalizationNotRequiredError();\n                }\n\n                const method = state.paymentMethods.getPaymentMethod(payment.providerId, payment.gatewayId);\n                const meta = { methodId: payment.providerId };\n\n                if (!method) {\n                    throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n                }\n\n                observer.next(createAction(PaymentStrategyActionType.FinalizeRequested, undefined, meta));\n\n                this._strategyRegistry.getByMethod(method)\n                    .finalize({ ...options, methodId: method.id, gatewayId: method.gateway })\n                    .then(() => {\n                        observer.next(createAction(PaymentStrategyActionType.FinalizeSucceeded, undefined, meta));\n                        observer.complete();\n                    })\n                    .catch(error => {\n                        observer.error(createErrorAction(PaymentStrategyActionType.FinalizeFailed, error, meta));\n                    });\n            });\n\n            return concat(\n                this._loadOrderIfNeeded(store, options),\n                finalizeAction\n            );\n        };\n    }\n\n    initialize(options: PaymentInitializeOptions): ThunkAction<PaymentStrategyInitializeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<PaymentStrategyInitializeAction>) => {\n            const state = store.getState();\n            const { methodId, gatewayId } = options;\n            const method = state.paymentMethods.getPaymentMethod(methodId, gatewayId);\n\n            if (!method) {\n                throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n            }\n\n            observer.next(createAction(PaymentStrategyActionType.InitializeRequested, undefined, { methodId }));\n\n            this._strategyRegistry.getByMethod(method)\n                .initialize({ ...options, methodId, gatewayId })\n                .then(() => {\n                    observer.next(createAction(PaymentStrategyActionType.InitializeSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(PaymentStrategyActionType.InitializeFailed, error, { methodId }));\n                });\n        });\n    }\n\n    deinitialize(options: PaymentRequestOptions): ThunkAction<PaymentStrategyDeinitializeAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<PaymentStrategyDeinitializeAction>) => {\n            const state = store.getState();\n            const { methodId, gatewayId } = options;\n            const method = state.paymentMethods.getPaymentMethod(methodId, gatewayId);\n\n            if (!method) {\n                throw new MissingDataError(MissingDataErrorType.MissingPaymentMethod);\n            }\n\n            observer.next(createAction(PaymentStrategyActionType.DeinitializeRequested, undefined, { methodId }));\n\n            this._strategyRegistry.getByMethod(method)\n                .deinitialize({ ...options, methodId, gatewayId })\n                .then(() => {\n                    observer.next(createAction(PaymentStrategyActionType.DeinitializeSucceeded, undefined, { methodId }));\n                    observer.complete();\n                })\n                .catch(error => {\n                    observer.error(createErrorAction(PaymentStrategyActionType.DeinitializeFailed, error, { methodId }));\n                });\n        });\n    }\n\n    widgetInteraction(method: () => Promise<any>, options?: PaymentRequestOptions): ThunkAction<PaymentStrategyWidgetAction> {\n        return store => Observable.create((observer: Observer<PaymentStrategyWidgetAction>) => {\n            const methodId = options && options.methodId;\n            const meta = { methodId };\n\n            observer.next(createAction(PaymentStrategyActionType.WidgetInteractionStarted, undefined, meta));\n\n            method().then(() => {\n                observer.next(createAction(PaymentStrategyActionType.WidgetInteractionFinished, undefined, meta));\n                observer.complete();\n            })\n            .catch(error => {\n                observer.error(createErrorAction(PaymentStrategyActionType.WidgetInteractionFailed, error, meta));\n            });\n        });\n    }\n\n    private _loadOrderIfNeeded(store: ReadableCheckoutStore, options?: RequestOptions): Observable<LoadOrderAction> {\n        const checkout = store.getState().checkout.getCheckout();\n\n        if (checkout && checkout.orderId) {\n            return from(this._orderActionCreator.loadCurrentOrder(options)(store));\n        }\n\n        return empty();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-action-creator.ts","module.exports = require(\"rxjs/observable/empty\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/observable/empty\"\n// module id = 220\n// module chunks = 0 1","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { PaymentStrategyAction, PaymentStrategyActionType } from './payment-strategy-actions';\nimport PaymentStrategyState, { DEFAULT_STATE, PaymentStrategyErrorsState, PaymentStrategyStatusesState } from './payment-strategy-state';\n\nexport default function paymentStrategyReducer(\n    state: PaymentStrategyState = DEFAULT_STATE,\n    action: PaymentStrategyAction\n): PaymentStrategyState {\n    const reducer = combineReducers<PaymentStrategyState, PaymentStrategyAction>({\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction errorsReducer(\n    errors: PaymentStrategyErrorsState = DEFAULT_STATE.errors,\n    action: PaymentStrategyAction\n): PaymentStrategyErrorsState {\n    switch (action.type) {\n    case PaymentStrategyActionType.InitializeRequested:\n    case PaymentStrategyActionType.InitializeSucceeded:\n        return {\n            ...errors,\n            initializeError: undefined,\n            initializeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.InitializeFailed:\n        return {\n            ...errors,\n            initializeError: action.payload,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.DeinitializeRequested:\n    case PaymentStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...errors,\n            deinitializeError: undefined,\n            deinitializeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.DeinitializeFailed:\n        return {\n            ...errors,\n            deinitializeError: action.payload,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.ExecuteRequested:\n    case PaymentStrategyActionType.ExecuteSucceeded:\n        return {\n            ...errors,\n            executeError: undefined,\n            executeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.ExecuteFailed:\n        return {\n            ...errors,\n            executeError: action.payload,\n            executeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.FinalizeRequested:\n    case PaymentStrategyActionType.FinalizeSucceeded:\n        return {\n            ...errors,\n            finalizeError: undefined,\n            finalizeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.FinalizeFailed:\n        return {\n            ...errors,\n            finalizeError: action.payload,\n            finalizeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.WidgetInteractionStarted:\n    case PaymentStrategyActionType.WidgetInteractionFinished:\n        return {\n            ...errors,\n            widgetInteractionError: undefined,\n            widgetInteractionMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.WidgetInteractionFailed:\n        return {\n            ...errors,\n            widgetInteractionError: action.payload,\n            widgetInteractionMethodId: action.meta.methodId,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: PaymentStrategyStatusesState = DEFAULT_STATE.statuses,\n    action: PaymentStrategyAction\n): PaymentStrategyStatusesState {\n    switch (action.type) {\n    case PaymentStrategyActionType.InitializeRequested:\n        return {\n            ...statuses,\n            isInitializing: true,\n            initializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.InitializeFailed:\n    case PaymentStrategyActionType.InitializeSucceeded:\n        return {\n            ...statuses,\n            isInitializing: false,\n            initializeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.DeinitializeRequested:\n        return {\n            ...statuses,\n            isDeinitializing: true,\n            deinitializeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.DeinitializeFailed:\n    case PaymentStrategyActionType.DeinitializeSucceeded:\n        return {\n            ...statuses,\n            isDeinitializing: false,\n            deinitializeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.ExecuteRequested:\n        return {\n            ...statuses,\n            isExecuting: true,\n            executeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.ExecuteFailed:\n    case PaymentStrategyActionType.ExecuteSucceeded:\n        return {\n            ...statuses,\n            isExecuting: false,\n            executeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.FinalizeRequested:\n        return {\n            ...statuses,\n            isFinalizing: true,\n            finalizeMethodId: action.meta && action.meta.methodId,\n        };\n\n    case PaymentStrategyActionType.FinalizeFailed:\n    case PaymentStrategyActionType.FinalizeSucceeded:\n        return {\n            ...statuses,\n            isFinalizing: false,\n            finalizeMethodId: undefined,\n        };\n\n    case PaymentStrategyActionType.WidgetInteractionStarted:\n    return {\n        ...statuses,\n        isWidgetInteracting: true,\n        widgetInteractionMethodId: action.meta.methodId,\n     };\n\n    case PaymentStrategyActionType.WidgetInteractionFinished:\n    case PaymentStrategyActionType.WidgetInteractionFailed:\n     return {\n        ...statuses,\n        isWidgetInteracting: false,\n        widgetInteractionMethodId: undefined,\n     };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-reducer.ts","import { selector } from '../common/selector';\n\nimport PaymentStrategyState, { DEFAULT_STATE } from './payment-strategy-state';\n\n@selector\nexport default class PaymentStrategySelector {\n    constructor(\n        private _paymentStrategies: PaymentStrategyState = DEFAULT_STATE\n    ) {}\n\n    getInitializeError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentStrategies.errors.initializeMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentStrategies.errors.initializeError;\n    }\n\n    getExecuteError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentStrategies.errors.executeMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentStrategies.errors.executeError;\n    }\n\n    getFinalizeError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentStrategies.errors.finalizeMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentStrategies.errors.finalizeError;\n    }\n\n    getWidgetInteractingError(methodId?: string): Error | undefined {\n        if (methodId && this._paymentStrategies.errors.widgetInteractionMethodId !== methodId) {\n            return;\n        }\n\n        return this._paymentStrategies.errors.widgetInteractionError;\n    }\n\n    isInitializing(methodId?: string): boolean {\n        if (methodId && this._paymentStrategies.statuses.initializeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentStrategies.statuses.isInitializing;\n    }\n\n    isExecuting(methodId?: string): boolean {\n        if (methodId && this._paymentStrategies.statuses.executeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentStrategies.statuses.isExecuting;\n    }\n\n    isFinalizing(methodId?: string): boolean {\n        if (methodId && this._paymentStrategies.statuses.finalizeMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentStrategies.statuses.isFinalizing;\n    }\n\n    isWidgetInteracting(methodId?: string): boolean {\n        if (methodId && this._paymentStrategies.statuses.widgetInteractionMethodId !== methodId) {\n            return false;\n        }\n\n        return !!this._paymentStrategies.statuses.isWidgetInteracting;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/payment-strategy-selector.ts","import { createAction, createErrorAction, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { InternalCheckoutSelectors } from '../checkout';\nimport { MissingDataError, MissingDataErrorType } from '../common/error/errors';\nimport { RequestOptions } from '../common/http-request';\n\nimport { GiftCertificateRequestSender } from '.';\nimport { ApplyGiftCertificateAction, GiftCertificateActionType, RemoveGiftCertificateAction } from './gift-certificate-actions';\n\nexport default class GiftCertificateActionCreator {\n    constructor(\n        private _giftCertificateRequestSender: GiftCertificateRequestSender\n    ) {}\n\n    applyGiftCertificate(giftCertificate: string, options?: RequestOptions): ThunkAction<ApplyGiftCertificateAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<ApplyGiftCertificateAction>) => {\n            const state = store.getState();\n            const checkout = state.checkout.getCheckout();\n\n            if (!checkout) {\n                throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n            }\n\n            observer.next(createAction(GiftCertificateActionType.ApplyGiftCertificateRequested));\n\n            this._giftCertificateRequestSender.applyGiftCertificate(checkout.id, giftCertificate, options)\n                .then(({ body }) => {\n                    observer.next(createAction(GiftCertificateActionType.ApplyGiftCertificateSucceeded, body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(GiftCertificateActionType.ApplyGiftCertificateFailed, response));\n                });\n        });\n    }\n\n    removeGiftCertificate(giftCertificate: string, options?: RequestOptions): ThunkAction<RemoveGiftCertificateAction, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<RemoveGiftCertificateAction>) => {\n            const state = store.getState();\n            const checkout = state.checkout.getCheckout();\n\n            if (!checkout) {\n                throw new MissingDataError(MissingDataErrorType.MissingCheckout);\n            }\n\n            observer.next(createAction(GiftCertificateActionType.RemoveGiftCertificateRequested));\n\n            this._giftCertificateRequestSender.removeGiftCertificate(checkout.id, giftCertificate, options)\n                .then(({ body }) => {\n                    observer.next(createAction(GiftCertificateActionType.RemoveGiftCertificateSucceeded, body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(GiftCertificateActionType.RemoveGiftCertificateFailed, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { Checkout, CheckoutDefaultIncludes } from '../checkout';\nimport { ContentType, RequestOptions } from '../common/http-request';\n\nexport default class GiftCertificateRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    applyGiftCertificate(checkoutId: string, giftCertificateCode: string, { timeout }: RequestOptions = {}): Promise<Response<Checkout>> {\n        const url = `/api/storefront/checkouts/${checkoutId}/gift-certificates`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.post(url, {\n            headers,\n            timeout,\n            params: {\n                include: CheckoutDefaultIncludes.join(','),\n            },\n            body: { giftCertificateCode },\n        });\n    }\n\n    removeGiftCertificate(checkoutId: string, giftCertificateCode: string, { timeout }: RequestOptions = {}): Promise<Response<Checkout>> {\n        const url = `/api/storefront/checkouts/${checkoutId}/gift-certificates/${giftCertificateCode}`;\n        const headers = { Accept: ContentType.JsonV1 };\n\n        return this._requestSender.delete(url, {\n            headers,\n            timeout,\n            params: {\n                include: CheckoutDefaultIncludes.join(','),\n            },\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-request-sender.ts","import { selector } from '../common/selector';\n\nimport GiftCertificate from './gift-certificate';\nimport GiftCertificateState from './gift-certificate-state';\n\n@selector\nexport default class GiftCertificateSelector {\n    constructor(\n        private _giftCertificate: GiftCertificateState\n    ) {}\n\n    getGiftCertificates(): GiftCertificate[] | undefined {\n        return this._giftCertificate.data;\n    }\n\n    getRemoveError(): Error | undefined {\n        return this._giftCertificate.errors.removeGiftCertificateError;\n    }\n\n    getApplyError(): Error | undefined {\n        return this._giftCertificate.errors.applyGiftCertificateError;\n    }\n\n    isApplying(): boolean {\n        return !!this._giftCertificate.statuses.isApplyingGiftCertificate;\n    }\n\n    isRemoving(): boolean {\n        return !!this._giftCertificate.statuses.isRemovingGiftCertificate;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport { CheckoutAction, CheckoutActionType } from '../checkout';\nimport { ConsignmentAction, ConsignmentActionType } from '../shipping/consignment-actions';\n\nimport { CouponAction, CouponActionType } from './coupon-actions';\nimport GiftCertificate from './gift-certificate';\nimport { GiftCertificateAction, GiftCertificateActionType } from './gift-certificate-actions';\nimport GiftCertificateState, { GiftCertificateErrorsState, GiftCertificateStatusesState } from './gift-certificate-state';\n\nconst DEFAULT_STATE: GiftCertificateState = {\n    errors: {},\n    statuses: {},\n};\n\nexport default function giftCertificateReducer(\n    state: GiftCertificateState = DEFAULT_STATE,\n    action: CheckoutAction | GiftCertificateAction\n): GiftCertificateState {\n    const reducer = combineReducers<GiftCertificateState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: GiftCertificate[] | undefined,\n    action: CheckoutAction | GiftCertificateAction | ConsignmentAction | CouponAction\n): GiftCertificate[] | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case ConsignmentActionType.UpdateConsignmentSucceeded:\n    case ConsignmentActionType.CreateConsignmentsSucceeded:\n    case CouponActionType.ApplyCouponSucceeded:\n    case CouponActionType.RemoveCouponSucceeded:\n    case GiftCertificateActionType.ApplyGiftCertificateSucceeded:\n    case GiftCertificateActionType.RemoveGiftCertificateSucceeded:\n        return action.payload ? action.payload.giftCertificates : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(\n    errors: GiftCertificateErrorsState = DEFAULT_STATE.errors,\n    action: GiftCertificateAction\n): GiftCertificateErrorsState {\n    switch (action.type) {\n    case GiftCertificateActionType.ApplyGiftCertificateRequested:\n    case GiftCertificateActionType.ApplyGiftCertificateSucceeded:\n        return { ...errors, applyGiftCertificateError: undefined };\n\n    case GiftCertificateActionType.ApplyGiftCertificateFailed:\n        return { ...errors, applyGiftCertificateError: action.payload };\n\n    case GiftCertificateActionType.RemoveGiftCertificateRequested:\n    case GiftCertificateActionType.RemoveGiftCertificateSucceeded:\n        return { ...errors, removeGiftCertificateError: undefined };\n\n    case GiftCertificateActionType.RemoveGiftCertificateFailed:\n        return { ...errors, removeGiftCertificateError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: GiftCertificateStatusesState = DEFAULT_STATE.statuses,\n    action: GiftCertificateAction\n): GiftCertificateStatusesState {\n    switch (action.type) {\n    case GiftCertificateActionType.ApplyGiftCertificateRequested:\n        return { ...statuses, isApplyingGiftCertificate: true };\n\n    case GiftCertificateActionType.ApplyGiftCertificateSucceeded:\n    case GiftCertificateActionType.ApplyGiftCertificateFailed:\n        return { ...statuses, isApplyingGiftCertificate: false };\n\n    case GiftCertificateActionType.RemoveGiftCertificateRequested:\n        return { ...statuses, isRemovingGiftCertificate: true };\n\n    case GiftCertificateActionType.RemoveGiftCertificateSucceeded:\n    case GiftCertificateActionType.RemoveGiftCertificateFailed:\n        return { ...statuses, isRemovingGiftCertificate: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/gift-certificate-reducer.ts","import Coupon from './coupon';\nimport InternalCoupon from './internal-coupon';\n\nconst couponTypes = [\n    'per_item_discount',\n    'percentage_discount',\n    'per_total_discount',\n    'shipping_discount',\n    'free_shipping',\n];\n\nexport default function mapToInternalCoupon(coupon: Coupon): InternalCoupon {\n    return {\n        code: coupon.code,\n        discount: coupon.displayName,\n        discountType: couponTypes.indexOf(coupon.couponType),\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/map-to-internal-coupon.ts","import GiftCertificate from './gift-certificate';\nimport InternalGiftCertificate from './internal-gift-certificate';\n\nexport default function mapToInternalGiftCertificate(giftCertificate: GiftCertificate): InternalGiftCertificate {\n    return {\n        code: giftCertificate.code,\n        discountedAmount: giftCertificate.used,\n        remainingBalance: giftCertificate.remaining,\n        giftCertificate: {\n            balance: giftCertificate.balance,\n            code: giftCertificate.code,\n            purchaseDate: giftCertificate.purchaseDate,\n        },\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/coupon/map-to-internal-gift-certificate.ts","export { default as mapToDiscountNotifications } from './map-to-discount-notifications';\nexport { default as Promotion } from './promotion';\n\n\n\n// WEBPACK FOOTER //\n// ./src/promotion/index.ts","import { DiscountNotification } from '../discount';\n\nimport { Promotion } from '.';\n\nexport default function mapToDiscountNotifications(promotions?: Promotion[]): DiscountNotification[] {\n    const notifications: DiscountNotification[] = [];\n\n    (promotions || []).forEach(promotion => {\n        (promotion.banners || []).forEach(banner => {\n            notifications.push({\n                placeholders: [],\n                discountType: null,\n                message: '',\n                messageHtml: banner.text,\n            });\n        });\n    });\n\n    return notifications;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/promotion/map-to-discount-notifications.ts","import { mapToInternalAddress, Address, InternalAddress } from '../address';\nimport { Checkout } from '../checkout';\n\nimport InternalQuote from './internal-quote';\n\nexport default function mapToInternalQuote(checkout: Checkout, shippingAddress?: Address): InternalQuote {\n    const consignment = checkout.consignments && checkout.consignments[0];\n\n    return {\n        orderComment: checkout.customerMessage,\n        shippingOption: consignment && consignment.selectedShippingOption ? consignment.selectedShippingOption.id : undefined,\n        billingAddress: checkout.billingAddress ? mapToInternalAddress(checkout.billingAddress) : {} as InternalAddress,\n        shippingAddress: shippingAddress && mapToInternalAddress(shippingAddress),\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/quote/map-to-internal-quote.ts","import { BillingAddressSelector } from '../billing';\nimport { CartSelector } from '../cart';\nimport { selector } from '../common/selector';\nimport { ConfigSelector } from '../config';\nimport { CouponSelector, GiftCertificateSelector } from '../coupon';\nimport { CustomerStrategySelector } from '../customer';\nimport { CountrySelector } from '../geography';\nimport { OrderSelector } from '../order';\nimport { PaymentMethodSelector, PaymentStrategySelector } from '../payment';\nimport { InstrumentSelector } from '../payment/instrument';\nimport { ShippingCountrySelector, ShippingOptionSelector, ShippingStrategySelector } from '../shipping';\n\nimport CheckoutSelector from './checkout-selector';\nimport InternalCheckoutSelectors from './internal-checkout-selectors';\n\n/**\n * Responsible for checking the statuses of various asynchronous actions related\n * to checkout.\n *\n * This object has a set of getters that return true if an action is in\n * progress. For example, you can check whether a customer is submitting an\n * order and waiting for the request to complete.\n */\n@selector\nexport default class CheckoutStoreStatusSelector {\n    private _billingAddress: BillingAddressSelector;\n    private _cart: CartSelector;\n    private _checkout: CheckoutSelector;\n    private _config: ConfigSelector;\n    private _countries: CountrySelector;\n    private _coupons: CouponSelector;\n    private _customerStrategies: CustomerStrategySelector;\n    private _giftCertificates: GiftCertificateSelector;\n    private _instruments: InstrumentSelector;\n    private _order: OrderSelector;\n    private _paymentMethods: PaymentMethodSelector;\n    private _paymentStrategies: PaymentStrategySelector;\n    private _shippingCountries: ShippingCountrySelector;\n    private _shippingOptions: ShippingOptionSelector;\n    private _shippingStrategies: ShippingStrategySelector;\n\n    /**\n     * @internal\n     */\n    constructor(selectors: InternalCheckoutSelectors) {\n        this._billingAddress = selectors.billingAddress;\n        this._cart = selectors.cart;\n        this._checkout = selectors.checkout;\n        this._config = selectors.config;\n        this._countries = selectors.countries;\n        this._coupons = selectors.coupons;\n        this._customerStrategies = selectors.customerStrategies;\n        this._giftCertificates = selectors.giftCertificates;\n        this._instruments = selectors.instruments;\n        this._order = selectors.order;\n        this._paymentMethods = selectors.paymentMethods;\n        this._paymentStrategies = selectors.paymentStrategies;\n        this._shippingCountries = selectors.shippingCountries;\n        this._shippingOptions = selectors.shippingOptions;\n        this._shippingStrategies = selectors.shippingStrategies;\n    }\n\n    /**\n     * Checks whether any checkout action is pending.\n     *\n     * @returns True if there is a pending action, otherwise false.\n     */\n    isPending(): boolean {\n        return this.isLoadingCheckout() ||\n            this.isSubmittingOrder() ||\n            this.isFinalizingOrder() ||\n            this.isLoadingOrder() ||\n            this.isLoadingCart() ||\n            this.isLoadingBillingCountries() ||\n            this.isLoadingShippingCountries() ||\n            this.isLoadingPaymentMethods() ||\n            this.isLoadingPaymentMethod() ||\n            this.isInitializingPayment() ||\n            this.isLoadingShippingOptions() ||\n            this.isSelectingShippingOption() ||\n            this.isSigningIn() ||\n            this.isSigningOut() ||\n            this.isInitializingCustomer() ||\n            this.isUpdatingBillingAddress() ||\n            this.isUpdatingShippingAddress() ||\n            this.isInitializingShipping() ||\n            this.isApplyingCoupon() ||\n            this.isRemovingCoupon() ||\n            this.isApplyingGiftCertificate() ||\n            this.isRemovingGiftCertificate() ||\n            this.isLoadingInstruments() ||\n            this.isDeletingInstrument() ||\n            this.isLoadingConfig() ||\n            this.isCustomerStepPending() ||\n            this.isPaymentStepPending();\n    }\n\n    /**\n     * Checks whether the current checkout is loading.\n     *\n     * @returns True if the current checkout is loading, otherwise false.\n     */\n    isLoadingCheckout(): boolean {\n        return this._checkout.isLoading();\n    }\n\n    /**\n     * Checks whether the current order is submitting.\n     *\n     * @returns True if the current order is submitting, otherwise false.\n     */\n    isSubmittingOrder(): boolean {\n        return this._paymentStrategies.isExecuting();\n    }\n\n    /**\n     * Checks whether the current order is finalizing.\n     *\n     * @returns True if the current order is finalizing, otherwise false.\n     */\n    isFinalizingOrder(): boolean {\n        return this._paymentStrategies.isFinalizing();\n    }\n\n    /**\n     * Checks whether the current order is loading.\n     *\n     * @returns True if the current order is loading, otherwise false.\n     */\n    isLoadingOrder(): boolean {\n        return this._order.isLoading();\n    }\n\n    /**\n     * Checks whether the current cart is loading.\n     *\n     * @returns True if the current cart is loading, otherwise false.\n     */\n    isLoadingCart(): boolean {\n        return this._cart.isLoading();\n    }\n\n    /**\n     * Checks whether billing countries are loading.\n     *\n     * @returns True if billing countries are loading, otherwise false.\n     */\n    isLoadingBillingCountries(): boolean {\n        return this._countries.isLoading();\n    }\n\n    /**\n     * Checks whether shipping countries are loading.\n     *\n     * @returns True if shipping countries are loading, otherwise false.\n     */\n    isLoadingShippingCountries(): boolean {\n        return this._shippingCountries.isLoading();\n    }\n\n    /**\n     * Checks whether payment methods are loading.\n     *\n     * @returns True if payment methods are loading, otherwise false.\n     */\n    isLoadingPaymentMethods(): boolean {\n        return this._paymentMethods.isLoading();\n    }\n\n    /**\n     * Checks whether a specific or any payment method is loading.\n     *\n     * The method returns true if no ID is provided and at least one payment\n     * method is loading.\n     *\n     * @param methodId - The identifier of the payment method to check.\n     * @returns True if the payment method is loading, otherwise false.\n     */\n    isLoadingPaymentMethod(methodId?: string): boolean {\n        return this._paymentMethods.isLoadingMethod(methodId);\n    }\n\n    /**\n     * Checks whether a specific or any payment method is initializing.\n     *\n     * The method returns true if no ID is provided and at least one payment\n     * method is initializing.\n     *\n     * @param methodId - The identifier of the payment method to check.\n     * @returns True if the payment method is initializing, otherwise false.\n     */\n    isInitializingPayment(methodId?: string): boolean {\n        return this._paymentStrategies.isInitializing(methodId);\n    }\n\n    /**\n     * Checks whether the current customer is signing in.\n     *\n     * If an ID is provided, the method also checks whether the customer is\n     * signing in using a specific customer method with the same ID.\n     *\n     * @param methodId - The identifier of the method used for signing in the\n     * current customer.\n     * @returns True if the customer is signing in, otherwise false.\n     */\n    isSigningIn(methodId?: string): boolean {\n        return this._customerStrategies.isSigningIn(methodId);\n    }\n\n    /**\n     * Checks whether the current customer is signing out.\n     *\n     * If an ID is provided, the method also checks whether the customer is\n     * signing out using a specific customer method with the same ID.\n     *\n     * @param methodId - The identifier of the method used for signing out the\n     * current customer.\n     * @returns True if the customer is signing out, otherwise false.\n     */\n    isSigningOut(methodId?: string): boolean {\n        return this._customerStrategies.isSigningOut(methodId);\n    }\n\n    /**\n     * Checks whether the customer step is initializing.\n     *\n     * If an ID is provided, the method also checks whether the customer step is\n     * initializing using a specific customer method with the same ID.\n     *\n     * @param methodId - The identifier of the method used for initializing the\n     * customer step of checkout.\n     * @returns True if the customer step is initializing, otherwise false.\n     */\n    isInitializingCustomer(methodId?: string): boolean {\n        return this._customerStrategies.isInitializing(methodId);\n    }\n\n    /**\n     * Checks whether shipping options are loading.\n     *\n     * @returns True if shipping options are loading, otherwise false.\n     */\n    isLoadingShippingOptions(): boolean {\n        return this._shippingOptions.isLoading();\n    }\n\n    /**\n     * Checks whether the current customer is selecting a shipping option.\n     *\n     * @returns True if selecting a shipping option, otherwise false.\n     */\n    isSelectingShippingOption(): boolean {\n        return this._shippingStrategies.isSelectingOption();\n    }\n\n    /**\n     * Checks whether the current customer is updating their billing address.\n     *\n     * @returns True if updating their billing address, otherwise false.\n     */\n    isUpdatingBillingAddress(): boolean {\n        return this._billingAddress.isUpdating();\n    }\n\n    /**\n     * Checks whether the current customer is updating their shipping address.\n     *\n     * @returns True if updating their shipping address, otherwise false.\n     */\n    isUpdatingShippingAddress(): boolean {\n        return this._shippingStrategies.isUpdatingAddress();\n    }\n\n    /**\n     * Checks whether the shipping step of a checkout process is initializing.\n     *\n     * If an identifier is provided, the method also checks whether the shipping\n     * step is initializing using a specific shipping method with the same\n     * identifier.\n     *\n     * @param methodId - The identifer of the initialization method to check.\n     * @returns True if the shipping step is initializing, otherwise false.\n     */\n    isInitializingShipping(methodId?: string) {\n        return this._shippingStrategies.isInitializing(methodId);\n    }\n\n    /**\n     * Checks whether the current customer is applying a coupon code.\n     *\n     * @returns True if applying a coupon code, otherwise false.\n     */\n    isApplyingCoupon(): boolean {\n        return this._coupons.isApplying();\n    }\n\n    /**\n     * Checks whether the current customer is removing a coupon code.\n     *\n     * @returns True if removing a coupon code, otherwise false.\n     */\n    isRemovingCoupon(): boolean {\n        return this._coupons.isRemoving();\n    }\n\n    /**\n     * Checks whether the current customer is applying a gift certificate.\n     *\n     * @returns True if applying a gift certificate, otherwise false.\n     */\n    isApplyingGiftCertificate(): boolean {\n        return this._giftCertificates.isApplying();\n    }\n\n    /**\n     * Checks whether the current customer is removing a gift certificate.\n     *\n     * @returns True if removing a gift certificate, otherwise false.\n     */\n    isRemovingGiftCertificate(): boolean {\n        return this._giftCertificates.isRemoving();\n    }\n\n    /**\n     * Checks whether the current customer's payment instruments are loading.\n     *\n     * @returns True if payment instruments are loading, otherwise false.\n     */\n    isLoadingInstruments(): boolean {\n        return this._instruments.isLoading();\n    }\n\n    /**\n     * Checks whether the current customer is deleting a payment instrument.\n     *\n     * @returns True if deleting a payment instrument, otherwise false.\n     */\n    isDeletingInstrument(instrumentId?: string): boolean {\n        return this._instruments.isDeleting(instrumentId);\n    }\n\n    /**\n     * Checks whether the checkout configuration of a store is loading.\n     *\n     * @returns True if the configuration is loading, otherwise false.\n     */\n    isLoadingConfig(): boolean {\n        return this._config.isLoading();\n    }\n\n    /**\n     * Checks whether the customer step of a checkout is in a pending state.\n     *\n     * The customer step is considered to be pending if it is in the process of\n     * initializing, signing in, signing out, and/or interacting with a customer\n     * widget.\n     *\n     * @returns True if the customer step is pending, otherwise false.\n     */\n    isCustomerStepPending(): boolean {\n        return this._customerStrategies.isInitializing() ||\n            this._customerStrategies.isSigningIn() ||\n            this._customerStrategies.isSigningOut() ||\n            this._customerStrategies.isWidgetInteracting();\n    }\n\n    /**\n     * Checks whether the payment step of a checkout is in a pending state.\n     *\n     * The payment step is considered to be pending if it is in the process of\n     * initializing, submitting an order, finalizing an order, and/or\n     * interacting with a payment widget.\n     *\n     * @returns True if the payment step is pending, otherwise false.\n     */\n    isPaymentStepPending(): boolean {\n        return this._paymentStrategies.isInitializing() ||\n            this._paymentStrategies.isExecuting() ||\n            this._paymentStrategies.isFinalizing() ||\n            this._paymentStrategies.isWidgetInteracting();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-store-status-selector.ts","export { default as CartChangedError } from './cart-changed-error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/errors/index.ts","import { StandardError } from '../../common/error/errors';\n\nexport default class CartChangedError extends StandardError {\n    constructor() {\n        super('An update to your shopping cart has been detected and your available shipping costs have been updated.');\n\n        this.type = 'cart_changed';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cart/errors/cart-changed-error.ts","import { createAction, createErrorAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport { ConfigActionType, LoadConfigAction } from './config-actions';\n\nexport default class ConfigActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadConfig(options?: RequestOptions): Observable<LoadConfigAction> {\n        return Observable.create((observer: Observer<LoadConfigAction>) => {\n            observer.next(createAction(ConfigActionType.LoadConfigRequested));\n\n            this._checkoutClient.loadConfig(options)\n                .then(response => {\n                    observer.next(createAction(ConfigActionType.LoadConfigSucceeded, response.body));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(ConfigActionType.LoadConfigFailed, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-action-creator.ts","import { selector } from '../common/selector';\n\nimport Config, { ContextConfig, StoreConfig } from './config';\nimport ConfigState from './config-state';\n\n@selector\nexport default class ConfigSelector {\n    constructor(\n        private _config: ConfigState\n    ) {}\n\n    getConfig(): Config | undefined {\n        return this._config.data;\n    }\n\n    getStoreConfig(): StoreConfig | undefined {\n        return this._config.data && this._config.data.storeConfig;\n    }\n\n    getContextConfig(): ContextConfig | undefined {\n        return this._config.data && this._config.data.context;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._config.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._config.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-selector.ts","import { combineReducers } from '@bigcommerce/data-store';\n\nimport Config from './config';\nimport { ConfigActionType, LoadConfigAction } from './config-actions';\nimport ConfigState, { ConfigErrorsState, ConfigStatusesState } from './config-state';\n\nconst DEFAULT_STATE: ConfigState = {\n    errors: {},\n    statuses: {},\n};\n\nexport default function configReducer(state: ConfigState = DEFAULT_STATE, action: LoadConfigAction): ConfigState {\n    const reducer = combineReducers<ConfigState, LoadConfigAction>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: Config | undefined, action: LoadConfigAction): Config | undefined {\n    switch (action.type) {\n    case ConfigActionType.LoadConfigSucceeded:\n        return action.payload ? action.payload : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: ConfigErrorsState = DEFAULT_STATE.errors, action: LoadConfigAction): ConfigErrorsState {\n    switch (action.type) {\n    case ConfigActionType.LoadConfigSucceeded:\n        return { ...errors, loadError: undefined };\n\n    case ConfigActionType.LoadConfigFailed:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: ConfigStatusesState = DEFAULT_STATE.statuses, action: LoadConfigAction): ConfigStatusesState {\n    switch (action.type) {\n    case ConfigActionType.LoadConfigRequested:\n        return { ...statuses, isLoading: true };\n\n    case ConfigActionType.LoadConfigSucceeded:\n    case ConfigActionType.LoadConfigFailed:\n        return { ...statuses, isLoading: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-reducer.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { ContentType, RequestOptions } from '../common/http-request';\n\nimport Config from './config';\n\nexport default class ConfigRequestSender {\n    constructor(\n        private _requestSender: RequestSender\n    ) {}\n\n    loadConfig({ timeout }: RequestOptions = {}): Promise<Response<Config>> {\n        const url = '/api/storefront/checkout-settings';\n\n        return this._requestSender.get(url, {\n            timeout,\n            headers: {\n                Accept: ContentType.JsonV1,\n                'X-API-INTERNAL': 'This API endpoint is for internal use only and may change in the future',\n            },\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config-request-sender.ts","import { createAction, createErrorAction, Action } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { CheckoutClient } from '../checkout';\nimport { RequestOptions } from '../common/http-request';\n\nimport Country from './country';\nimport * as actionTypes from './country-action-types';\n\n/**\n * @todo Convert this file into TypeScript properly\n */\nexport default class CountryActionCreator {\n    constructor(\n        private _checkoutClient: CheckoutClient\n    ) {}\n\n    loadCountries(options?: RequestOptions): Observable<Action<Country[]>> {\n        return Observable.create((observer: Observer<Action<Country[]>>) => {\n            observer.next(createAction(actionTypes.LOAD_COUNTRIES_REQUESTED));\n\n            this._checkoutClient.loadCountries(options)\n                .then(response => {\n                    observer.next(createAction(actionTypes.LOAD_COUNTRIES_SUCCEEDED, response.body.data));\n                    observer.complete();\n                })\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_COUNTRIES_FAILED, response));\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-action-creator.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { RequestOptions } from '../common/http-request';\n\nimport { CountryResponseBody } from './country-responses';\n\nexport default class CountryRequestSender {\n    constructor(\n        private _requestSender: RequestSender,\n        private _config: { locale?: string }\n    ) {}\n\n    loadCountries({ timeout }: RequestOptions = {}): Promise<Response<CountryResponseBody>> {\n        const url = '/internalapi/v1/store/countries';\n        const headers = {\n            'Accept-Language': this._config.locale,\n        };\n\n        return this._requestSender.get(url, { headers, timeout });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-request-sender.ts","import { selector } from '../common/selector';\n\nimport Country from './country';\nimport CountryState from './country-state';\n\n@selector\nexport default class CountrySelector {\n    constructor(\n        private _countries: CountryState\n    ) {}\n\n    getCountries(): Country[] | undefined {\n        return this._countries.data;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._countries.errors.loadError;\n    }\n\n    isLoading(): boolean {\n        return !!this._countries.statuses.isLoading;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport Country from './country';\nimport * as actionTypes from './country-action-types';\nimport CountryState, { CountryErrorsState, CountryStatusesState } from './country-state';\n\nconst DEFAULT_STATE: CountryState = {\n    errors: {},\n    statuses: {},\n};\n\n/**\n * @todo Convert this file into TypeScript properly\n * i.e.: Action\n */\nexport default function countryReducer(state: CountryState = DEFAULT_STATE, action: Action): CountryState {\n    const reducer = combineReducers<CountryState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: Country[] | undefined, action: Action): Country[] | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_COUNTRIES_SUCCEEDED:\n        return action.payload || [];\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(errors: CountryErrorsState = DEFAULT_STATE.errors, action: Action): CountryErrorsState {\n    switch (action.type) {\n    case actionTypes.LOAD_COUNTRIES_REQUESTED:\n    case actionTypes.LOAD_COUNTRIES_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case actionTypes.LOAD_COUNTRIES_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: CountryStatusesState = DEFAULT_STATE.statuses, action: Action): CountryStatusesState {\n    switch (action.type) {\n    case actionTypes.LOAD_COUNTRIES_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case actionTypes.LOAD_COUNTRIES_SUCCEEDED:\n    case actionTypes.LOAD_COUNTRIES_FAILED:\n        return { ...statuses, isLoading: false };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/geography/country-reducer.ts","import { createRequestSender } from '@bigcommerce/request-sender';\n\nimport { BillingAddressActionCreator } from '../billing';\nimport { getDefaultLogger } from '../common/log';\nimport { getEnvironment } from '../common/utility';\nimport { ConfigActionCreator } from '../config';\nimport { CouponActionCreator, CouponRequestSender, GiftCertificateActionCreator, GiftCertificateRequestSender } from '../coupon';\nimport { createCustomerStrategyRegistry, CustomerStrategyActionCreator } from '../customer';\nimport { CountryActionCreator } from '../geography';\nimport { OrderActionCreator } from '../order';\nimport { createPaymentClient, createPaymentStrategyRegistry, PaymentMethodActionCreator, PaymentStrategyActionCreator } from '../payment';\nimport { InstrumentActionCreator, InstrumentRequestSender } from '../payment/instrument';\nimport { createShippingStrategyRegistry, ConsignmentActionCreator, ShippingCountryActionCreator, ShippingStrategyActionCreator } from '../shipping';\n\nimport CheckoutActionCreator from './checkout-action-creator';\nimport CheckoutRequestSender from './checkout-request-sender';\nimport CheckoutService from './checkout-service';\nimport CheckoutValidator from './checkout-validator';\nimport createCheckoutClient from './create-checkout-client';\nimport createCheckoutStore from './create-checkout-store';\n\n/**\n * Creates an instance of `CheckoutService`.\n *\n * ```js\n * const service = createCheckoutService();\n *\n * service.subscribe(state => {\n *     console.log(state);\n * });\n *\n * service.loadCheckout();\n * ```\n *\n * @param options - A set of construction options.\n * @returns an instance of `CheckoutService`.\n */\nexport default function createCheckoutService(options?: CheckoutServiceOptions): CheckoutService {\n    if (document.location.protocol !== 'https:') {\n        getDefaultLogger().warn('The BigCommerce Checkout SDK should not be used on a non-HTTPS page');\n    }\n\n    if (getEnvironment() !== 'production') {\n        getDefaultLogger().warn('Note that the development build is not optimized. To create a production build, set process.env.NODE_ENV to `production`.');\n    }\n\n    const { locale = '', shouldWarnMutation = true } = options || {};\n    const client = createCheckoutClient({ locale });\n    const store = createCheckoutStore({}, { shouldWarnMutation });\n    const paymentClient = createPaymentClient(store);\n    const requestSender = createRequestSender();\n    const checkoutRequestSender = new CheckoutRequestSender(requestSender);\n    const orderActionCreator = new OrderActionCreator(client, new CheckoutValidator(checkoutRequestSender));\n\n    return new CheckoutService(\n        store,\n        new BillingAddressActionCreator(client),\n        new CheckoutActionCreator(checkoutRequestSender),\n        new ConfigActionCreator(client),\n        new ConsignmentActionCreator(client, checkoutRequestSender),\n        new CountryActionCreator(client),\n        new CouponActionCreator(new CouponRequestSender(requestSender)),\n        new CustomerStrategyActionCreator(createCustomerStrategyRegistry(store, client)),\n        new GiftCertificateActionCreator(new GiftCertificateRequestSender(requestSender)),\n        new InstrumentActionCreator(new InstrumentRequestSender(paymentClient, requestSender)),\n        orderActionCreator,\n        new PaymentMethodActionCreator(client),\n        new PaymentStrategyActionCreator(\n            createPaymentStrategyRegistry(store, client, paymentClient),\n            orderActionCreator\n        ),\n        new ShippingCountryActionCreator(client),\n        new ShippingStrategyActionCreator(createShippingStrategyRegistry(store, client))\n    );\n}\n\nexport interface CheckoutServiceOptions {\n    locale?: string;\n    shouldWarnMutation?: boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-service.ts","import Logger from './logger';\n\nexport default class ConsoleLogger implements Logger {\n    constructor(\n        private _console: Console\n    ) {}\n\n    log(...messages: any[]): void {\n        this._logToConsole('log', ...messages);\n    }\n\n    info(...messages: any[]): void {\n        this._logToConsole('info', ...messages);\n    }\n\n    warn(...messages: any[]): void {\n        this._logToConsole('warn', ...messages);\n    }\n\n    error(...messages: any[]): void {\n        this._logToConsole('error', ...messages);\n    }\n\n    debug(...messages: any[]): void {\n        this._logToConsole('debug', ...messages);\n    }\n\n    private _logToConsole(type: keyof Console, ...messages: any[]): void {\n        if (!this._console || !this._console[type]) {\n            return;\n        }\n\n        this._console[type].call(this._console, ...messages);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/log/console-logger.ts","import Logger from './logger';\n\nexport default class NoopLogger implements Logger {\n    log(): void {}\n\n    info(): void {}\n\n    warn(): void {}\n\n    error(): void {}\n\n    debug(): void {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/log/noop-logger.ts","import { createAction, createErrorAction, Action, ThunkAction } from '@bigcommerce/data-store';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\n\nimport { Address } from '../../address';\nimport { InternalCheckoutSelectors, ReadableCheckoutStore } from '../../checkout';\nimport { addMinutes, isFuture } from '../../common/date-time';\nimport { MissingDataError, MissingDataErrorType } from '../../common/error/errors';\n\nimport { SessionContext, VaultAccessToken } from './instrument';\nimport * as actionTypes from './instrument-action-types';\nimport InstrumentRequestSender from './instrument-request-sender';\n\nexport default class InstrumentActionCreator {\n    constructor(\n        private _instrumentRequestSender: InstrumentRequestSender\n    ) {}\n\n    loadInstruments(): ThunkAction<Action, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.LOAD_INSTRUMENTS_REQUESTED));\n\n            const session = this._getSessionContext(store);\n            const token = this._getCurrentAccessToken(store);\n            const shippingAddress = this._getShippingAddress(store);\n\n            return this._getValidAccessToken(token)\n                .then(currentToken =>\n                    this._instrumentRequestSender.loadInstruments({\n                            ...session,\n                            authToken: currentToken.vaultAccessToken,\n                        },\n                        shippingAddress\n                    )\n                        .then(({ body }) => {\n                            observer.next(createAction(actionTypes.LOAD_INSTRUMENTS_SUCCEEDED, body, currentToken));\n                            observer.complete();\n                        })\n                )\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.LOAD_INSTRUMENTS_FAILED, response));\n                });\n        });\n    }\n\n    deleteInstrument(instrumentId: string): ThunkAction<Action, InternalCheckoutSelectors> {\n        return store => Observable.create((observer: Observer<Action>) => {\n            observer.next(createAction(actionTypes.DELETE_INSTRUMENT_REQUESTED, undefined, { instrumentId }));\n\n            const session = this._getSessionContext(store);\n            const token = this._getCurrentAccessToken(store);\n\n            return this._getValidAccessToken(token)\n                .then(currentToken =>\n                    this._instrumentRequestSender.deleteInstrument({ ...session, authToken: currentToken.vaultAccessToken }, instrumentId)\n                        .then(() => {\n                            observer.next(createAction(actionTypes.DELETE_INSTRUMENT_SUCCEEDED, undefined, {\n                                instrumentId,\n                                ...currentToken,\n                            }));\n                            observer.complete();\n                        })\n                )\n                .catch(response => {\n                    observer.error(createErrorAction(actionTypes.DELETE_INSTRUMENT_FAILED, response, { instrumentId }));\n                });\n        });\n    }\n\n    private _isValidVaultAccessToken(token: VaultAccessToken): boolean {\n        if (!token || !token.vaultAccessToken) {\n            return false;\n        }\n\n        const expiryBuffer = 2;\n        const expiry = addMinutes(new Date(token.vaultAccessExpiry), expiryBuffer);\n\n        return isFuture(expiry);\n    }\n\n    private _getCurrentAccessToken(store: ReadableCheckoutStore): VaultAccessToken | undefined {\n        const { instruments } = store.getState();\n        const meta = instruments.getInstrumentsMeta();\n\n        if (!meta) {\n            return;\n        }\n\n        return {\n            vaultAccessToken: meta.vaultAccessToken,\n            vaultAccessExpiry: meta.vaultAccessExpiry,\n        };\n    }\n\n    private _getValidAccessToken(token?: VaultAccessToken): Promise<VaultAccessToken> {\n        return token && this._isValidVaultAccessToken(token)\n            ? Promise.resolve(token)\n            : this._instrumentRequestSender.getVaultAccessToken()\n                .then(({ body = {} }: any) => ({\n                    vaultAccessToken: body.data.token,\n                    vaultAccessExpiry: body.data.expires_at,\n                }));\n    }\n\n    private _getShippingAddress(store: ReadableCheckoutStore): Address | undefined {\n        const state = store.getState();\n\n        return state.shippingAddress.getShippingAddress();\n    }\n\n    private _getSessionContext(store: ReadableCheckoutStore): SessionContext {\n        const state = store.getState();\n        const config = state.config.getStoreConfig();\n        const cart = state.cart.getCart();\n\n        if (!config) {\n            throw new MissingDataError(MissingDataErrorType.MissingCheckoutConfig);\n        }\n\n        if (!cart) {\n            throw new MissingDataError(MissingDataErrorType.MissingCart);\n        }\n\n        const { customerId } = cart;\n        const { storeId } = config.storeProfile;\n\n        return {\n            customerId,\n            storeId,\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-action-creator.ts","export { default as addMinutes } from './add-minutes';\nexport { default as isFuture } from './is-future';\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/date-time/index.ts","export default function addMinutes(date: Date, amount: number): Date {\n    const newDate = new Date(date.getTime());\n\n    newDate.setMinutes(date.getMinutes() + amount);\n\n    return newDate;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/date-time/add-minutes.ts","export default function isFuture(date: Date): boolean {\n    return date.valueOf() > Date.now();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/date-time/is-future.ts","import { RequestSender, Response } from '@bigcommerce/request-sender';\n\nimport { mapToInternalAddress, Address } from '../../address';\nimport { RequestOptions } from '../../common/http-request';\n\nimport { InstrumentRequestContext } from './instrument';\nimport { InstrumentsResponseBody, VaultAccessTokenResponseBody } from './instrument-response-body';\n\nexport default class InstrumentRequestSender {\n    constructor(\n        private _client: any,\n        private _requestSender: RequestSender\n    ) {}\n\n    getVaultAccessToken({ timeout }: RequestOptions = {}): Promise<Response<VaultAccessTokenResponseBody>> {\n        const url = '/internalapi/v1/checkout/payments/vault-access-token';\n\n        return this._requestSender.get(url, { timeout });\n    }\n\n    loadInstruments(requestContext: InstrumentRequestContext, shippingAddress?: Address): Promise<Response<InstrumentsResponseBody>> {\n        return (shippingAddress) ?\n            this._loadInstrumentsWithAddress(requestContext, shippingAddress) :\n            this._loadInstruments(requestContext);\n    }\n\n    deleteInstrument(requestContext: InstrumentRequestContext, instrumentId: string): Promise<Response> {\n        const payload = {\n            ...requestContext,\n            instrumentId,\n        };\n\n        return new Promise((resolve, reject) => {\n            this._client.deleteShopperInstrument(payload, (error: Error, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    private _loadInstruments(requestContext: InstrumentRequestContext): Promise<Response<InstrumentsResponseBody>> {\n        return new Promise((resolve, reject) => {\n            this._client.loadInstruments(requestContext, (error: Error, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    private _loadInstrumentsWithAddress(requestContext: InstrumentRequestContext, shippingAddress: Address): Promise<Response<InstrumentsResponseBody>> {\n        const payload = {\n            ...requestContext,\n            shippingAddress: mapToInternalAddress(shippingAddress),\n        };\n\n        return new Promise((resolve, reject) => {\n            this._client.loadInstrumentsWithAddress(payload, (error: Error, response: any) => {\n                if (error) {\n                    reject(this._transformResponse(error));\n                } else {\n                    resolve(this._transformResponse(response));\n                }\n            });\n        });\n    }\n\n    private _transformResponse({ data: body, status, statusText }: any): Response {\n        return {\n            headers: {},\n            body,\n            status,\n            statusText,\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-request-sender.ts","import Instrument from './instrument';\nimport InstrumentState, { InstrumentMeta } from './instrument-state';\n\nexport default class InstrumentSelector {\n    constructor(\n        private _instruments: InstrumentState\n    ) {}\n\n    getInstruments(): Instrument[] | undefined {\n        return this._instruments.data;\n    }\n\n    getInstrumentsMeta(): InstrumentMeta | undefined {\n        return this._instruments.meta;\n    }\n\n    getLoadError(): Error | undefined {\n        return this._instruments.errors && this._instruments.errors.loadError;\n    }\n\n    getDeleteError(instrumentId?: string): Error | undefined {\n        if (!this._instruments.errors || (instrumentId && this._instruments.errors.failedInstrument !== instrumentId)) {\n            return;\n        }\n\n        return this._instruments.errors.deleteError;\n    }\n\n    isLoading(): boolean {\n        return !!(this._instruments.statuses && this._instruments.statuses.isLoading);\n    }\n\n    isDeleting(instrumentId?: string): boolean {\n        if (!this._instruments.statuses || (instrumentId && this._instruments.statuses.deletingInstrument !== instrumentId)) {\n            return false;\n        }\n\n        return !!this._instruments.statuses.isDeleting;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-selector.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\n\nimport * as actionTypes from './instrument-action-types';\n\nimport Instrument from './instrument';\nimport InstrumentState, { InstrumentErrorState, InstrumentMeta, InstrumentStatusState } from './instrument-state';\n\nconst DEFAULT_STATE = {\n    data: [],\n    errors: {},\n    statuses: {},\n};\n\nexport default function instrumentReducer(state: InstrumentState = DEFAULT_STATE, action: Action): InstrumentState {\n    const reducer = combineReducers<InstrumentState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        meta: metaReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(data: Instrument[] = DEFAULT_STATE.data, action: Action): Instrument[] {\n    switch (action.type) {\n    case actionTypes.LOAD_INSTRUMENTS_SUCCEEDED:\n        return action.payload.vaulted_instruments || [];\n\n    case actionTypes.DELETE_INSTRUMENT_SUCCEEDED:\n        return data.filter(instrument =>\n            instrument.bigpay_token !== action.meta.instrumentId\n        );\n\n    default:\n        return data;\n    }\n}\n\nfunction metaReducer(meta: InstrumentMeta | undefined, action: Action): InstrumentMeta | undefined {\n    switch (action.type) {\n    case actionTypes.LOAD_INSTRUMENTS_SUCCEEDED:\n    case actionTypes.DELETE_INSTRUMENT_SUCCEEDED:\n        return { ...meta, ...action.meta };\n\n    default:\n        return meta;\n    }\n}\n\nfunction errorsReducer(errors: InstrumentErrorState = DEFAULT_STATE.errors, action: Action): InstrumentErrorState {\n    switch (action.type) {\n    case actionTypes.LOAD_INSTRUMENTS_REQUESTED:\n    case actionTypes.LOAD_INSTRUMENTS_SUCCEEDED:\n        return { ...errors, loadError: undefined };\n\n    case actionTypes.DELETE_INSTRUMENT_REQUESTED:\n    case actionTypes.DELETE_INSTRUMENT_SUCCEEDED:\n        return {\n            ...errors,\n            deleteError: undefined,\n            failedInstrument: undefined,\n        };\n\n    case actionTypes.LOAD_INSTRUMENTS_FAILED:\n        return { ...errors, loadError: action.payload };\n\n    case actionTypes.DELETE_INSTRUMENT_FAILED:\n        return {\n            ...errors,\n            deleteError: action.payload,\n            failedInstrument: action.meta.instrumentId,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(statuses: InstrumentStatusState = DEFAULT_STATE.statuses, action: Action): InstrumentStatusState {\n    switch (action.type) {\n    case actionTypes.LOAD_INSTRUMENTS_REQUESTED:\n        return { ...statuses, isLoading: true };\n\n    case actionTypes.DELETE_INSTRUMENT_REQUESTED:\n        return {\n            ...statuses,\n            isDeleting: true,\n            deletingInstrument: action.meta.instrumentId,\n        };\n\n    case actionTypes.LOAD_INSTRUMENTS_SUCCEEDED:\n    case actionTypes.LOAD_INSTRUMENTS_FAILED:\n        return { ...statuses, isLoading: false };\n\n    case actionTypes.DELETE_INSTRUMENT_SUCCEEDED:\n    case actionTypes.DELETE_INSTRUMENT_FAILED:\n        return {\n            ...statuses,\n            isDeleting: false,\n            deletingInstrument: undefined,\n        };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/payment/instrument/instrument-reducer.ts","import { Action } from '@bigcommerce/data-store';\nimport { from } from 'rxjs/observable/from';\nimport { catchError } from 'rxjs/operators';\nimport { Observable, Subscribable } from 'rxjs/Observable';\n\nimport { RequestErrorFactory } from '../common/error';\n\nexport default function createActionTransformer(\n    requestErrorFactory: RequestErrorFactory\n): (action: Subscribable<Action>) => Observable<Action> {\n    return action$ => from(action$).pipe(catchError<Action, never>(action => {\n        if (action instanceof Error || action.payload instanceof Error) {\n            throw action;\n        }\n\n        if (isResponse(action.payload)) {\n            throw { ...action, payload: requestErrorFactory.createError(action.payload) };\n        }\n\n        throw action;\n    }));\n}\n\nfunction isResponse(object: any) {\n    if (!object || typeof object !== 'object') {\n        return false;\n    }\n\n    return ['body', 'headers', 'status', 'statusText'].every(key =>\n        object.hasOwnProperty(key)\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-action-transformer.ts","module.exports = require(\"rxjs/operators\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/operators\"\n// module id = 254\n// module chunks = 0 1","import { combineReducers, Action, Reducer } from '@bigcommerce/data-store';\n\nimport { billingAddressReducer } from '../billing';\nimport { cartReducer } from '../cart';\nimport { configReducer } from '../config';\nimport { couponReducer, giftCertificateReducer } from '../coupon';\nimport { customerReducer, customerStrategyReducer } from '../customer';\nimport { countryReducer } from '../geography';\nimport { orderReducer } from '../order';\nimport { paymentMethodReducer, paymentReducer, paymentStrategyReducer } from '../payment';\nimport { instrumentReducer } from '../payment/instrument';\nimport { remoteCheckoutReducer } from '../remote-checkout';\nimport { consignmentReducer, shippingCountryReducer, shippingStrategyReducer } from '../shipping';\n\nimport checkoutReducer from './checkout-reducer';\nimport CheckoutStoreState from './checkout-store-state';\n\nexport default function createCheckoutStoreReducer(): Reducer<CheckoutStoreState, Action> {\n    return combineReducers({\n        billingAddress: billingAddressReducer,\n        cart: cartReducer,\n        checkout: checkoutReducer,\n        config: configReducer,\n        consignments: consignmentReducer,\n        countries: countryReducer,\n        coupons: couponReducer,\n        customer: customerReducer,\n        customerStrategies: customerStrategyReducer,\n        giftCertificates: giftCertificateReducer,\n        instruments: instrumentReducer,\n        order: orderReducer,\n        payment: paymentReducer,\n        paymentMethods: paymentMethodReducer,\n        paymentStrategies: paymentStrategyReducer,\n        remoteCheckout: remoteCheckoutReducer,\n        shippingCountries: shippingCountryReducer,\n        shippingStrategies: shippingStrategyReducer,\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/create-checkout-store-reducer.ts","import { combineReducers, Action } from '@bigcommerce/data-store';\nimport { omit } from 'lodash';\n\nimport { BillingAddressAction, BillingAddressActionType } from '../billing';\nimport { CouponAction, CouponActionType, GiftCertificateAction, GiftCertificateActionType } from '../coupon';\nimport { OrderAction, OrderActionType } from '../order';\nimport { ConsignmentAction, ConsignmentActionType } from '../shipping';\n\nimport { CheckoutAction, CheckoutActionType } from './checkout-actions';\nimport CheckoutState, { CheckoutDataState, CheckoutErrorsState, CheckoutStatusesState } from './checkout-state';\n\nconst DEFAULT_STATE: CheckoutState = {\n    errors: {},\n    statuses: {},\n};\n\nexport default function checkoutReducer(\n    state: CheckoutState = DEFAULT_STATE,\n    action: Action\n): CheckoutState {\n    const reducer = combineReducers<CheckoutState>({\n        data: dataReducer,\n        errors: errorsReducer,\n        statuses: statusesReducer,\n    });\n\n    return reducer(state, action);\n}\n\nfunction dataReducer(\n    data: CheckoutDataState | undefined,\n    action: CheckoutAction | BillingAddressAction | ConsignmentAction | CouponAction | GiftCertificateAction | OrderAction\n): CheckoutDataState | undefined {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutSucceeded:\n    case BillingAddressActionType.UpdateBillingAddressSucceeded:\n    case CouponActionType.ApplyCouponSucceeded:\n    case CouponActionType.RemoveCouponSucceeded:\n    case ConsignmentActionType.CreateConsignmentsSucceeded:\n    case ConsignmentActionType.UpdateConsignmentSucceeded:\n    case GiftCertificateActionType.ApplyGiftCertificateSucceeded:\n    case GiftCertificateActionType.RemoveGiftCertificateSucceeded:\n        return action.payload\n            ? omit({ ...data, ...action.payload }, ['billingAddress', 'cart', 'consignments', 'customer', 'coupons', 'giftCertifcates'])\n            : data;\n\n    case OrderActionType.SubmitOrderSucceeded:\n        return action.payload && data\n            ? { ...data, orderId: action.payload.order.orderId }\n            : data;\n\n    default:\n        return data;\n    }\n}\n\nfunction errorsReducer(\n    errors: CheckoutErrorsState = DEFAULT_STATE.errors,\n    action: CheckoutAction | OrderAction\n): CheckoutErrorsState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return {\n            ...errors,\n            loadError: undefined,\n        };\n\n    case CheckoutActionType.LoadCheckoutFailed:\n        return {\n            ...errors,\n            loadError: action.payload,\n        };\n\n    default:\n        return errors;\n    }\n}\n\nfunction statusesReducer(\n    statuses: CheckoutStatusesState = DEFAULT_STATE.statuses,\n    action: CheckoutAction | OrderAction\n): CheckoutStatusesState {\n    switch (action.type) {\n    case CheckoutActionType.LoadCheckoutRequested:\n        return {\n            ...statuses,\n            isLoading: true,\n        };\n\n    case CheckoutActionType.LoadCheckoutFailed:\n    case CheckoutActionType.LoadCheckoutSucceeded:\n        return {\n            ...statuses,\n            isLoading: false,\n        };\n\n    default:\n        return statuses;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkout/checkout-reducer.ts","export { default as FormSelector } from './form-selector';\nexport { default as FormField } from './form-field';\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.ts","import { find } from 'lodash';\n\nimport { selector } from '../common/selector';\nimport { ConfigState } from '../config';\nimport { Country } from '../geography';\n\nimport FormField from './form-field';\n\n@selector\nexport default class FormSelector {\n    constructor(\n        private _config: ConfigState\n    ) {}\n\n    getShippingAddressFields(countries: Country[] = [], countryCode: string): FormField[] {\n        const selectedCountry = find(countries, { code: countryCode });\n        const fields = this._config.data ? this._config.data.storeConfig.formFields.shippingAddressFields : [];\n\n        return fields.map((field: any) => this._processField(field, countries, selectedCountry));\n    }\n\n    getBillingAddressFields(countries: Country[] = [], countryCode: string): FormField[] {\n        const selectedCountry = find(countries, { code: countryCode });\n        const fields = this._config.data ? this._config.data.storeConfig.formFields.billingAddressFields : [];\n\n        return fields.map((field: any) => this._processField(field, countries, selectedCountry));\n    }\n\n    private _processField(field: FormField, countries: Country[], selectedCountry?: Country): FormField {\n        if (field.name === 'countryCode') {\n            return this._processCountry(field, countries, selectedCountry);\n        }\n\n        if (field.name === 'stateOrProvince') {\n            return this._processProvince(field, selectedCountry);\n        }\n\n        if (field.name === 'postalCode') {\n            return this._processsPostCode(field, selectedCountry);\n        }\n\n        return field;\n    }\n\n    private _processCountry(field: FormField, countries: Country[] = [], country?: Country): FormField {\n        if (!countries.length) {\n            return field;\n        }\n\n        const { code = '' } = country || {};\n        const items = countries.map(({ code, name }: any) => ({\n            value: code,\n            label: name,\n        }));\n\n        return {\n            ...field,\n            options: { items },\n            default: code,\n            type: 'array',\n            fieldType: 'dropdown',\n            itemtype: 'string',\n        };\n    }\n\n    private _processProvince(field: FormField, country?: Country): FormField {\n        const { subdivisions = [] } = country || {};\n\n        if (!subdivisions.length) {\n            return {\n                ...field,\n                required: false,\n            };\n        }\n\n        const items = subdivisions.map(({ code, name }: any) => ({\n            value: code,\n            label: name,\n        }));\n\n        return {\n            ...field,\n            name: 'stateOrProvinceCode',\n            options: { items },\n            required: true,\n            type: 'array',\n            fieldType: 'dropdown',\n            itemtype: 'string',\n        };\n    }\n\n    private _processsPostCode(field: FormField, country?: Country): FormField {\n        const { hasPostalCodes = [] } = country || {};\n\n        if (hasPostalCodes === undefined) {\n            return field;\n        }\n\n        return { ...field, required: Boolean(hasPostalCodes) };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/form-selector.ts","/// <reference path=\"./messageformat.d.ts\" />\nimport { isObject, union } from 'lodash';\nimport * as MessageFormat from 'messageformat';\n\nimport Logger from '../common/log/logger';\n\nimport LanguageConfig, { Locales, Translations } from './language-config';\n\nconst DEFAULT_LOCALE = 'en';\nconst KEY_PREFIX = 'optimized_checkout';\n\n/**\n * Responsible for getting language strings.\n *\n * This object can be used to retrieve language strings that are most\n * appropriate for a given locale.\n *\n * The language strings provided to the object should follow [ICU\n * MessageFormat](http://userguide.icu-project.org/formatparse/messages) syntax.\n */\nexport default class LanguageService {\n    private _locale: string;\n    private _locales: Locales;\n    private _translations: Translations;\n    private _formatters: { [key: string]: any };\n\n    /**\n     * @internal\n     */\n    constructor(\n        config: Partial<LanguageConfig>,\n        private _logger: Logger\n    ) {\n        const { locale, locales, translations } = this._transformConfig(config);\n\n        this._locale = locale;\n        this._locales = locales;\n        this._translations = translations;\n        this._formatters = {};\n    }\n\n    /**\n     * Remaps a set of language strings with a different set of keys.\n     *\n     * ```js\n     * service.mapKeys({\n     *     'new_key': 'existing_key',\n     * });\n     *\n     * console.log(service.translate('new_key'));\n     * ```\n     *\n     * @param maps - The set of language strings.\n     */\n    mapKeys(maps: { [key: string]: string }): void {\n        Object.keys(maps).forEach(key => {\n            const translationKey = `${KEY_PREFIX}.${maps[key]}`;\n\n            this._translations[`${KEY_PREFIX}.${key}`] = this._translations[translationKey];\n        });\n    }\n\n    /**\n     * Gets the preferred locale of the current customer.\n     *\n     * @returns The preferred locale code.\n     */\n    getLocale(): string {\n        return this._hasTranslations() ? this._locale : DEFAULT_LOCALE;\n    }\n\n    /**\n     * Gets a language string by a key.\n     *\n     * ```js\n     * service.translate('language_key');\n     * ```\n     *\n     * If the language string contains a placeholder, you can replace it by\n     * providing a second argument.\n     *\n     * ```js\n     * service.translate('language_key', { placeholder: 'Hello' });\n     * ```\n     *\n     * @param key - The language key.\n     * @param data - Data for replacing placeholders in the language string.\n     * @returns The translated language string.\n     */\n    translate(key: string, data: TranslationData = {}): string {\n        const prefixedKey = `${KEY_PREFIX}.${key}`;\n\n        if (typeof this._translations[prefixedKey] !== 'string') {\n            this._logger.warn(`Translation key \"${prefixedKey}\" is missing`);\n\n            return prefixedKey;\n        }\n\n        if (!this._formatters[prefixedKey]) {\n            const messageFormat = new MessageFormat(this._locales[prefixedKey]);\n\n            this._formatters[prefixedKey] = messageFormat.compile(this._translations[prefixedKey] || '');\n        }\n\n        return this._formatters[prefixedKey](this._transformData(data));\n    }\n\n    private _transformConfig(config: Partial<LanguageConfig> = {}): LanguageConfig {\n        const output: LanguageConfig = {\n            defaultTranslations: {},\n            translations: {},\n            locales: {},\n            locale: config.locale || DEFAULT_LOCALE,\n        };\n\n        const locales = config.locales || {};\n        const translations = this._flattenObject(config.translations || {});\n        const defaultTranslations = this._flattenObject(config.defaultTranslations || {});\n        const translationKeys = union(Object.keys(defaultTranslations), Object.keys(translations));\n\n        translationKeys.forEach(key => {\n            if (translations && translations[key]) {\n                output.translations[key] = translations[key];\n                output.locales[key] = locales[key] || output.locale;\n            } else {\n                output.translations[key] = defaultTranslations[key];\n                output.locales[key] = DEFAULT_LOCALE;\n            }\n        });\n\n        return output;\n    }\n\n    private _flattenObject(object: Translations, result: Translations = {}, parentKey: string = ''): Translations {\n        try {\n            Object.keys(object).forEach(key => {\n                const value = object[key];\n                const resultKey = parentKey ? `${parentKey}.${key}` : key;\n\n                if (isObject(value)) {\n                    return this._flattenObject(value as Translations, result, resultKey);\n                }\n\n                result[resultKey] = value;\n            });\n        } catch (err) {\n            this._logger.warn(`Unable to parse object: ${err}`);\n        }\n\n        return result;\n    }\n\n    private _transformData(data: TranslationData): TranslationData {\n        return Object.keys(data).reduce((result, key) => {\n            const value = data[key];\n\n            result[key] = value === null || value === undefined ? '' : value;\n\n            return result;\n        }, {} as TranslationData);\n    }\n\n    private _hasTranslations(): boolean {\n        return Object.keys(this._locales).map(key => this._locales[key])\n            .filter(code => code.split('-')[0] === this._locale.split('-')[0])\n            .length > 0;\n    }\n}\n\nexport interface TranslationData {\n    [key: string]: string | number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale/language-service.ts","export { createTimeout } from '@bigcommerce/request-sender';\n\nexport { createCheckoutService } from './checkout';\nexport { createLanguageService } from './locale';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","export { default as createLanguageService } from './create-language-service';\nexport { default as LanguageService } from './language-service';\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale/index.ts","import { getDefaultLogger } from '../common/log';\n\nimport LanguageConfig from './language-config';\nimport LanguageService from './language-service';\n\n/**\n * Creates an instance of `LanguageService`.\n *\n * ```js\n * const language = {{{langJson 'optimized_checkout'}}}; // `langJson` is a Handlebars helper provided by BigCommerce's Stencil template engine.\n * const service = createLanguageService(language);\n *\n * console.log(service.translate('address.city_label'));\n * ```\n *\n * @param config - A configuration object.\n * @returns An instance of `LanguageService`.\n */\nexport default function createLanguageService(config: Partial<LanguageConfig> = {}): LanguageService {\n    return new LanguageService(\n        config,\n        getDefaultLogger()\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale/create-language-service.ts","module.exports = require(\"messageformat\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"messageformat\"\n// module id = 263\n// module chunks = 0"],"sourceRoot":""}